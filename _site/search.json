[
  {
    "objectID": "blog/index.html",
    "href": "blog/index.html",
    "title": "Some Pitters and Patters with R",
    "section": "",
    "text": "Electricity use of AI coding agents\n\n\nMost of the discourse about the environmental impact of LLM use focuses on a ‚Äòmedian query.‚Äô What about a Claude Code session?\n\n\n\n\n\nJan 20, 2026\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nchores 0.3.0 and local LLMs\n\n\nThere are now small models capable of powering chores helpers.\n\n\n\n\n\nDec 10, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nLocal models are not there (yet)\n\n\nLLMs that can run on your laptop are not yet capable enough to drive coding agents.\n\n\n\n\n\nDec 4, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nAnalyzing my music listening data with Databot\n\n\nIt‚Äôs Spotify Wrapped season.\n\n\n\n\n\nDec 3, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nWhen plotting, LLMs see what they expect to see\n\n\nData science agents need to accurately read plots even when the content contradicts their expectations.\n\n\n\n\n\nNov 26, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nside::kick(), a coding agent for RStudio\n\n\nOpen-source AI for RStudio, built entirely in R.\n\n\n\n\n\nNov 11, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nI‚Äôm‚Ä¶ writing a newsletter?\n\n\nSara Altman and I have been working on a newsletter focused on AI.\n\n\n\n\n\nOct 8, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nI was wrong about tidymodels and LLMs\n\n\nToday‚Äôs frontier LLMs know much more about tidymodels than I thought.\n\n\n\n\n\nAug 26, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nR and the Model Context Protocol\n\n\nThe newly released mcptools package makes coding assistants better at writing R code and applications built with ellmer more powerful.\n\n\n\n\n\nAug 14, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow I‚Äôm using Claude Code to write R code\n\n\nGiving Claude Code the ability to peruse R package documentation via MCP is so, so helpful.\n\n\n\n\n\nJul 17, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nKimi K2 and R Coding\n\n\nAn open-weights model released over the weekend by a little-known company has drawn quite a bit of attention. Is it any good?\n\n\n\n\n\nJul 14, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nClaude 4 and R Coding\n\n\nEvaluating the most recent releases of Claude Sonnet and Opus on challenging R coding problems.\n\n\n\n\n\nMay 27, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nEvaluating Gemini 2.5 Flash on R coding tasks\n\n\nGoogle‚Äôs Gemini 2.5 Pro release really made a splash last month. They‚Äôve just announced an update to 2.5 Flash, a faster and cheaper model.\n\n\n\n\n\nMay 21, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nEvaluating the new Gemini 2.5 Pro update on R coding\n\n\nThe initial Gemini 2.5 Pro release a month ago was surprisingly strong, so I was excited to benchmark the update announced yesterday on R coding problems.\n\n\n\n\n\nMay 7, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nEvaluating o3 and o4-mini on R coding performance\n\n\nWith a pair of coding-focused model drops, it‚Äôs clear OpenAI is aiming for the developer market. How well do the newest o3 and o4-mini perform on R coding tasks?\n\n\n\n\n\nApr 18, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow good are the GPT 4.1 models at writing R code?\n\n\nOpenAI dropped a trio of models yesterday that they claim result from ‚Äúfocusing closely on real-world developer needs.‚Äù I was curious whether this might mean stronger R coding performance.\n\n\n\n\n\nApr 15, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nIntroducing chores\n\n\nA package to help with repetitive but hard-to-automate data science tasks.\n\n\n\n\n\nApr 11, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow Good Is Gemini 2.5 Pro at Writing R Code?\n\n\nSince Gemini 2.5 Pro‚Äôs release last week, I‚Äôve been seeing a lot of hype claiming that the model is the new state of the art. How well does it know R?\n\n\n\n\n\nApr 2, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow I‚Äôm Using Claude Code to Develop R Packages\n\n\nI‚Äôve come to really appreciate having Claude Code as part of my LLM toolkit, but it‚Äôs taken a bit of getting used to.\n\n\n\n\n\nMar 26, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nExploring Biases in GPT-4o, Claude, and Qwen2.5 Judgements\n\n\nWhat happens when you ask language models to evaluate their own output?\n\n\n\n\n\nJan 30, 2025\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nWhich names that are also names of countries are most common?\n\n\nSitting around the living room over the weekend, someone asked this question. Let‚Äôs poke at an answer.\n\n\n\n\n\nDec 23, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nAnnouncing a new book\n\n\nToday, during R/Pharma 2024, I open-sourced the draft of a book I‚Äôve been working on.\n\n\n\n\n\nOct 29, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nPostprocessing is coming to tidymodels\n\n\nThe tidymodels team has been hard at work on postprocessing, a set of features to adjust model predictions. The functionality includes a new package as well as changes across the framework.\n\n\n\n\n\nOct 16, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nA new package for profiling parallel R code\n\n\nPeriodic snapshots of CPU and memory usage consumed by R sessions enable better analyses of parallel computation.\n\n\n\n\n\nJul 15, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow to best parallelize boosted tree model fits with tidymodels\n\n\nShould tidymodels users use the parallelism implementations from XGBoost and LightGBM?\n\n\n\n\n\nMay 13, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nMeasuring elapsed time to fit with tidymodels\n\n\nThe development versions of tidymodels packages now include tools to benchmark training time.\n\n\n\n\n\nApr 8, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nRun an Oracle Database with Docker Desktop on ARM (M1, M2, M3) MacOS\n\n\nStarting a containerized Oracle database on an Apple Silicon Mac.\n\n\n\n\n\nMar 14, 2024\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nAnalyzing my own music listening data with R and the tidyverse (2023)\n\n\nAll of my friends are posting their Spotify Wrapped, and I‚Äôm jealous.\n\n\n\n\n\nNov 30, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nPredicting flight delays with tidymodelsüõ©\n\n\nTrying out a variety of machine learning models to predict flight delays out of Madison, WI.\n\n\n\n\n\nNov 28, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nQuarto!\n\n\nI recently rebuilt this site with Quarto.\n\n\n\n\n\nOct 24, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nDown the submodels rabbit hole with tidymodels\n\n\nDebugging something that turned out not to be a bug at all.\n\n\n\n\n\nOct 11, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHiking the 2023 John Muir Trail / N√º√ºm√º Poyo\n\n\nA group of buddies and I walked 242 miles from Mt. Whitney to Yosemite Valley.\n\n\n\n\n\nSep 1, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nOptimizing model parameters faster with tidymodels\n\n\nA couple small changes can greatly speed up the hyperparameter tuning process with tidymodels.\n\n\n\n\n\nAug 4, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nMoving On From Baltimore\n\n\nAfter 2 years in Baltimore, I recently made the move to Chicago, IL.\n\n\n\n\n\nJul 28, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nThe tidymodels is getting a whole lot faster\n\n\nRecent optimizations have made fits on small datasets much, much snappier.\n\n\n\n\n\nMar 24, 2023\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nAnalyzing my own music listening data with R and the tidyverse\n\n\nAll of my friends are posting their Spotify Wrapped, and I‚Äôm jealous.\n\n\n\n\n\nDec 1, 2022\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nRedirecting from sub-domains with Netlify\n\n\nAfter merging two websites that deployed from different branches, I had to figure out how to redirect my old blog posts to their new home.\n\n\n\n\n\nJul 20, 2022\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\n{infer} v1.0.0 is on CRAN\n\n\nSome short reflections on working on the {infer} R package.\n\n\n\n\n\nAug 21, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nApplying to the NSF Graduate Research Fellowship (GRFP)\n\n\nA compilation of the advice that made me feel most informed and confident while applying for the NSF Graduate Research Fellowship.\n\n\n\n\n\nAug 2, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nPipe-esque Programming with {ggplot2}‚Äôs Plus Operator\n\n\nWriting iterative code with ‚Äò+‚Äô rather than ‚Äò%&gt;%‚Äô was a tough transition my first time around.\n\n\n\n\n\nJun 10, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nBig Things (Developer Documentation pt.¬†4)\n\n\nOn the tension between documenting R packages exhaustively and maintainably.\n\n\n\n\n\nMay 13, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nNaming the Things (Developer Documentation pt.¬†3)\n\n\nWeighing the pros and cons of several possible schemas for naming the core functions in {stacks}.\n\n\n\n\n\nMay 12, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nSplitting Things Up (Developer Documentation pt.¬†2)\n\n\nWhy {stacks} requires (at least) four separate functions to build an ensemble model rather than wrapping them all up into one.\n\n\n\n\n\nMay 11, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nHow {stacks} Came To Be (Developer Documentation pt.¬†1)\n\n\nIntroducing a set of blog posts reflecting on the development process of the {stacks} package.\n\n\n\n\n\nMay 10, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nWhat‚Äôs Next For Me\n\n\n\n\n\n\n\n\nMar 23, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nApplying to Graduate School in Statistics and Biostatistics\n\n\nThere were all sorts of tips and tricks about applying to grad school that I was only able to learn about via office hours, personal meetings, and Twitter DMs, and I thought it would be worth publicly compiling some lessons learned.\n\n\n\n\n\nMar 15, 2021\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nRunning R Scripts on a Schedule with GitHub Actions\n\n\nSome pointers on running R scripts and committing their results to a GitHub repository on a regular interval using Actions.\n\n\n\n\n\nDec 27, 2020\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\n{stacks} v0.1.0 is on CRAN!\n\n\nIntroducing ensemble learning to the tidymodels.\n\n\n\n\n\nNov 30, 2020\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nProgramatically Generating PDF Reports with the Tidyverse\n\n\nIn a few different roles over the past few years, I‚Äôve come across the problem of programatically generating some kind of PDF reports from data. Here are some tips/tricks I‚Äôve come across while making that happen.\n\n\n\n\n\nNov 12, 2020\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nA Gentle Introduction to Tidy Model Stacking\n\n\nModel stacking is an ensembling technique that involves training a model to combine the outputs of many diverse statistical models. The stacks package implements a grammar for tidymodels-aligned model stacking.\n\n\n\n\n\nOct 27, 2020\n\n\n¬†\n\n\n\n\n\n\n\n\n\n\n\n\nThe Blog Thing! We‚Äôre Doing It!\n\n\nFor a while now, I‚Äôve wished I had a place to share some short posts on what I‚Äôm up to related to R, data science, and statistics. I decided I‚Äôd take a Sunday to get this subdomain up and running!\n\n\n\n\n\nOct 11, 2020\n\n\n¬†\n\n\n\n\n\nNo matching items\n\n  \n\nReuseCC BY-SA 4.0"
  },
  {
    "objectID": "about/index.html",
    "href": "about/index.html",
    "title": "Simon P. Couch",
    "section": "",
    "text": "I appreciate you dropping by.\n\n\nMy name‚Äôs Simon. I build tools for data scientists at Posit (formerly called RStudio).\nThroughout my career so far, I‚Äôve had a deep and enduring interest in statistical software development‚ÄîI think, done well, statistical software has an incredible impact on our ability to think intuitively about statistics and data science.\nI worked on open source R packages for data analysis and machine for a number of years before transitioning to focusing on LLMs in late 2024. Since then, I‚Äôve pushed the boundaries of LLM tooling for data scientists and developed a number of coding agents. My GitHub profile links out to some of the projects I spend my time with.\nI‚Äôm currently based out of Chicago, IL. When I‚Äôm not working, I enjoy cooking, hanging with my dog Millie, and playing American folk music.\nThis site is built with Quarto, and I‚Äôve repo-dived on Silvia Canel√≥n, Julia Silge, and Emil Hvitfeldt‚Äôs personal websites while tweaking and troubleshooting. The site is deployed using Netlify. My blog posts are released under a Creative Commons Attribution-ShareAlike 4.0 International License.\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html",
    "href": "blog/2025-12-10-chores-0-3-0/index.html",
    "title": "chores 0.3.0 and local LLMs",
    "section": "",
    "text": "The tl;dr:"
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#the-chores-package",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#the-chores-package",
    "title": "chores 0.3.0 and local LLMs",
    "section": "The chores package",
    "text": "The chores package\nThe chores package provides a library of ergonomic LLM assistants designed to help you complete repetitive, hard-to-automate tasks quickly. After selecting some code, you can press a keyboard shortcut, select a helper that corresponds to a system prompt, and watch your code be rewritten.\n\nWhen you select some code and a chore helper, what‚Äôs happening under the hood is that the package first retrieves the prompt corresponding the system prompt you chose. For example, the prompt for templating out roxygen2 function documentation looks like this:\n\n\nTemplating function documentation\nYou are a terse assistant designed to help R package developers quickly template out their function documentation using roxygen2. Given some highlighted function code, return minimal documentation on the function‚Äôs parameters and return type. Beyond those two elements, be sparing so as not to describe things you don‚Äôt have context for. Respond with only R #' roxygen2 comments‚Äîno backticks or newlines around the response, no further commentary.\nFor function parameters in @params, describe each according to their type (e.g.¬†‚ÄúA numeric vector‚Äù or ‚ÄúA single string‚Äù) and note if the parameter isn‚Äôt required by writing ‚ÄúOptional‚Äù if it has a default value. If the parameters have a default enum (e.g.¬†arg = c(\"a\", \"b\", \"c\")), write them out as ‚Äòone of \"a\", \"b\", or \"c\".‚Äô If there are ellipses in the function signature, note what happens to them. If they‚Äôre checked with rlang::check_dots_empty() or otherwise, document them as ‚ÄúCurrently unused; must be empty.‚Äù If the ellipses are passed along to another function, note which function they‚Äôre passed to.\nFor the return type in @returns, note any important errors or warnings that might occur and under what conditions. If the output is returned with invisible(output), note that it‚Äôs returned ‚Äúinvisibly.‚Äù\nHere are some examples:\nGiven:\nkey_get &lt;- function(name, error_call = caller_env()) {\n  val &lt;- Sys.getenv(name)\n  if (!identical(val, \"\")) {\n    val\n  } else {\n    if (is_testing()) {\n      testthat::skip(sprintf(\"%s env var is not configured\", name))\n    } else {\n      cli::cli_abort(\"Can't find env var {.code {name}}.\", call = error_call)\n    }\n  }\n}\nReply with:\n#' Get key\n#'\n#' @description\n#' A short description...\n#' \n#' @param name A single string.\n#' @param error_call A call to mention in error messages. Optional.\n#'\n#' @returns \n#' If found, the value corresponding to the provided `name`. Otherwise,\n#' the function will error.\n#'\n#' @export\nGiven:\nchat_perform &lt;- function(provider,\n                         mode = c(\"value\", \"stream\", \"async-stream\", \"async-value\"),\n                         turns,\n                         tools = list(),\n                         extra_args = list()) {\n\n  mode &lt;- arg_match(mode)\n  stream &lt;- mode %in% c(\"stream\", \"async-stream\")\n\n  req &lt;- chat_request(\n    provider = provider,\n    turns = turns,\n    tools = tools,\n    stream = stream,\n    extra_args = extra_args\n  )\n\n  switch(mode,\n    \"value\" = chat_perform_value(provider, req),\n    \"stream\" = chat_perform_stream(provider, req),\n    \"async-value\" = chat_perform_async_value(provider, req),\n    \"async-stream\" = chat_perform_async_stream(provider, req)\n  )\n}\nReply with:\n#' Perform chat\n#'\n#' @description\n#' A short description...\n#' \n#' @param provider A provider.\n#' @param mode One of `\"value\"`, `\"stream\"`, `\"async-stream\"`, or `\"async-value\"`.\n#' @param turns Turns.\n#' @param tools Optional. A list of tools.\n#' @param extra_args Optional. A list of extra arguments.\n#'\n#' @returns \n#' A result.\n#'\n#' @export\nGiven:\ncheck_args &lt;- function(fn, ...) {\n  rlang::check_dots_empty()\n  arg_names &lt;- names(formals(fn))\n  if (length(arg_names) &lt; 2) {\n    cli::cli_abort(\"Function must have at least two arguments.\", .internal = TRUE)\n  } else if (arg_names[[1]] != \"self\") {\n    cli::cli_abort(\"First argument must be {.arg self}.\", .internal = TRUE)\n  } else if (arg_names[[2]] != \"private\") {\n    cli::cli_abort(\"Second argument must be {.arg private}.\", .internal = TRUE)\n  }\n  invisible(fn)\n}\nReply with:\n#' Check a function's arguments\n#'\n#' @description\n#' A short description...\n#' \n#' @param fn A function.\n#' @param ... Currently unused; must be empty.\n#'\n#' @returns \n#' `fn`, invisibly. The function will instead raise an error if the function\n#' doesn't take first argument `self` and second argument `private`.\n#'\n#' @export\nWhen two functions are supplied, only provide documentation for the first function, only making use of later functions as additional context. For example:\nGiven:\ncheck_args &lt;- function(fn, ...) {\n  rlang::check_dots_empty()\n  arg_names &lt;- names(formals(fn))\n  if (length(arg_names) &lt; 2) {\n    error_less_than_two_args()\n  } else if (arg_names[[1]] != \"self\") {\n    cli::cli_abort(\"First argument must be {.arg self}.\", .internal = TRUE)\n  } else if (arg_names[[2]] != \"private\") {\n    cli::cli_abort(\"Second argument must be {.arg private}.\", .internal = TRUE)\n  }\n  invisible(fn)\n}\n\nerror_less_than_two_args &lt;- function(call = caller_env()) {\n  cli::cli_abort(\"Function must have at least two arguments.\", call = call, .internal = TRUE)\n}\nReply with:\n#' Check a function's arguments\n#'\n#' @description\n#' A short description...\n#' \n#' @param fn A function.\n#' @param ... Currently unused; must be empty.\n#'\n#' @returns \n#' `fn`, invisibly. The function will instead raise an error if the function\n#' doesn't take first argument `self` and second argument `private`.\n#'\n#' @export\n\n\nThen, the selected helper prompt is set as the system prompt and the code you selected is set as the user prompt in a call to ellmer::Chat(). It looks something like this:\n\nlibrary(ellmer)\n\nch &lt;- chat_anthropic(system_prompt = the_prompt_from_above)\n \nch$chat(\"&lt;the code you selected&gt;\")\n#&gt; #' The documentation for the selected code.\n#&gt; #' \n#&gt; #' Yada yada yada."
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#choosing-a-model",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#choosing-a-model",
    "title": "chores 0.3.0 and local LLMs",
    "section": "Choosing a model",
    "text": "Choosing a model\nThe chores package allows you to use any model you can connect to with ellmer. So, how do you choose which one to use?\nThe model powering chores needs the following characteristics:\n\nStrict instruction-following: Looking back at that roxygen prompt, those instructions make two asks of LLMs that are pretty difficult for models that have been trained so strictly into the ‚Äúhelpful assistant‚Äù role: no exposition or explanatory text before or after the roxygen comments, and no (triple) backticks around the response. The chores package writes the LLMs‚Äô output directly to the source file, so it‚Äôs really frustrating when models provide any text other than what‚Äôs requested.\nMinimally- or non-thinking: Thinking adds latency and shouldn‚Äôt be necessary to complete these tasks. There are many interfaces where thinking is nice and/or necessary, but this isn‚Äôt one of them.\n\nNotably, the model does not need the ability to call tools, carry out long-horizon tasks, or be a pleasant conversationalist. It‚Äôs fine if the model used with chores is bad at pretty much everything besides writing syntactically valid code in compliance with the instructions in the provided prompt.\nIn the package documentation, I recommend Claude 3.7 Sonnet and GPT 4.1 (optionally, -mini).1 Up to this point, though, I‚Äôd thought you really had needed to use a frontier-ish model to get any value out of chores. It‚Äôs seemed to me that many of the models that I can currently run on my laptop (up to late 2025) had been trained into the ‚ÄúI‚Äôm a helpful assistant‚Äù persona so strictly‚Äìeven those that are advertised as instruction-tuned‚Äìthat they‚Äôll ramble on and on before and after providing the requested code, even if the provided code is reasonable.\nIn some ways, some time just needed to pass, but I also had overlooked a critical issue (and seemingly everyone else that‚Äôs tried to use chores with local models). In working on another problem, I learned that:\n\nollama‚Äôs and LM Studio‚Äôs default context length is 4,096 tokens, even for models that support much longer context windows, and\nIf you provide a prompt that‚Äôs greater than the size of the context length, it will be truncated to fit inside the length rather than erroring.\n\nI think this probably contributed to my misconception that models small enough to run on my laptop weren‚Äôt capable of powering chores. Once I trimmed the cli helper prompt to fit inside the context window (and/or increased the size of the context length in LM Studio) with some wiggle room, I saw much more promising results on these tasks than I had seen from local models before."
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#a-new-kid-on-the-block",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#a-new-kid-on-the-block",
    "title": "chores 0.3.0 and local LLMs",
    "section": "A new kid on the block",
    "text": "A new kid on the block\nSo, even with the models that I had ollama pulled a few months ago, I realized we were already closer to local models powering chores than I had thought. At that point, I wondered what the newest releases were that might show stronger performance. In particular, I‚Äôve been pretty amazed by several of the Qwen3 models, so I started there.\nAfter some pokings-around, I think that Qwen3 4B Instruct 2507 is a great model for local use with chores. Here‚Äôs a real-time (as in, not sped up) demo of that model in action on my M4 Macbook:\n\nThe cli refactor is a little bit wonky; the model chose to use backticks around the env var markup rather than curly braces, which won‚Äôt render correctly. The templating for the roxygen2 documentation is totally reasonable. Performance isn‚Äôt quite Claude 3.7 Sonnet, but I‚Äôm pretty blown away by how good it is.\nIf you‚Äôre interested in trying this model out, you can either use LM Studio or ollama.\nOn Apple Silicon (Mac M-series), I recommend LM Studio; LM Studio supports MLX, an array framework for Apple Silicon, which helps the model run much more quickly than with ollama. Click ‚ÄúDiscover‚Äù, search ‚ÄúQwen3 4B Instruct 2507‚Äù, and click ‚ÄúDownload.‚Äù Once downloaded, click the ‚ÄúDeveloper‚Äù tab and change the Status from Stopped to Running. Then, in R, configure chores with:\nqwen3_4b &lt;- ellmer::chat_openai_compatible(\n  base_url = \"http://127.0.0.1:1234/v1\",\n  model = \"qwen/qwen3-4b-2507\"\n)\n\noptions(chores.chat = qwen3_4b)\nNote the /v1 in the base URL; this will hit LM Studio‚Äôs OpenAI API completions v1 endpoint.\nOn other systems, you could also use Ollama. Run ollama pull qwen3:4b-instruct at the terminal, then set options(chores.chat = ellmer::chat_ollama(model = \"qwen3:4b-instruct\")).\nAt least with MLX on LM Studio, the model takes up 2.5GB of disk space and requires 2.5GB of RAM to run."
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#oh-and-chores",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#oh-and-chores",
    "title": "chores 0.3.0 and local LLMs",
    "section": "Oh, and chores",
    "text": "Oh, and chores\nFor a good experience ‚Äúby default‚Äù (i.e.¬†without the need to change the context length in LM Studio to use the default helpers), install the new release of chores with install.packages(\"chores\")!"
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#footnotes",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#footnotes",
    "title": "chores 0.3.0 and local LLMs",
    "section": "Footnotes",
    "text": "Footnotes\n\nNotably, I do not currently recommend Claude 4 Sonnet, Claude 4.5 Sonnet, or Claude 4.5. Haiku. The newer Claude models tend to include triple backticks in their responses even when prompted not to.‚Ü©Ô∏é"
  },
  {
    "objectID": "blog/2025-12-10-chores-0-3-0/index.html#oh-and-chores-0.3.0",
    "href": "blog/2025-12-10-chores-0-3-0/index.html#oh-and-chores-0.3.0",
    "title": "chores 0.3.0 and local LLMs",
    "section": "Oh, and chores 0.3.0",
    "text": "Oh, and chores 0.3.0\nFor a good experience ‚Äúby default‚Äù (i.e.¬†without the need to change the context length in LM Studio to use the default helpers), install the new release of chores with install.packages(\"chores\")!"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html",
    "href": "blog/2026-01-20-cc-impact/index.html",
    "title": "Electricity use of AI coding agents",
    "section": "",
    "text": "Throughout 2025, we got better estimates of electricity and water use of AI chatbots. There are all sorts of posts I could cite on this topic, but a favorite is this blog post from Our World in Data‚Äôs Hannah Ritchie. On the electricity front:\nIn short, ‚Äúunless you‚Äôre an extreme power user, asking AI questions every day is still a rounding error on your total electricity footprint.‚Äù\nA similar story applies to water usage. This one from Benjamin Todd:\nGenerally, these analyses guide my own thinking about the environmental impacts of my individual usage of LLMs; if I‚Äôm interested in reducing my personal carbon footprint, I‚Äôm much better off driving a couple miles less a week or avoiding one flight each year. This is indeed the right conclusion for users of chat interfaces like chatgpt.com or claude.ai.\nThat said, 1 or 10 or 100 median prompts a day is many orders of magnitude off from my own personal use of LLMs; I likely am, in Hannah Ritchie‚Äôs words, an ‚Äúextreme power user.‚Äù I work in software and spend much of my workday driving 2 or 3 coding agents, like Claude Code, at a time. Thus, a much more relevant question for me is how much energy does a typical Claude Code session consume? (I‚Äôm not going to dicuss water use in this post.)\ntl;dr, much more:\nThere are so many considerations and assumptions and pieces of shorthand one must use along the way to answer this sort of question. I‚Äôll do my best to call those out throughout this post, but please do understand this is still just Sunday afternoon napkin math from Some Guy."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#the-median-prompt",
    "href": "blog/2026-01-20-cc-impact/index.html#the-median-prompt",
    "title": "Water and energy usage of AI coding agents",
    "section": "The ‚Äòmedian prompt‚Äô",
    "text": "The ‚Äòmedian prompt‚Äô\nThe way that these statistics are released - the ‚Äúmedian prompt‚Äù\nClaude Code sessions are very much unlike the median prompt.\nWhat is the impact per token input and output? Cache?"
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html",
    "href": "blog/2025-12-04-local-agents/index.html",
    "title": "Local models are not there (yet)",
    "section": "",
    "text": "I understand the appeal of local models. Using coding agents like Claude Code or Codex, it‚Äôs not difficult to rack up a hundred dollars of usage in the course of a work week. Besides the price, if you‚Äôre working with sensitive IP or confidential data, you need to really believe that providers like Anthropic and OpenAI can be trusted with your data. And then, there‚Äôs evil billionaires. What if you could run models that were nearly as good on your own laptop?\nBecause of this, one of the most commonly asked questions we get about coding agents like Positron Assistant, Databot, or side::kick() is whether they can be used with local models. (For the purposes of this post, when I say ‚Äúlocal model‚Äù, I mean an LLM that can be served on a high-end laptop with decent tokens per second. Think GPT-OSS 20B.) The answer is yes, but also that we don‚Äôt recommend doing so; while you can connect to a local model through an OpenAI API-compatible endpoint with either of those systems, you likely won‚Äôt have a good experience if you do so.\nThis is an argument I‚Äôve tried to make in a paragraph or two many times, but I thought it would be worth fleshing out in more detail. To do so, I put together an LLM evaluation that demonstrate the issues we‚Äôve seen when trying to get these models working."
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html#the-problem",
    "href": "blog/2025-12-04-local-agents/index.html#the-problem",
    "title": "Local models are not there (yet)",
    "section": "The problem",
    "text": "The problem\nLet‚Äôs consider a table-stakes capability for a coding agent; a simple refactor. Here, when I say ‚Äúcoding agent,‚Äù a mean an LLM that‚Äôs equipped with tools to explore and make changes to your working directory. That could be Claude Code, Codex, Positron Assistant, or side::kick().\nSo, say I have some file tool-fetch_skill.R pulled up that looks like this:\n\nfetch_skill_impl &lt;- function(skill_name, `_intent` = NULL) {\n  skill_path &lt;- find_skill(skill_name)\n\n  if (is.null(skill_path)) {\n    available &lt;- list_available_skills()\n    skill_names &lt;- vapply(available, function(x) x$name, character(1))\n    cli::cli_abort(\n      c(\n        \"Skill {.val {skill_name}} not found.\",\n        \"i\" = \"Available skills: {.val {skill_names}}\"\n      ),\n      call = rlang::caller_env()\n    )\n  }\n\n  skill_content &lt;- readLines(skill_path, warn = FALSE)\n\n  # Remove YAML frontmatter if present\n  content_start &lt;- 1\n  if (length(skill_content) &gt; 0 && skill_content[1] == \"---\") {\n    yaml_end &lt;- which(skill_content == \"---\")\n    if (length(yaml_end) &gt;= 2) {\n      content_start &lt;- yaml_end[2] + 1\n    }\n  }\n\n  skill_text &lt;- paste(\n    skill_content[content_start:length(skill_content)],\n    collapse = \"\\n\"\n  )\n  \n  # ...\n\nI might provide a prompt like the following:\n\nRefactor this code from my project into a helper:\n# Remove YAML frontmatter if present\ncontent_start &lt;- 1\nif (length(skill_content) &gt; 0 && skill_content[1] == \"---\") {\n  yaml_end &lt;- which(skill_content == \"---\")\n  if (length(yaml_end) &gt;= 2) {\n    content_start &lt;- yaml_end[2] + 1\n  }\n}\n\nAt this point, the coding agent needs to do a few things:\n\nFind which file in the project those lines are from by using a text search tool, probably for ‚ÄúRemove YAML frontmatter‚Äù or a different snippet of code.\nRead the file that it discovers.\nApply edits to the file, first by adding a helper function (probably to the end of the file or to a new file in the directory) and then second by replacing the original usage with a call to the helper.\n\nIn practice, that might look something like this:\n\n\n\n\n\n\n\nNote\n\n\n\nIn case this interface is unfamiliar, this is the RStudio IDE running an open source coding agent side::kick(). You‚Äôll need a daily version of the RStudio IDE to get that full-height sidebar.\n\n\nThis is something that a coding agent should get perfect almost always; my initial prompt is a bit more detailed than I‚Äôd usually provide for such a simple task, there‚Äôs no context rot that could affect the agent‚Äôs effectiveness, and the task is a simple one."
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html#evaluation",
    "href": "blog/2025-12-04-local-agents/index.html#evaluation",
    "title": "Local models are not there (yet)",
    "section": "Evaluation",
    "text": "Evaluation\nUsing the vitals package, I implemented an LLM evaluation where various models are tasked with that refactor multiple times. You can install it with pak::pak(\"simonpcouch/helperbench\").\n\nlibrary(tidyverse)\nlibrary(ggrepel)\nlibrary(helperbench)\n\nFor a given run, the setup goes like this:\n\nThe side::kick() GitHub repository is copied into a temporary directory.\nAn ellmer chat is provided with the side::kick() prompt and tools that tell it to basically act like a Claude Code- or Codex-flavored agent and is situated in that directory.\nThe agent is provided with the user prompt shown above (‚ÄúCan you refactor this‚Ä¶‚Äù) and allowed to work until completion.\nOnce the agent finishes,\n\nThe eval checks whether the agent actually made any edits to (at least) the relevant file. If it didn‚Äôt, that run is a failure.\nThen, the contents of the resulting R/ directory is copied in place of the R/ directory in another ephemeral copy of the side::kick() GitHub repository, and the package unit tests run. If the unit tests pass, the run is a pass, otherwise it‚Äôs a failure.\n\n\n\nFor each of 9 models, I ran the eval 10 times. The results are combined in this data frame:\n\nhelper_results %&gt;%\n  sample_n(10)\n\n# A tibble: 10 √ó 6\n   model          score type         cost  input output\n   &lt;chr&gt;          &lt;ord&gt; &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 GPT-4.1        C     Frontier 0.745    364150   2138\n 2 GPT-4.1        C     Frontier 1.48     720546   4372\n 3 Qwen 3 14B     I     Local    0.00159   10929   3724\n 4 GPT OSS 20B    I     Local    0.00126   38418    771\n 5 GPT-4.1 Mini   I     Budget   0.0267    64271    606\n 6 Qwen 3 14B     I     Local    0.00187    5690   6104\n 7 Qwen 3 14B     I     Local    0.000992    174   3926\n 8 GPT-4.1 Mini   I     Budget   0.187    451432   4198\n 9 Gemini Pro 2.5 I     Frontier 0.0214     9024   1012\n10 GPT OSS 20B    I     Local    0.00103   32855    309\n\n\nEach row is a given run, where score == \"C\" means the run succeeded."
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html#performance-by-model",
    "href": "blog/2025-12-04-local-agents/index.html#performance-by-model",
    "title": "Local models are not there (yet)",
    "section": "Performance by model",
    "text": "Performance by model\nWe can first plot the proportion of runs that succeeded by model:\n\nhelper_results %&gt;%\n  mutate(\n    correct = score == \"C\",\n    lab = case_when(\n      model %in% c(\"Claude Haiku 4.5\", \"Claude Sonnet 4.5\") ~ \"Anthropic\",\n      model %in% c(\"GPT-4.1 Mini\", \"GPT-4.1\", \"GPT OSS 20B\") ~ \"OpenAI\",\n      model %in% c(\"Gemini Flash 2.5\", \"Gemini Pro 2.5\") ~ \"Google\",\n      TRUE ~ \"Other\"\n    ),\n    color = case_when(\n      lab == \"Anthropic\" ~ \"#CC5500\",\n      lab == \"OpenAI\" ~ \"#ADD8E6\",\n      lab == \"Google\" ~ \"#22B14C\",\n      TRUE ~ \"#CCCCCC\"\n    )\n  ) %&gt;%\n  group_by(model, type, lab, color) %&gt;%\n  summarise(pct_correct = mean(correct) * 100, .groups = \"drop\") %&gt;%\n  mutate(pct_correct = pmax(pct_correct, .5)) %&gt;%\n  arrange(type, pct_correct) %&gt;%\n  mutate(\n    type = factor(type, levels = c(\"Frontier\", \"Budget\", \"Local\")),\n    model = fct_inorder(model)\n  ) %&gt;%\n  ggplot(aes(x = model, y = pct_correct, fill = color)) +\n  geom_col() +\n  scale_fill_identity() +\n  scale_y_continuous(n.breaks = 10, minor_breaks = NULL) +\n  facet_wrap(~type, nrow = 3, dir = \"v\", scales = \"free_y\") +\n  coord_flip() +\n  labs(\n    y = \"Percent Correct\",\n    x = NULL,\n    title = \"Agentic Coding Reliability\",\n    subtitle = \"When choosing models to power coding tools, you get what you pay for.\"\n  ) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(hjust = -.295),\n    plot.subtitle = element_text(hjust = 1.5),\n    axis.text.y = element_text(angle = 15, hjust = 1)\n  )\n\n\n\n\n\n\n\nThe models labeled ‚ÄúFrontier‚Äù are models that I would actually use as a daily-driver coding assistant in an application like Positron Assistant or side::kick(), one from each of the big three labs. The models labeled ‚ÄúBudget‚Äù are ‚Äúone step below‚Äù from each of the big three AI labs, but do note that there are some significant price differences within that band. These are models that I might temporarily switch to when speed is a priority and I feel confident the quality won‚Äôt be an issue. Finally, the models marked ‚ÄúLocal‚Äù are models that are small enough that I could run them at a reasonable tokens per second on my laptop. To make sure the playing field was otherwise as level as possible, I used chat_openrouter() rather than each of the labs‚Äô APIs directly. In practice, I‚Äôd usually prefer to use the labs‚Äô APIs directly and the local models‚Ä¶ locally.\nThe graph shows that the frontier models complete the refactor successfully almost always. The budget models are spotty. Never once did a model I could run on my laptop complete the refactor successfully.\n\n\n\n\n\n\nNote\n\n\n\nThere are a couple notable model omissions here.\n\nI had trouble getting Gemini 3 Pro working with ellmer through OpenRouter and didn‚Äôt bother to debug.\nI use GPT 4.1 rather than 5, 5.1, or any of the Codex variants of the GPT family. side::kick() has ‚Äúbuilt-in‚Äù thinking and is this most pleasant with non-thinking models; OpenAI (currently, as of December 2025) describes GPT 4.1 as their ‚Äúsmartest non-reasoning model.‚Äù\n\nOn the Local side:\n\nGemma 3 27B was one of my first thoughts, but OpenRouter doesn‚Äôt support tool calling with that model.\nI also had initially ran this against Qwen 3 Coder 30B, and it did surprisingly well (7/10!), but then I realized it‚Äôs too large to run on my M4 Macbook Pro with 48GB memory unless quantized aggressively, which ruins the performance.\n\n\n\nSurprisingly, the failure modes for each of the local models tested here are pretty consistent within-model:\n\nMistral 3.1 24B just (correctly) writes out the steps to make the refactor without calling the needed tools to make it happen.\nGPT OSS 20B attempts to call a few tools and struggles to get the argument formats right before giving up.\nQwen 3 14B tends to declare success too early, writing the helper function correctly but not incorporating it back into the original function.\n\nYou can explore the logs from each of these runs in more detail in the log viewer:"
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html#factoring-in-cost",
    "href": "blog/2025-12-04-local-agents/index.html#factoring-in-cost",
    "title": "Local models are not there (yet)",
    "section": "Factoring in cost",
    "text": "Factoring in cost\nAgain, my categorizations of models here aren‚Äôt a given. Within those categories, there are pretty substantial differences in the average cost per run:\n\nhelper_results %&gt;%\n  mutate(\n    correct = score == \"C\",\n    lab = case_when(\n      model %in% c(\"Claude Haiku 4.5\", \"Claude Sonnet 4.5\") ~ \"Anthropic\",\n      model %in% c(\"GPT-4.1 Mini\", \"GPT-4.1\", \"GPT OSS 20B\") ~ \"OpenAI\",\n      model %in% c(\"Gemini Flash 2.5\", \"Gemini Pro 2.5\") ~ \"Google\",\n      TRUE ~ \"Other\"\n    ),\n    color = case_when(\n      lab == \"Anthropic\" ~ \"#CC5500\",\n      lab == \"OpenAI\" ~ \"#ADD8E6\",\n      lab == \"Google\" ~ \"#22B14C\",\n      TRUE ~ \"#b4b4b4ff\"\n    ),\n    color = factor(color, levels = c(\"#CC5500\", \"#22B14C\", \"#ADD8E6\", \"#b4b4b4ff\"))\n  ) %&gt;%\n  group_by(model, type, lab, color) %&gt;%\n  summarise(avg_cost = mean(cost / n(), na.rm = TRUE), .groups = \"drop\") %&gt;%\n  mutate(avg_cost = pmax(avg_cost, .001)) %&gt;%\n  arrange(type, desc(color), avg_cost) %&gt;%\n  mutate(\n    type = factor(type, levels = c(\"Frontier\", \"Budget\", \"Local\")),\n    model = fct_inorder(model)\n  ) %&gt;%\n  ggplot(aes(x = model, y = avg_cost, fill = color)) +\n  geom_col() +\n  scale_fill_identity() +\n  scale_y_continuous(labels = scales::dollar_format()) +\n  facet_wrap(~type, nrow = 3, dir = \"v\", scales = \"free_y\") +\n  coord_flip() +\n  labs(\n    y = \"Average Cost Per Run\", \n    x = NULL,\n    title = \"Cost by model\",\n    subtitle = \"There's more to LLM pricing than cost per token.\"\n  ) +\n  theme(\n    legend.position = \"none\", \n    plot.title = element_text(hjust = -0.08),\n    plot.subtitle = element_text(hjust = -0.25, face = \"italic\"),\n    axis.text.y = element_text(angle = 15, hjust = 1)\n  )\n\n\n\n\n\n\n\nThe bar heights represent the average cost per refactor. So, it costed about 4 cents for Claude Sonnet 4.5 to ‚Äúread‚Äù the side::kick() prompt and tool descriptions, call tools to check out its surroundings, and apply the edits once. Altogether, this eval costed me about $22 to run.\nSince we have a proxy for performance and the cost, we might as well do the performance vs.¬†cost plot:\n\nhelper_results %&gt;%\n  mutate(\n    correct = score == \"C\",\n    lab = case_when(\n      model %in% c(\"Claude Haiku 4.5\", \"Claude Sonnet 4.5\") ~ \"Anthropic\",\n      model %in% c(\"GPT-4.1 Mini\", \"GPT-4.1\", \"GPT OSS 20B\") ~ \"OpenAI\",\n      model %in% c(\"Gemini Flash 2.5\", \"Gemini Pro 2.5\") ~ \"Google\",\n      TRUE ~ \"Other\"\n    ),\n    color = case_when(\n      lab == \"Anthropic\" ~ \"#CC5500\",\n      lab == \"OpenAI\" ~ \"#ADD8E6\",\n      lab == \"Google\" ~ \"#22B14C\",\n      TRUE ~ \"#b4b4b4ff\"\n    )\n  ) %&gt;%\n  group_by(model, type, lab, color) %&gt;%\n  summarise(\n    pct_correct = mean(correct) * 100,\n    avg_cost = mean(cost / n(), na.rm = TRUE),\n    .groups = \"drop\"\n  ) %&gt;%\n  mutate(\n    type = factor(type, levels = c(\"Frontier\", \"Budget\", \"Local\"))\n  ) %&gt;%\n  ggplot(aes(x = avg_cost, y = pct_correct, color = color)) +\n  geom_point(alpha = 0.8) +\n  geom_text_repel(aes(label = model), size = 3.5, show.legend = FALSE) +\n  scale_color_identity() +\n  scale_x_continuous(labels = scales::dollar_format()) +\n  scale_size_identity() +\n  labs(\n    x = \"Average Cost Per Run\",\n    y = \"Percent Correct\",\n    title = \"Refactoring reliability by price\",\n    subtitle = \"Cost per token is very different than cost per success.\"\n  ) +\n  theme(\n    legend.position = \"none\",\n    plot.subtitle = element_text(face = \"italic\")\n  )\n\n\n\n\n\n\n\nNote that the proportions in pricing don‚Äôt map directly to the cost per token. The cost per token is different than the cost per attempt, and very different than the cost per success. Models that ‚Äúthink‚Äù for a while before acting will use up more tokens than models that don‚Äôt, and models that struggle to use tools fluently can use many more tokens in their attempts to resolve tool errors."
  },
  {
    "objectID": "blog/2025-12-04-local-agents/index.html#conclusion",
    "href": "blog/2025-12-04-local-agents/index.html#conclusion",
    "title": "Local models are not there (yet)",
    "section": "Conclusion",
    "text": "Conclusion\nI don‚Äôt really enjoy telling folks that they ought not to use local models. Again, the advantages are clear; free (as in, the cost of electricity to charge your laptop), perfect privacy, no mega-corporations involved. In the medium run (1-2 years?), I‚Äôd love for it to be the case that you can run a Claude Sonnet 4-ish model on a base Macbook Pro, and I think that‚Äôs a plausible future. For now, though, if you‚Äôd like to get value out of coding agents, you‚Äôll need to opt for the most capable models out there."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#coding-agents-and-the-median-query",
    "href": "blog/2026-01-20-cc-impact/index.html#coding-agents-and-the-median-query",
    "title": "Electricity use of AI coding agents",
    "section": "Coding agents and the ‚Äòmedian query‚Äô",
    "text": "Coding agents and the ‚Äòmedian query‚Äô\n\n\n\n\n\n\nNote\n\n\n\ntl;dr: In this section, I point out that a Claude Code session should use orders of magnitude more energy than a ‚Äòmedian query.‚Äô\n\n\nThe Gemini paper, Sam Altman blog post, and Epoch AI analysis of ChatGPT 4o that Hannah Ritchie cites all refer to something like a ‚Äúmedian query‚Äù or ‚Äútypical prompt.‚Äù Those various sources all ballpark the electricity usage of such a prompt around 0.3 Wh‚Äî0.24, 0.34, and 0.3, respectively. What is a median query?\nFrom the Gemini team:\n\nTo calculate the energy consumption for the median Gemini Apps text prompt on a given day, we first determine the average energy/prompt for each model, and then rank these models by their energy/prompt values. We then construct a cumulative distribution of text prompts along this energy-ranked list to identify the model that serves the 50-th percentile prompt.\n\nSo, they took the 50th percentile to get the median. Yup. From Sam Altman, no details at all.1\nWhat does the Gemini team‚Äôs paper and Sam Altman blog post‚Äìthe two sources (hypothetically) with access to the real data‚Äìhave in common? Very little detail. ‚ÄúMedian‚Äù is doing a lot of work here. How many input tokens? Are we counting the system prompt? The core system prompt? How many output tokens? Which model? Does this include systems like Web Search or Deep Research? Is this Web-only, API-only, both? To give a number like 0.24 Wh or 0.34 Wh and no other details on the factors that lead to that number feels like a deliberate attempt to ‚Äúhave given an answer‚Äù while answering as little as possible of the actual question.\nI‚Äôm ranting.\nAnyways, here‚Äôs an example impression of a ‚Äúmedian query‚Äù:\n\nUSER: Tell me a joke about statisticians\nASSISTANT: A statistician is someone who, when their head is in the oven and their feet are in the freezer, says ‚Äúon average, I feel fine.‚Äù\n\nThe user types something, the model responds. Presumably, the system prompt under the hood, on the order of thousands of tokens, is cached and is included in this ‚Äúmedian query.‚Äù\nHow is Claude Code different from this?\nFirst, there‚Äôs the system prompt and descriptions of the tools that are available to Claude Code. In response to /context in Claude Code just now, this is what I see:\n\n‚õÄ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ System prompt:\n3.1k tokens (1.6%)\n‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õ∂ ‚õÅ System tools:\n16.4k tokens (8.2%)\n\nSo, before the user even types a query, our context length is almost 20,000 tokens. These are presumably also cached/prefilled on Anthropic‚Äôs end.\nThen, there‚Äôs also user-defined tools and prompts. I have 5 tools registered via the Model Context Protocol, in addition to ~200 tokens in my CLAUDE.md. Those 5 tools‚Äô tool descriptions also consume a couple thousand tokens:\n\n‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õÅ MCP tools: 2.6k tokens (1.3%)\n\nOkay, you get it‚Äìwith Claude Code, by the time we‚Äôre kicking off the first request, we‚Äôre looking at a relatively long query.\nNow, how does Claude Code do stuff? It calls tools. For example, if I say ‚ÄúFamiliarize yourself, please!‚Äù, that message gets sent to Anthropic‚Äôs API, along with the system prompt and all of the tool descriptions, and then the model will say ‚ÄúYes okay I‚Äôll do that‚Äù and call a couple tools to gather information:\n\n‚ùØ Familiarize yourself, please!\n‚è∫ I‚Äôll take a look at the project structure to get oriented.\n‚è∫ Bash(ls -la /Users/simoncouch/Documents/rrr/website)\n‚è∫ Search(pattern: ‚Äú**/*.qmd‚Äù)\n\nIn reply, my laptop will automatically process the requests and send this message back on my behalf with the tool call results:\n\n‚è∫ Bash(ls -la /Users/simoncouch/Documents/rrr/website)\n‚éø total 240\ndrwx‚Äî‚Äî@ 3 simoncouch staff 96 Nov 11 13:59\n_extensions\n‚Ä¶ +60 lines (ctrl+o to expand)\n‚è∫ Search(pattern: ‚Äú**/*.qmd‚Äù)\n‚éø Found 35 files (ctrl+o to expand)\n\nThe model will then see those results (in addition to my first message and the system prompt and the tool descriptions) and then kick off another couple tool requests. Those requests will return results, which is another user message (and all of the conversation history), and so on, until the model believes it has seen enough of the repository and gives me a summary of what it found. So, in sending one message, I‚Äôve actually kicked off a series of 5 or 10 very large queries.\nWhenever I read ‚Äòmedian query‚Äô, I think about this. In my sessions with Claude Code, I‚Äôm sending maybe a dozen messages, and each of those messages are accompanied by maybe 5 tool calls (which are also queries that require just as much compute as a query that I type in myself), and all of those messages are super long. It seems that a Claude Code session should be orders of magnitude more compute-intensive than a ‚Äòmedian query.‚Äô\nTo try and estimate the energy cost of a Claude Code session, I need to somehow scale the watt-hour figure for the median query to the scale of a Claude Code session‚Äôs hundreds of longer-than-median queries. I can attempt this by first scaling back, estimating the energy consumption per-token for the various kinds of tokens involved. Then, I‚Äôll analyze my real Claude Code session data (which has the real token usage for each type of tokens) and scale those per-token figures up to coding agent scale."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#estimating-wh-per-token",
    "href": "blog/2026-01-20-cc-impact/index.html#estimating-wh-per-token",
    "title": "Environmental impact of AI coding agents",
    "section": "Estimating Wh per-token",
    "text": "Estimating Wh per-token\nFrom Claude Code, I have a bunch of data on millions of input, cached input, and output tokens. I want to ‚Äúscale‚Äù those median query estimates to how many tokens I actually consume using the tool. To do so, we‚Äôll use a blog post from Epoch AI and Anthropic‚Äôs API pricing data to put together a guess.\nHere‚Äôs the graph:\n\nHere‚Äôs Anthropic‚Äôs pricing data:\n\n\nModel\nBase Input\nCache Reads\nOutput\nOutput/Input Ratio\n\n\n\nOpus 4.5\n$5/MTok\n$0.50/MTok\n$25/MTok\n5:1\n\n\nSonnet 4.5\n$3/MTok\n$0.30/MTok\n$15/MTok\n5:1\n\n\nHaiku 4.5\n$1/MTok\n$0.10/MTok\n$5/MTok\n5:1\n\n\n\nLet‚Äôs focus on the medium context length case from Epoch AI, at 7,500 input words, which is something like the full Claude Code system prompt and tool descriptions, please a couple turns back-and-forth. They estimate that a long query to ChatGPT 4o (~7,500 words, or ~10,000 tokens at .75 words per token) with typical output length (400 words, or ~530 tokens) consumes 2.5 Wh. So, blending input and output tokens, that‚Äôs 10,530 tokens, or 0.01053 MTok. 2.5 Wh / 0.01053 MTok is ~240 Wh/MTok, blended.\n\n\n\n\n\n\nNote\n\n\n\nThese estimates are for GPT-4o. In the last month, most all of my Claude Code usage has used Opus 4.5, Anthropic‚Äôs largest (and presumably most energy-intensive) model. At launch, GPT-4o was priced at $5 MTok input, $15 MTok output. Opus 4.5 is $5 and $25, respectively. Opus is likely a larger model, but also likely served much more efficiently than was possible in May 2024. I‚Äôm going to assume they‚Äôre in a ballpark of each other in terms of energy consumption per token.\n\n\nNow, we actually want to split that up into Wh/Mtok for input tokens and output tokens individually. Anthropic‚Äôs API prices output tokens at 5x the cost of input tokens. We have (input_tokens √ó input_rate) + (output_tokens √ó output_rate) = total_Wh and output_rate = 5 √ó input_rate, and can substitute the second into the first to get:\ninput_rate = 2.5 / (0.01 + 5 √ó 0.00053)\ninput_rate = 2.5 / (0.01 + 0.00265)\ninput_rate = 2.5 / 0.01265\ninput_rate ‚âà 198 Wh/MTok\nSo, ~200 Wh/MTok for input, ~990 Wh/MTok for output.\nDoing that for the short and maximum context cases, we get:\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\nTypical short\n~130\n~530\n0.3\n~450\n~110\n~540\n\n\nMedium context\n~10,000\n~530\n2.5\n~240\n~200\n~990\n\n\nMax context\n~100,000\n~530\n40\n~400\n~390\n~1950\n\n\n\nNow, note that it doesn‚Äôt make sense that the energy consumption per-output-token would change with the length of the input. The output generation process is the same regardless of how long the input was‚Äîthe model still generates tokens one at a time, running the full forward pass for each. A 530-token output should cost the same energy whether the input was 130 tokens or 100,000 tokens. In reality, the ratio between output and input cost per token shrinks as context length grows, because input cost scales quadratically while output cost stays linear. This is our 5x assumption, based on Anthropic‚Äôs pricing, at work.\nFor the purposes of this post, I‚Äôll pessimistically use the figures from the 100,000 ‚Äúmaximum‚Äù‚ÄìClaude Sonnet and Opus 4.5 both have context windows of 200,000 tokens, and I run up against them regularly. So, ~390 Wh/MTok input, ~1950 Wh/MTok output.\nNow, a large portion of the tokens consumed with Claude Code are cache hits and refreshes, which Anthropic prices at 1/10th the cost of input tokens. So, we‚Äôll ballpark cached inputs at ~39 Wh/MTok. Same napkin math for cache writes; they price cache writes at a 25% premium to input tokens, so ~490 Wh/MTok. I have no idea if these are reasonable guesses."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#my-claude-code-data",
    "href": "blog/2026-01-20-cc-impact/index.html#my-claude-code-data",
    "title": "Electricity use of AI coding agents",
    "section": "My Claude Code data",
    "text": "My Claude Code data\nClaude Code stores session logs in ~/.claude/projects/, with each session saved as a JSONL file containing usage data for every API call. Each log entry includes input_tokens, output_tokens, cache_creation_input_tokens, cache_read_input_tokens, and a requestId identifying the HTTP request. Multiple streaming events are logged per request with identical token counts, so we deduplicate by requestId.\n\nlibrary(tidyverse)\n\nusage_raw &lt;- read_csv(\"sessions/calls.csv\", show_col_types = FALSE)\n\nusage &lt;-\n  usage_raw |&gt;\n  distinct(request_id, .keep_all = TRUE)\n\nglimpse(sample_n(usage, nrow(usage)))\n\nRows: 8,825\nColumns: 10\n$ project               &lt;chr&gt; \"-Users-simoncouch-Documents-rrr-hypot‚Ä¶\n$ session_id            &lt;chr&gt; \"f50ac864-06c2-4d94-907b-f5bd447f9312\"‚Ä¶\n$ request_id            &lt;chr&gt; \"req_011CX5WSCwYKkpgtw15qcjW5\", \"req_0‚Ä¶\n$ timestamp             &lt;dttm&gt; 2026-01-13 14:08:09, 2026-01-09 19:06‚Ä¶\n$ model                 &lt;chr&gt; \"claude-opus-4-5-20251101\", \"claude-op‚Ä¶\n$ input_tokens          &lt;dbl&gt; 1, 8, 1, 1, 1979, 8, 1, 8, 1, 8, 1, 1,‚Ä¶\n$ output_tokens         &lt;dbl&gt; 89, 1, 24, 24, 2, 3, 90, 3, 84, 1, 88,‚Ä¶\n$ cache_creation_tokens &lt;dbl&gt; 147, 1022, 148, 146, 0, 368, 148, 3586‚Ä¶\n$ cache_read_tokens     &lt;dbl&gt; 36851, 104199, 173604, 33251, 0, 72682‚Ä¶\n$ cost_usd              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,‚Ä¶\n\n\nPlotting the distributions of each token type per session:\n\n\n\n\n\n\n\n\nThe median session had 24 requests and consumed 592,439 total tokens‚Äî5 user messages and 19 tool call responses. Applying our napkin math energy estimates:\n\nwh_per_mtok &lt;- c(\n  input = 390,\n  output = 1950,\n  cache_creation = 490,\n  cache_read = 39\n)\n\nmedian_energy_wh &lt;-\n  median_session$input_tokens * wh_per_mtok[[\"input\"]] / 1e6 +\n  median_session$output_tokens * wh_per_mtok[[\"output\"]] / 1e6 +\n  median_session$cache_creation_tokens * wh_per_mtok[[\"cache_creation\"]] / 1e6 +\n  median_session$cache_read_tokens * wh_per_mtok[[\"cache_read\"]] / 1e6\n\nMy estimate is that my median Claude Code session consumes 41 Wh, 138x more than the ‚Äútypical query.‚Äù\nIn the course of a typical day at work, I‚Äôm usually programming for a few hours, and driving 2 or 3 Claude Code instances at a time throughout those hours. What‚Äôs the distribution of my energy usage daily?\n\n\n\n\n\n\n\n\nOn a median day, I estimate I consume 1,300 Wh through Claude Code‚Äî4,400 ‚Äútypical queries‚Äù worth. (For those wondering, this is $15-20 of token spend on a typical day.)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#footnotes",
    "href": "blog/2026-01-20-cc-impact/index.html#footnotes",
    "title": "Electricity use of AI coding agents",
    "section": "Footnotes",
    "text": "Footnotes\n\nFrom Epoch AI, they assume 500 output tokens and &lt;100 input tokens and say everything else out loud, too. Thank you, Josh You.‚Ü©Ô∏é\nThis is pretty silly. For one, the ‚Äútrue‚Äù ratio of energy consumption for output vs.¬†input tokens does not actually exist, as the former grows linearly while the latter has quadratic growth relative to the context length. Also, the ratios in each company‚Äôs pricing are a reflection of business strategy rather than the true ratios. An analysis of data from SemiAnalysis estimated that, at the few-thousand-tokens scale, output tokens are ~15x more compute-intensive than input. This makes me think that, at the tens-of-thousands scale, 5x is reasonable.‚Ü©Ô∏é\nI especially don‚Äôt care about this energy usage if it is both driven by renewables and by on-premises power rather than drawn exclusively from the local grid, where improvements to infrastructure are much more often funded by local residents than the AI companies.‚Ü©Ô∏é\nFor many, the size of the bill you‚Äôll get from the Anthropic platform for exceeding a Max plan‚Äôs usage is probably a stronger mediator than these figures.‚Ü©Ô∏é"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html",
    "title": "Simon P. Couch",
    "section": "",
    "text": "Query type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nMarginal input Wh/MTok\n\n\n\n\nTypical short\n~670\n~530\n0.3\n~250\n‚Äî\n\n\nMedium context\n~13,300\n~530\n2.5\n~180\n~175\n\n\nMax context\n~100,000\n~530\n40\n~400\n~430"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html#what-we-can-and-cant-say",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html#what-we-can-and-cant-say",
    "title": "Simon P. Couch",
    "section": "What we can and can‚Äôt say",
    "text": "What we can and can‚Äôt say\nBlended Wh/MTok is just total energy divided by total tokens‚Äîno assumptions required, but it mixes input and output costs together.\nMarginal input Wh/MTok is the energy cost of adding more input tokens between tiers, holding output constant. This is directly observable from Epoch‚Äôs data: - Short ‚Üí Medium: (2.5 - 0.3) Wh / (13.3 - 0.67) MTok ‚âà 175 Wh/MTok - Medium ‚Üí Max: (40 - 2.5) Wh / (100 - 13.3) MTok ‚âà 430 Wh/MTok\nWhat we can‚Äôt derive from Epoch alone: the absolute cost of output tokens vs input tokens at any given context length. We‚Äôd need either (a) a query with zero output tokens, (b) two queries at the same input length with different output lengths, or (c) an external estimate of one parameter to solve for the other.\nThe increasing marginal cost confirms quadratic attention scaling‚Äîeach additional input token costs more than the last at long contexts.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nMarginal input Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\n\nTypical short\n~670\n~530\n0.3\n~250\n‚Äî\n~80\n~400\n\n\nMedium context\n~13,300\n~530\n2.5\n~180\n~175\n~170\n~850\n\n\nMax context\n~100,000\n~530\n40\n~400\n~430\n~390\n~1950"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html#back-solve-methodology",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html#back-solve-methodology",
    "title": "Simon P. Couch",
    "section": "Back-solve methodology",
    "text": "Back-solve methodology\nFor each row, I solved the system:\n(input_tokens √ó input_rate) + (output_tokens √ó output_rate) = total_Wh\noutput_rate = 5 √ó input_rate\nThis gives:\ninput_rate = total_Wh / (input_tokens + 5 √ó output_tokens)\nFor the short query: 0.3 / (0.00067 + 5 √ó 0.00053) = 0.3 / 0.00332 ‚âà 90 Wh/MTok for input, ~450 Wh/MTok for output. (My table values are slightly different due to rounding in token counts.)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html#the-tension",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html#the-tension",
    "title": "Simon P. Couch",
    "section": "The tension",
    "text": "The tension\nThe 5√ó ratio assumption produces output costs that increase with context length (400 ‚Üí 850 ‚Üí 1950 Wh/MTok), which doesn‚Äôt make sense‚Äîoutput generation shouldn‚Äôt cost more just because the input was longer.\nThis confirms that the 5√ó ratio isn‚Äôt constant across context lengths. At short contexts, output may cost 5‚Äì10√ó input. At long contexts, the quadratic prefill cost dominates and the ratio shrinks‚Äîor even inverts for very long contexts with short outputs.\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\n\nTypical short\n~670\n~530\n0.3\n~250\n~80\n~400\n\n\nMedium context\n~13,300\n~530\n2.5\n~180\n~170\n~850\n\n\nMax context\n~100,000\n~530\n40\n~400\n~390\n~1950"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html#the-key-takeaway",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html#the-key-takeaway",
    "title": "Simon P. Couch",
    "section": "The key takeaway",
    "text": "The key takeaway\nThe 5√ó ratio assumption breaks down at longer contexts. If output really cost 5√ó input per token regardless of context length, output Wh/MTok should stay constant across rows‚Äîbut it doesn‚Äôt.\nThis suggests either: - The 5√ó ratio only holds at short contexts - Epoch‚Äôs estimates bake in overhead that scales non-linearly - Or both\nFor your Claude Code analysis, the short-context back-solved values (~80 Wh/MTok input, ~400 Wh/MTok output) are probably the most applicable, since coding agent turns tend to have moderate context lengths rather than 100k token prompts.\n\n\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\n\nTypical short\n~130\n~530\n0.3\n~450\n~170\n~850\n\n\nMedium context\n~10,000\n~530\n2.5\n~240\n~210\n~1050\n\n\nMax context\n~100,000\n~530\n40\n~400\n~390\n~1950"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/per-million-tokens.html#corrected-figures",
    "href": "blog/2026-01-20-cc-impact/per-million-tokens.html#corrected-figures",
    "title": "Simon P. Couch",
    "section": "Corrected figures",
    "text": "Corrected figures\n\nTypical: &lt;100 words ‚Üí ~130 input tokens\nMedium: 7,500 words ‚Üí ~10,000 input tokens\nMax: 75,000 words ‚Üí ~100,000 input tokens\nOutput: 400 words ‚Üí ~530 tokens (constant across all)\n\nThe same tension remains: if the 5√ó ratio held constant, the output column should be flat. The fact that it climbs from ~850 to ~1950 Wh/MTok reflects the quadratic attention cost being absorbed into the ratio assumption."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html",
    "href": "blog/2026-01-20-cc-impact/claude-research.html",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "Generating tokens consumes roughly 5-15√ó more energy per token than processing input tokens, according to 2025 research from Epoch AI, academic benchmarks, and infrastructure analyses. A typical ChatGPT-class query uses approximately 0.24-0.34 Wh for short interactions, but this can balloon to 40+ Wh when processing 100,000 input tokens. While no frontier lab has published official per-token energy breakdowns, Claude‚Äôs API pricing‚Äîwhere output tokens cost 5√ó input tokens‚Äîlikely reflects the underlying compute asymmetry, making it possible to derive rough energy estimates from billing data.\n\n\nThe most authoritative 2025 figures come from three sources: Epoch AI‚Äôs February 2025 analysis, Google‚Äôs August 2025 transparency report, and Sam Altman‚Äôs June 2025 disclosure.\nEpoch AI (Josh You, February 2025) established that a typical GPT-4o query with ~500 output tokens and a short input consumes approximately 0.3 Wh (1,080 joules). This is 10√ó lower than the widely-cited 3 Wh estimate from 2023, reflecting efficiency improvements in hardware (H100 vs A100) and model architecture (mixture-of-experts, quantization). Their methodology assumes H100 GPUs at ~1500W with server overhead, 10% compute utilization, 70% power utilization, and 10-20% PUE overhead.\nGoogle became the first major lab to publish comprehensive inference energy data, reporting 0.24 Wh per median Gemini text query in August 2025‚Äîa remarkable 33√ó reduction from May 2024 levels. Their methodology includes all overhead (idle machines, cooling, full system power), making it the most rigorous industry disclosure.\n\n\n\nSource\nModel\nEnergy per query\nDate\n\n\n\n\nEpoch AI\nGPT-4o-class\n0.3 Wh\nFeb 2025\n\n\nGoogle\nGemini\n0.24 Wh\nAug 2025\n\n\nSam Altman\nChatGPT\n0.34 Wh\nJun 2025\n\n\nMIT Tech Review\nLlama (avg)\n~1 Wh\nMay 2025\n\n\nJegham et al.\no3 (reasoning)\n7-39 Wh\nMay 2025\n\n\n\nReasoning models like o3 and DeepSeek-R1 consume 70√ó more energy than lightweight models like GPT-4.1 nano for equivalent prompt lengths, due to their extended chain-of-thought generation.\n\n\n\nTokenPowerBench (Niu et al., December 2025) is the first open-source benchmark providing phase-aligned metrics that separate prefill (input processing) and decode (output generation) energy. Their findings fundamentally clarify the energy asymmetry:\nThe prefill phase processes all input tokens in parallel through massive matrix multiplications. It‚Äôs compute-bound and causes GPU power to spike to 100% of thermal design power. However, this is a one-time upfront cost per prompt.\nThe decode phase generates output tokens sequentially, running the full model for each token. It‚Äôs memory-bandwidth-bound, with GPUs running at 60-80% power but sustained across potentially thousands of tokens. TokenPowerBench found that optimized inference engines (TensorRT-LLM, vLLM) reduce decode-phase energy by 25-40% compared to baseline Transformers implementations.\nThe critical insight: output generation costs roughly 10-15√ó more energy per token than input processing. Muxup‚Äôs January 2026 analysis, derived from SemiAnalysis‚Äôs InferenceMAX benchmark data, demonstrates this for DeepSeek R1 (671B parameters, 37B active):\n\n\n\nConfiguration\nInput/Output tokens\nEnergy per query\n\n\n\n\n8k input / 1k output\nPrefill-dominated\n0.96-3.74 Wh\n\n\n1k input / 8k output\nDecode-dominated\n15.0-16.3 Wh\n\n\n\nThis represents approximately 15√ó higher energy for the output-heavy workload despite the same total token count. For Epoch AI‚Äôs estimates, processing 10,000 input tokens with 500 output tokens costs ~2.5 Wh, while 100,000 input tokens costs ~40 Wh due to quadratic scaling of attention mechanisms in the prefill phase.\n\n\n\nTokenPowerBench‚Äôs measurements across Llama, Falcon, Qwen, and Mistral model families reveal concrete per-token figures:\n\nModern optimized inference (Llama 3.3 70B with FP8 quantization, H100, batch size 128): ~0.39 J/token\nBaseline measurements (LlaMA-65B on V100/A100, Samsi et al.¬†2023): 3-4 J/output token\nMoE efficiency: Mixtral-8√ó7B uses only ~‚Öì the J/token of an equivalent-quality dense model\n\nEnergy per token scales super-linearly with parameter count: going from 1B to 70B parameters in Llama-3 increases energy per token by 7.3√ó (not 70√ó), suggesting efficiency gains at scale but still significant cost growth.\nKey optimization factors affecting per-token energy: - Quantization (FP8 vs FP16): ~30% energy reduction - Batch size (32 ‚Üí 256): ~25% energy reduction, plateauing above 256 - Hardware generation: H100/H200 approximately 10√ó more efficient than V100/A100 - Parallelism strategy: Pure tensor parallelism most efficient; mixed TP/PP adds overhead\n\n\n\nNo frontier lab has published official energy data for prompt caching, but pricing structures and technical principles strongly suggest cached tokens consume ~90% less energy than fresh input processing.\nAnthropic‚Äôs Claude pricing makes this explicit: cache read tokens cost 0.1√ó the base input price (a 90% discount), while cache writes cost 1.25-2√ó base price depending on TTL. This pricing asymmetry almost certainly reflects the underlying compute reality: reading from KV cache avoids the expensive matrix multiplications of prefill entirely.\nThe technical explanation is straightforward. During prefill, the model computes key and value matrices for attention layers, storing them in the KV cache. When the same prefix appears in subsequent requests, these cached matrices are retrieved rather than recomputed. Since prefill computation scales with the product of model dimension, depth, and the square of input length, caching long contexts yields dramatic savings.\nRed Hat‚Äôs 2025 infrastructure analysis estimates KV cache hits use ‚Äú90% less energy than full inference,‚Äù though this hasn‚Äôt been validated by academic benchmarks. GreenLLM (August 2025) proposed dynamic voltage frequency scaling per phase, achieving up to 45% energy savings by relaxing decode-phase power consumption‚Äîa complementary optimization to caching.\n\n\n\nThe official Anthropic pricing page reveals consistent ratios across models that likely reflect compute costs:\n\n\n\nModel\nBase Input\nCache Reads\nOutput\nOutput/Input Ratio\n\n\n\n\nOpus 4.5\n$5/MTok\n$0.50/MTok\n$25/MTok\n5:1\n\n\nSonnet 4.5\n$3/MTok\n$0.30/MTok\n$15/MTok\n5:1\n\n\nHaiku 4.5\n$1/MTok\n$0.10/MTok\n$5/MTok\n5:1\n\n\n\nThe universal 5:1 output-to-input ratio across all Claude models strongly suggests this reflects fundamental compute asymmetry rather than arbitrary pricing. Cache reads at 0.1√ó input price (10% of base, or 2% of output) indicates dramatic efficiency gains from avoiding prefill computation.\nNapkin math example: If a Sonnet 4.5 query costs $0.003 (1,000 input tokens at $3/MTok) for input processing, and we assume pricing roughly tracks energy, that query might use approximately 0.3 Wh for prefill. The same model generating 1,000 output tokens would cost $0.015 (5√ó), suggesting approximately 1.5 Wh for decode‚Äîconsistent with the 5√ó compute intensity of sequential token generation.\nFor long-context queries exceeding 200K tokens, Anthropic charges 2√ó premium rates ($6/MTok input, $22.50/MTok output), reflecting the quadratic attention costs documented by Epoch AI.\n\n\n\nGoogle DeepMind has been most transparent, publishing a peer-reviewed methodology (arXiv:2508.15734) alongside their 0.24 Wh/query figure. However, they report per-query, not per-token, and use median (not mean) measurements.\nMistral AI published a lifecycle assessment in July 2025 with third-party auditing: 1.14 gCO2e per 400-token response for Mistral Large 2, plus 45 mL water consumption. This is the first externally audited LCA from an AI company.\nOpenAI provided Sam Altman‚Äôs single data point (0.34 Wh/query) but no methodology, per-token breakdown, or sustainability report.\nAnthropic has published no energy data, no environmental reports, and no climate commitments. However, third-party benchmarks (Jegham et al., May 2025) found Claude 3.7 Sonnet to be ‚Äúmost eco-efficient‚Äù among tested models for certain workloads.\nNone of the frontier labs have disclosed prefill vs.¬†decode energy breakdowns, per-token figures, or prompt caching energy efficiency data. This represents a significant transparency gap that TokenPowerBench and similar academic efforts are beginning to fill.\n\n\n\nThe 2025 research consensus establishes that output tokens cost 5-15√ó more energy than input tokens, driven by the fundamental difference between compute-bound prefill (parallelizable, one-time) and memory-bound decode (sequential, per-token). For frontier models, expect approximately 0.3-0.4 Wh per typical query with short inputs and ~500 output tokens, scaling to 40+ Wh for 100K+ context windows.\nPrompt caching likely saves ~90% of input processing energy based on pricing signals and technical analysis, making it the most impactful optimization for applications with repeated context. Claude‚Äôs consistent 5:1 output/input pricing ratio provides a useful proxy for compute cost estimation when official energy data is unavailable.\nThe key gap in current research is the absence of official lab disclosures for per-token energy or phase-separated metrics. TokenPowerBench provides the methodological framework for such measurements, but production-scale validation from hyperscalers remains elusive. For now, researchers and practitioners must extrapolate from academic benchmarks, infrastructure analyses, and pricing signals to estimate real-world energy consumption."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#published-energy-estimates-for-frontier-llms",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#published-energy-estimates-for-frontier-llms",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "The most authoritative 2025 figures come from three sources: Epoch AI‚Äôs February 2025 analysis, Google‚Äôs August 2025 transparency report, and Sam Altman‚Äôs June 2025 disclosure.\nEpoch AI (Josh You, February 2025) established that a typical GPT-4o query with ~500 output tokens and a short input consumes approximately 0.3 Wh (1,080 joules). This is 10√ó lower than the widely-cited 3 Wh estimate from 2023, reflecting efficiency improvements in hardware (H100 vs A100) and model architecture (mixture-of-experts, quantization). Their methodology assumes H100 GPUs at ~1500W with server overhead, 10% compute utilization, 70% power utilization, and 10-20% PUE overhead.\nGoogle became the first major lab to publish comprehensive inference energy data, reporting 0.24 Wh per median Gemini text query in August 2025‚Äîa remarkable 33√ó reduction from May 2024 levels. Their methodology includes all overhead (idle machines, cooling, full system power), making it the most rigorous industry disclosure.\n\n\n\nSource\nModel\nEnergy per query\nDate\n\n\n\n\nEpoch AI\nGPT-4o-class\n0.3 Wh\nFeb 2025\n\n\nGoogle\nGemini\n0.24 Wh\nAug 2025\n\n\nSam Altman\nChatGPT\n0.34 Wh\nJun 2025\n\n\nMIT Tech Review\nLlama (avg)\n~1 Wh\nMay 2025\n\n\nJegham et al.\no3 (reasoning)\n7-39 Wh\nMay 2025\n\n\n\nReasoning models like o3 and DeepSeek-R1 consume 70√ó more energy than lightweight models like GPT-4.1 nano for equivalent prompt lengths, due to their extended chain-of-thought generation."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#prefill-vs.-decode-where-energy-actually-goes",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#prefill-vs.-decode-where-energy-actually-goes",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "TokenPowerBench (Niu et al., December 2025) is the first open-source benchmark providing phase-aligned metrics that separate prefill (input processing) and decode (output generation) energy. Their findings fundamentally clarify the energy asymmetry:\nThe prefill phase processes all input tokens in parallel through massive matrix multiplications. It‚Äôs compute-bound and causes GPU power to spike to 100% of thermal design power. However, this is a one-time upfront cost per prompt.\nThe decode phase generates output tokens sequentially, running the full model for each token. It‚Äôs memory-bandwidth-bound, with GPUs running at 60-80% power but sustained across potentially thousands of tokens. TokenPowerBench found that optimized inference engines (TensorRT-LLM, vLLM) reduce decode-phase energy by 25-40% compared to baseline Transformers implementations.\nThe critical insight: output generation costs roughly 10-15√ó more energy per token than input processing. Muxup‚Äôs January 2026 analysis, derived from SemiAnalysis‚Äôs InferenceMAX benchmark data, demonstrates this for DeepSeek R1 (671B parameters, 37B active):\n\n\n\nConfiguration\nInput/Output tokens\nEnergy per query\n\n\n\n\n8k input / 1k output\nPrefill-dominated\n0.96-3.74 Wh\n\n\n1k input / 8k output\nDecode-dominated\n15.0-16.3 Wh\n\n\n\nThis represents approximately 15√ó higher energy for the output-heavy workload despite the same total token count. For Epoch AI‚Äôs estimates, processing 10,000 input tokens with 500 output tokens costs ~2.5 Wh, while 100,000 input tokens costs ~40 Wh due to quadratic scaling of attention mechanisms in the prefill phase."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#per-token-energy-from-0.4-to-4-joules-depending-on-optimization",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#per-token-energy-from-0.4-to-4-joules-depending-on-optimization",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "TokenPowerBench‚Äôs measurements across Llama, Falcon, Qwen, and Mistral model families reveal concrete per-token figures:\n\nModern optimized inference (Llama 3.3 70B with FP8 quantization, H100, batch size 128): ~0.39 J/token\nBaseline measurements (LlaMA-65B on V100/A100, Samsi et al.¬†2023): 3-4 J/output token\nMoE efficiency: Mixtral-8√ó7B uses only ~‚Öì the J/token of an equivalent-quality dense model\n\nEnergy per token scales super-linearly with parameter count: going from 1B to 70B parameters in Llama-3 increases energy per token by 7.3√ó (not 70√ó), suggesting efficiency gains at scale but still significant cost growth.\nKey optimization factors affecting per-token energy: - Quantization (FP8 vs FP16): ~30% energy reduction - Batch size (32 ‚Üí 256): ~25% energy reduction, plateauing above 256 - Hardware generation: H100/H200 approximately 10√ó more efficient than V100/A100 - Parallelism strategy: Pure tensor parallelism most efficient; mixed TP/PP adds overhead"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#cached-tokens-90-cost-reduction-implies-similar-energy-savings",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#cached-tokens-90-cost-reduction-implies-similar-energy-savings",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "No frontier lab has published official energy data for prompt caching, but pricing structures and technical principles strongly suggest cached tokens consume ~90% less energy than fresh input processing.\nAnthropic‚Äôs Claude pricing makes this explicit: cache read tokens cost 0.1√ó the base input price (a 90% discount), while cache writes cost 1.25-2√ó base price depending on TTL. This pricing asymmetry almost certainly reflects the underlying compute reality: reading from KV cache avoids the expensive matrix multiplications of prefill entirely.\nThe technical explanation is straightforward. During prefill, the model computes key and value matrices for attention layers, storing them in the KV cache. When the same prefix appears in subsequent requests, these cached matrices are retrieved rather than recomputed. Since prefill computation scales with the product of model dimension, depth, and the square of input length, caching long contexts yields dramatic savings.\nRed Hat‚Äôs 2025 infrastructure analysis estimates KV cache hits use ‚Äú90% less energy than full inference,‚Äù though this hasn‚Äôt been validated by academic benchmarks. GreenLLM (August 2025) proposed dynamic voltage frequency scaling per phase, achieving up to 45% energy savings by relaxing decode-phase power consumption‚Äîa complementary optimization to caching."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#claude-pricing-ratios-for-napkin-math-extrapolations",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#claude-pricing-ratios-for-napkin-math-extrapolations",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "The official Anthropic pricing page reveals consistent ratios across models that likely reflect compute costs:\n\n\n\nModel\nBase Input\nCache Reads\nOutput\nOutput/Input Ratio\n\n\n\n\nOpus 4.5\n$5/MTok\n$0.50/MTok\n$25/MTok\n5:1\n\n\nSonnet 4.5\n$3/MTok\n$0.30/MTok\n$15/MTok\n5:1\n\n\nHaiku 4.5\n$1/MTok\n$0.10/MTok\n$5/MTok\n5:1\n\n\n\nThe universal 5:1 output-to-input ratio across all Claude models strongly suggests this reflects fundamental compute asymmetry rather than arbitrary pricing. Cache reads at 0.1√ó input price (10% of base, or 2% of output) indicates dramatic efficiency gains from avoiding prefill computation.\nNapkin math example: If a Sonnet 4.5 query costs $0.003 (1,000 input tokens at $3/MTok) for input processing, and we assume pricing roughly tracks energy, that query might use approximately 0.3 Wh for prefill. The same model generating 1,000 output tokens would cost $0.015 (5√ó), suggesting approximately 1.5 Wh for decode‚Äîconsistent with the 5√ó compute intensity of sequential token generation.\nFor long-context queries exceeding 200K tokens, Anthropic charges 2√ó premium rates ($6/MTok input, $22.50/MTok output), reflecting the quadratic attention costs documented by Epoch AI."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#what-the-labs-have-disclosedand-what-they-havent",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#what-the-labs-have-disclosedand-what-they-havent",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "Google DeepMind has been most transparent, publishing a peer-reviewed methodology (arXiv:2508.15734) alongside their 0.24 Wh/query figure. However, they report per-query, not per-token, and use median (not mean) measurements.\nMistral AI published a lifecycle assessment in July 2025 with third-party auditing: 1.14 gCO2e per 400-token response for Mistral Large 2, plus 45 mL water consumption. This is the first externally audited LCA from an AI company.\nOpenAI provided Sam Altman‚Äôs single data point (0.34 Wh/query) but no methodology, per-token breakdown, or sustainability report.\nAnthropic has published no energy data, no environmental reports, and no climate commitments. However, third-party benchmarks (Jegham et al., May 2025) found Claude 3.7 Sonnet to be ‚Äúmost eco-efficient‚Äù among tested models for certain workloads.\nNone of the frontier labs have disclosed prefill vs.¬†decode energy breakdowns, per-token figures, or prompt caching energy efficiency data. This represents a significant transparency gap that TokenPowerBench and similar academic efforts are beginning to fill."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/claude-research.html#conclusion",
    "href": "blog/2026-01-20-cc-impact/claude-research.html#conclusion",
    "title": "LLM inference energy: output tokens cost far more than input",
    "section": "",
    "text": "The 2025 research consensus establishes that output tokens cost 5-15√ó more energy than input tokens, driven by the fundamental difference between compute-bound prefill (parallelizable, one-time) and memory-bound decode (sequential, per-token). For frontier models, expect approximately 0.3-0.4 Wh per typical query with short inputs and ~500 output tokens, scaling to 40+ Wh for 100K+ context windows.\nPrompt caching likely saves ~90% of input processing energy based on pricing signals and technical analysis, making it the most impactful optimization for applications with repeated context. Claude‚Äôs consistent 5:1 output/input pricing ratio provides a useful proxy for compute cost estimation when official energy data is unavailable.\nThe key gap in current research is the absence of official lab disclosures for per-token energy or phase-separated metrics. TokenPowerBench provides the methodological framework for such measurements, but production-scale validation from hyperscalers remains elusive. For now, researchers and practitioners must extrapolate from academic benchmarks, infrastructure analyses, and pricing signals to estimate real-world energy consumption."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#appendix-cost-gut-check",
    "href": "blog/2026-01-20-cc-impact/index.html#appendix-cost-gut-check",
    "title": "Electricity use of AI coding agents",
    "section": "Appendix: Cost gut-check",
    "text": "Appendix: Cost gut-check\nJust to confirm that my parsing of the Claude session logs was reasonable, I decided to also estimate the dollar cost from our token data and compare the results to what ccusage reports.\n\npricing &lt;- tribble(\n  ~model,                        ~input, ~output,\n  \"claude-opus-4-5-20251101\",    5,      25,\n  \"claude-sonnet-4-5-20250929\",  3,      15,\n  \"claude-haiku-4-5-20251001\",   1,      5\n) |&gt;\n  mutate(\n    cache_creation = input * 1.25,\n    cache_read = input * 0.10\n  )\n\nestimated_cost &lt;-\n  usage |&gt;\n  filter(as_date(timestamp) &gt;= \"2025-12-19\") |&gt;\n  left_join(pricing, by = \"model\") |&gt;\n  summarize(\n    cost_usd = sum(\n      input_tokens * input / 1e6 +\n      output_tokens * output / 1e6 +\n      cache_creation_tokens * cache_creation / 1e6 +\n      cache_read_tokens * cache_read / 1e6,\n      na.rm = TRUE\n    )\n  )\n\nestimated_cost\n\n# A tibble: 1 √ó 1\n  cost_usd\n     &lt;dbl&gt;\n1     481.\n\n\nI estimate the cost over the last month at $480.64, within a dollar of what ccusage reported. Close enough for me."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#putting-it-in-context",
    "href": "blog/2026-01-20-cc-impact/index.html#putting-it-in-context",
    "title": "Water and energy usage of AI coding agents",
    "section": "Putting it in context",
    "text": "Putting it in context"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#in-context",
    "href": "blog/2026-01-20-cc-impact/index.html#in-context",
    "title": "Electricity use of AI coding agents",
    "section": "In context",
    "text": "In context\nSo, compared to a ‚Äútypical query‚Äù of 0.3 Wh, my median Claude Code session is something like 41 Wh, and in a typical day of coding with Claude Code, I consume something like 1,300 Wh. How does this compare to other things I do every day?\nUsing the same data from Epoch AI:\n\n\n\n\n\n\n\n\nIt‚Äôs a bit unfair to show the ‚Äúper-day‚Äù usage from Claude Code without the same time scale for other usages. Here‚Äôs a similar plot with a few more ‚Äúper day‚Äù numbers included:\n\n\n\n\n\n\n\n\nSo, if I wanted to analogize the energy usage of my use of coding agents, it‚Äôs something like running the dishwasher an extra time each day, keeping an extra refrigerator, or skipping one drive to the grocery store in favor of biking there. To me, this is very different than, in Benjamin Todd‚Äôs words, ‚Äúa terrible reason to avoid‚Äù this level of AI use. These are the sorts of things that would make me think twice.\nThere are a few very important caveats:\n\nThis is all napkin math based on estimates from other researchers because the frontier labs don‚Äôt release comprehensive data. They ought to.\nThe mix of energy sources that are used to power that compute largely determines how problematic this is. If that compute is largely driven by fossil fuels, that‚Äôs a problem, but if the compute is largely driven by renewables, I don‚Äôt mind much.3 Hank Green has a great video about this.\n\nAs Benjamin Todd puts it, ‚ÄúCutting individual emissions is an inefficient way to fight climate change in the first place.‚Äù If we want to reduce the climate impact of our LLM usage, we are likely better off e.g.¬†supporting advocacy for the green energy transition.\n\nI do have a weird relationship with this point specifically, as I write software that makes it easier for other people to use LLMs and I give talks about it and write blog posts about it and stuff. For most readers of this post, though, this likely doesn‚Äôt apply.\n\n\n\nPersonally, I don‚Äôt know that this scale of energy (and, ostensibly, water) use is significant enough to make me decrease my use of coding agents.4 That said, it is significant enough to make me donate to organizations that are working to accelerate the green energy transition, especially related to AI, like ClimateAction.tech, Green Web Foundation, Clean Grid Alliance, Sierra Club, Natural Resources Defense Council (NRDC), Earthjustice, RMI (Rocky Mountain Institute), 350.org, and Clean Energy States Alliance."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "This is the main ccusage CLI package that provides usage analysis for Claude Code.\n\n\nName: ccusage Description: Usage analysis tool for Claude Code Type: CLI tool and library with TypeScript exports\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown (includes schema generation)\npnpm run generate:schema - Generate JSON schema for configuration\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\nAdd --json flag for JSON output format\nAdd --mode &lt;mode&gt; for cost calculation control (auto/calculate/display)\nAdd --active flag for blocks to show only active block with projections\nAdd --recent flag for blocks to show last 3 days including active\n\nCLI Testing:\n\npnpm run test:statusline - Test statusline with default test data\npnpm run test:statusline:all - Test statusline with all model variants\npnpm run test:statusline:sonnet4 - Test with Sonnet 4 data\npnpm run test:statusline:opus4 - Test with Opus 4 data\npnpm run test:statusline:sonnet41 - Test with Sonnet 4.1 data\n\n\n\n\nThis package contains the core ccusage functionality:\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Parses JSONL files from Claude data directories\nsrc/calculate-cost.ts - Token aggregation and cost calculation utilities\nsrc/commands/ - CLI subcommands (daily, monthly, session, blocks, statusline)\nsrc/logger.ts - Logging utilities (use instead of console.log)\n\nData Flow:\n\nLoads JSONL files from ~/.claude/projects/ and ~/.config/claude/projects/\nAggregates usage data by time periods or sessions\nCalculates costs using LiteLLM pricing database\nOutputs formatted tables or JSON\n\n\n\n\n\nIn-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nModel Testing: Use current Claude 4 models (sonnet-4, opus-4) in tests\nMock Data: Uses fs-fixture with createFixture() for Claude data simulation\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks\n\n\n\n\n\nError Handling: Prefer @praha/byethrow Result type over try-catch for functional error handling\nImports: Use .ts extensions for local imports (e.g., import { foo } from './utils.ts')\nExports: Only export what‚Äôs actually used by other modules\nDependencies: Add as devDependencies unless explicitly requested otherwise\nNo console.log: Use logger.ts instead\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\nCLAUDE_CONFIG_DIR - Custom Claude data directory paths (supports multiple comma-separated paths)\n\n\n\n\nBecause ccusage is distributed as a bundled CLI, keep all runtime libraries in devDependencies so the bundler captures them.\nKey Runtime Dependencies:\n\ngunshi - CLI framework\ncli-table3 - Table formatting\nvalibot - Schema validation\n@praha/byethrow - Functional error handling\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation\n\n\n\n\nThe package provides multiple exports for library usage:\n\n. - Main CLI entry point\n./calculate-cost - Cost calculation utilities\n./data-loader - Data loading functions\n./debug - Debug utilities\n./logger - Logging utilities\n./pricing-fetcher - LiteLLM pricing integration"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Name: ccusage Description: Usage analysis tool for Claude Code Type: CLI tool and library with TypeScript exports"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown (includes schema generation)\npnpm run generate:schema - Generate JSON schema for configuration\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\nAdd --json flag for JSON output format\nAdd --mode &lt;mode&gt; for cost calculation control (auto/calculate/display)\nAdd --active flag for blocks to show only active block with projections\nAdd --recent flag for blocks to show last 3 days including active\n\nCLI Testing:\n\npnpm run test:statusline - Test statusline with default test data\npnpm run test:statusline:all - Test statusline with all model variants\npnpm run test:statusline:sonnet4 - Test with Sonnet 4 data\npnpm run test:statusline:opus4 - Test with Opus 4 data\npnpm run test:statusline:sonnet41 - Test with Sonnet 4.1 data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#architecture",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "This package contains the core ccusage functionality:\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Parses JSONL files from Claude data directories\nsrc/calculate-cost.ts - Token aggregation and cost calculation utilities\nsrc/commands/ - CLI subcommands (daily, monthly, session, blocks, statusline)\nsrc/logger.ts - Logging utilities (use instead of console.log)\n\nData Flow:\n\nLoads JSONL files from ~/.claude/projects/ and ~/.config/claude/projects/\nAggregates usage data by time periods or sessions\nCalculates costs using LiteLLM pricing database\nOutputs formatted tables or JSON"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#testing-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#testing-guidelines",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "In-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nModel Testing: Use current Claude 4 models (sonnet-4, opus-4) in tests\nMock Data: Uses fs-fixture with createFixture() for Claude data simulation\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#code-style",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Error Handling: Prefer @praha/byethrow Result type over try-catch for functional error handling\nImports: Use .ts extensions for local imports (e.g., import { foo } from './utils.ts')\nExports: Only export what‚Äôs actually used by other modules\nDependencies: Add as devDependencies unless explicitly requested otherwise\nNo console.log: Use logger.ts instead\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#environment-variables",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "LOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\nCLAUDE_CONFIG_DIR - Custom Claude data directory paths (supports multiple comma-separated paths)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Because ccusage is distributed as a bundled CLI, keep all runtime libraries in devDependencies so the bundler captures them.\nKey Runtime Dependencies:\n\ngunshi - CLI framework\ncli-table3 - Table formatting\nvalibot - Schema validation\n@praha/byethrow - Functional error handling\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#package-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/CLAUDE.html#package-exports",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "The package provides multiple exports for library usage:\n\n. - Main CLI entry point\n./calculate-cost - Cost calculation utilities\n./data-loader - Data loading functions\n./debug - Debug utilities\n./logger - Logging utilities\n./pricing-fetcher - LiteLLM pricing integration"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode session usage is recorded under ${OPENCODE_DATA_DIR:-~/.local/share/opencode}/storage/message/ (the CLI resolves OPENCODE_DATA_DIR and falls back to ~/.local/share/opencode).\nEach message is stored as an individual JSON file (not JSONL like Claude or Codex).\nMessage structure includes tokens.input, tokens.output, tokens.cache.read, and tokens.cache.write.\n\n\n\n\n\ninput: total input tokens sent to the model.\noutput: output tokens (completion text).\ncache.read: cached portion of the input (prompt-caching).\ncache.write: cache creation tokens.\nPre-calculated cost field may be present in OpenCode messages.\n\n\n\n\n\nOpenCode messages may include pre-calculated cost field in USD.\nWhen cost is not present, costs should be calculated using model pricing data.\nToken mapping:\n\ninputTokens ‚Üê tokens.input\noutputTokens ‚Üê tokens.output\ncacheReadInputTokens ‚Üê tokens.cache.read\ncacheCreationInputTokens ‚Üê tokens.cache.write\n\n\n\n\n\n\nTreat OpenCode as a sibling to apps/ccusage and apps/codex.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nOpenCode is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework.\nData discovery relies on OPENCODE_DATA_DIR environment variable.\nDefault path: ~/.local/share/opencode.\n\n\n\n\n\nTests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#log-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#log-sources",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode session usage is recorded under ${OPENCODE_DATA_DIR:-~/.local/share/opencode}/storage/message/ (the CLI resolves OPENCODE_DATA_DIR and falls back to ~/.local/share/opencode).\nEach message is stored as an individual JSON file (not JSONL like Claude or Codex).\nMessage structure includes tokens.input, tokens.output, tokens.cache.read, and tokens.cache.write."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#token-fields",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#token-fields",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "input: total input tokens sent to the model.\noutput: output tokens (completion text).\ncache.read: cached portion of the input (prompt-caching).\ncache.write: cache creation tokens.\nPre-calculated cost field may be present in OpenCode messages."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#cost-calculation",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#cost-calculation",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode messages may include pre-calculated cost field in USD.\nWhen cost is not present, costs should be calculated using model pricing data.\nToken mapping:\n\ninputTokens ‚Üê tokens.input\noutputTokens ‚Üê tokens.output\ncacheReadInputTokens ‚Üê tokens.cache.read\ncacheCreationInputTokens ‚Üê tokens.cache.write"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#cli-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#cli-usage",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "Treat OpenCode as a sibling to apps/ccusage and apps/codex.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nOpenCode is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework.\nData discovery relies on OPENCODE_DATA_DIR environment variable.\nDefault path: ~/.local/share/opencode."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#testing-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/CLAUDE.html#testing-notes",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "Tests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Amp session usage is recorded under ${AMP_DATA_DIR:-~/.local/share/amp}/threads/ (the CLI resolves AMP_DATA_DIR and falls back to ~/.local/share/amp).\nEach thread is stored as a JSON file (not JSONL) named T-{uuid}.json.\nToken usage is extracted from the usageLedger.events[] array in each thread file.\nCache token information (creation/read) is extracted from messages[].usage for detailed breakdown.\n\n\n\n\n\ninputTokens: total input tokens sent to the model.\noutputTokens: output tokens (completion text).\ncacheCreationInputTokens: tokens used for cache creation (from message usage).\ncacheReadInputTokens: tokens read from cache (from message usage).\ntotalTokens: sum of input and output tokens.\n\n\n\n\n\nAmp uses a credits-based billing system in addition to standard token counts.\nEach usage event includes a credits field representing the billing cost in Amp‚Äôs credit system.\nCredits are displayed alongside USD cost estimates in reports.\n\n\n\n\n\nPricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nAmp primarily uses Anthropic Claude models (Haiku, Sonnet, Opus variants).\nCost formula per model:\n\nInput: inputTokens / 1_000_000 * input_cost_per_mtoken\nCached input read: cacheReadInputTokens / 1_000_000 * cached_input_cost_per_mtoken\nCache creation: cacheCreationInputTokens / 1_000_000 * cache_creation_cost_per_mtoken\nOutput: outputTokens / 1_000_000 * output_cost_per_mtoken\n\n\n\n\n\n\nTreat Amp as a sibling to apps/ccusage, apps/codex, and apps/opencode.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nAmp is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework with subcommands: daily, monthly, session.\nData discovery relies on AMP_DATA_DIR environment variable.\nDefault path: ~/.local/share/amp.\n\n\n\n\n\nccusage-amp daily - Show daily usage report\nccusage-amp monthly - Show monthly usage report\nccusage-amp session - Show usage by thread (session)\nAdd --json flag for JSON output format\nAdd --compact flag for compact table mode\n\n\n\n\n\nTests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports.\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks.\n\n\n\n\nAmp thread files have the following structure:\n{\n    \"id\": \"T-{uuid}\",\n    \"created\": 1700000000000,\n    \"title\": \"Thread Title\",\n    \"messages\": [\n        {\n            \"role\": \"assistant\",\n            \"messageId\": 1,\n            \"usage\": {\n                \"model\": \"claude-haiku-4-5-20251001\",\n                \"inputTokens\": 100,\n                \"outputTokens\": 50,\n                \"cacheCreationInputTokens\": 500,\n                \"cacheReadInputTokens\": 200,\n                \"credits\": 1.5\n            }\n        }\n    ],\n    \"usageLedger\": {\n        \"events\": [\n            {\n                \"id\": \"event-uuid\",\n                \"timestamp\": \"2025-11-23T10:00:00.000Z\",\n                \"model\": \"claude-haiku-4-5-20251001\",\n                \"credits\": 1.5,\n                \"tokens\": {\n                    \"input\": 100,\n                    \"output\": 50\n                },\n                \"operationType\": \"inference\",\n                \"fromMessageId\": 0,\n                \"toMessageId\": 1\n            }\n        ]\n    }\n}\n\n\n\n\nAMP_DATA_DIR - Custom Amp data directory path (defaults to ~/.local/share/amp)\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#log-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#log-sources",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Amp session usage is recorded under ${AMP_DATA_DIR:-~/.local/share/amp}/threads/ (the CLI resolves AMP_DATA_DIR and falls back to ~/.local/share/amp).\nEach thread is stored as a JSON file (not JSONL) named T-{uuid}.json.\nToken usage is extracted from the usageLedger.events[] array in each thread file.\nCache token information (creation/read) is extracted from messages[].usage for detailed breakdown."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#token-fields",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#token-fields",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "inputTokens: total input tokens sent to the model.\noutputTokens: output tokens (completion text).\ncacheCreationInputTokens: tokens used for cache creation (from message usage).\ncacheReadInputTokens: tokens read from cache (from message usage).\ntotalTokens: sum of input and output tokens."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#credits",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#credits",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Amp uses a credits-based billing system in addition to standard token counts.\nEach usage event includes a credits field representing the billing cost in Amp‚Äôs credit system.\nCredits are displayed alongside USD cost estimates in reports."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#cost-calculation",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#cost-calculation",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Pricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nAmp primarily uses Anthropic Claude models (Haiku, Sonnet, Opus variants).\nCost formula per model:\n\nInput: inputTokens / 1_000_000 * input_cost_per_mtoken\nCached input read: cacheReadInputTokens / 1_000_000 * cached_input_cost_per_mtoken\nCache creation: cacheCreationInputTokens / 1_000_000 * cache_creation_cost_per_mtoken\nOutput: outputTokens / 1_000_000 * output_cost_per_mtoken"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#cli-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#cli-usage",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Treat Amp as a sibling to apps/ccusage, apps/codex, and apps/opencode.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nAmp is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework with subcommands: daily, monthly, session.\nData discovery relies on AMP_DATA_DIR environment variable.\nDefault path: ~/.local/share/amp."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#available-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#available-commands",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "ccusage-amp daily - Show daily usage report\nccusage-amp monthly - Show monthly usage report\nccusage-amp session - Show usage by thread (session)\nAdd --json flag for JSON output format\nAdd --compact flag for compact table mode"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#testing-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#testing-notes",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Tests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports.\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#data-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#data-structure",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "Amp thread files have the following structure:\n{\n    \"id\": \"T-{uuid}\",\n    \"created\": 1700000000000,\n    \"title\": \"Thread Title\",\n    \"messages\": [\n        {\n            \"role\": \"assistant\",\n            \"messageId\": 1,\n            \"usage\": {\n                \"model\": \"claude-haiku-4-5-20251001\",\n                \"inputTokens\": 100,\n                \"outputTokens\": 50,\n                \"cacheCreationInputTokens\": 500,\n                \"cacheReadInputTokens\": 200,\n                \"credits\": 1.5\n            }\n        }\n    ],\n    \"usageLedger\": {\n        \"events\": [\n            {\n                \"id\": \"event-uuid\",\n                \"timestamp\": \"2025-11-23T10:00:00.000Z\",\n                \"model\": \"claude-haiku-4-5-20251001\",\n                \"credits\": 1.5,\n                \"tokens\": {\n                    \"input\": 100,\n                    \"output\": 50\n                },\n                \"operationType\": \"inference\",\n                \"fromMessageId\": 0,\n                \"toMessageId\": 1\n            }\n        ]\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/amp/CLAUDE.html#environment-variables",
    "title": "Amp CLI Notes",
    "section": "",
    "text": "AMP_DATA_DIR - Custom Amp data directory path (defaults to ~/.local/share/amp)\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This package provides the MCP (Model Context Protocol) server implementation for ccusage data.\n\n\nName: @ccusage/mcp Description: MCP server implementation for ccusage data Type: MCP server with CLI and library exports\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\n\n\n\nAs MCP Server:\n# Install and run as MCP server\npnpm dlx @ccusage/mcp@latest -- --help\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080\nDirect Usage:\n# Run the CLI directly\nccusage-mcp --help\n\n\n\nThis package implements an MCP server that exposes ccusage functionality through the Model Context Protocol:\nKey Modules:\n\nsrc/index.ts - Main MCP server implementation\nsrc/cli.ts - CLI entry point for the MCP server\nsrc/command.ts - Command handling and routing\n\nMCP Tools Provided:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nTransport Support:\n\nHTTP transport for web-based integration\nConfigurable port and host settings\n\n\n\n\nKey Runtime Dependencies:\n\n@hono/mcp - MCP implementation for Hono\n@hono/node-server - Node.js server adapter for Hono\n@modelcontextprotocol/sdk - Official MCP SDK\nccusage - Main ccusage package (workspace dependency)\ngunshi - CLI framework\nhono - Web framework\nzod - Schema validation\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation\n\n\n\n\nThis MCP server can be integrated with Claude Desktop to provide usage analysis directly within Claude conversations. Configure it in your Claude Desktop MCP settings to access ccusage data through the MCP protocol.\n\n\n\n\nIn-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing MCP server functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere\n\n\n\n\nFollow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\nThe package provides multiple exports:\n\n. - Main MCP server\n./cli - CLI entry point\n./command - Command handling utilities\n\n\n\n\nThe package includes a binary ccusage-mcp that can be used to start the MCP server from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Name: @ccusage/mcp Description: MCP server implementation for ccusage data Type: MCP server with CLI and library exports"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#usage",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "As MCP Server:\n# Install and run as MCP server\npnpm dlx @ccusage/mcp@latest -- --help\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080\nDirect Usage:\n# Run the CLI directly\nccusage-mcp --help"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#architecture",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This package implements an MCP server that exposes ccusage functionality through the Model Context Protocol:\nKey Modules:\n\nsrc/index.ts - Main MCP server implementation\nsrc/cli.ts - CLI entry point for the MCP server\nsrc/command.ts - Command handling and routing\n\nMCP Tools Provided:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nTransport Support:\n\nHTTP transport for web-based integration\nConfigurable port and host settings"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Key Runtime Dependencies:\n\n@hono/mcp - MCP implementation for Hono\n@hono/node-server - Node.js server adapter for Hono\n@modelcontextprotocol/sdk - Official MCP SDK\nccusage - Main ccusage package (workspace dependency)\ngunshi - CLI framework\nhono - Web framework\nzod - Schema validation\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#integration-with-claude-desktop",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#integration-with-claude-desktop",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This MCP server can be integrated with Claude Desktop to provide usage analysis directly within Claude conversations. Configure it in your Claude Desktop MCP settings to access ccusage data through the MCP protocol."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#testing",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#testing",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "In-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing MCP server functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#code-style",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Follow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#package-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#package-exports",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "The package provides multiple exports:\n\n. - Main MCP server\n./cli - CLI entry point\n./command - Command handling utilities"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#binary",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/CLAUDE.html#binary",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "The package includes a binary ccusage-mcp that can be used to start the MCP server from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Codex session usage is recorded under ${CODEX_HOME:-~/.codex}/sessions/ (the CLI resolves CODEX_HOME and falls back to ~/.codex).\nEach JSONL line is an event_msg with payload.type === \"token_count\".\npayload.info.total_token_usage holds cumulative totals; payload.info.last_token_usage is the delta for the most recent turn.\nWhen only cumulative totals are present, we subtract the previous totals to recover a per-event delta.\n\n\n\n\n\ninput_tokens: total input tokens sent to the model.\ncached_input_tokens: cached portion of the input (prompt-caching).\noutput_tokens: normal output tokens (includes completion text).\nreasoning_output_tokens: structured reasoning tokens counted separately by OpenAI.\ntotal_tokens: either provided directly or, for legacy entries, recomputed as input + output (reasoning is informational and already included in output).\n\n-## Cost Calculation\n\nPricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nThe CLI trusts the model metadata emitted in each turn_context. Sessions missing that metadata (observed in early September 2025 builds) fall back to gpt-5 so the tokens remain visible, but the pricing should be considered approximate. These events are tagged with isFallbackModel === true and surface as isFallback in aggregated JSON.\nPer-model pricing is fetched through the shared LiteLLMPricingFetcher with an offline cache macro scoped to Codex-prefixed models. Aliases (e.g.¬†gpt-5-codex ‚Üí gpt-5) are handled in CodexPricingSource for pricing parity.\nCost formula per model/date:\n\nNon-cached input: (input_tokens - cached_input_tokens) / 1_000_000 * input_cost_per_mtoken.\nCached input: cached_input_tokens / 1_000_000 * cached_input_cost_per_mtoken (falls back to input price when missing).\nOutput: output_tokens / 1_000_000 * output_cost_per_mtoken.\n\nCached token rate for gpt-5 (2025-08-07 pricing):\n\nInput: $0.00125 per 1K tokens (‚Üí $1.25 per 1M).\nCached input: $0.000125 per 1K tokens (‚Üí $0.125 per 1M).\nOutput: $0.01 per 1K tokens (‚Üí $10 per 1M).\n\nCommand flag --offline forces use of the embedded pricing snapshot.\n\n\n\n\n\n\n\n\n\n\n\nField\nMeaning\nBilling treatment\n\n\n\n\ninput_tokens\nPrompt tokens sent this turn\nPriced at input_cost_per_mtoken minus the cached share\n\n\ncached_input_tokens/cache_read_input_tokens\nPrompt tokens satisfied from cache\nPriced at cached_input_cost_per_mtoken (falls back to input price)\n\n\noutput_tokens\nCompletion tokens, including reasoning cost\nPriced at output_cost_per_mtoken\n\n\nreasoning_output_tokens\nOptional breakdown for reasoning\nInformational only; already included in output_tokens\n\n\ntotal_tokens\nCumulative total emitted by Codex\nUsed verbatim when present; legacy entries fall back to input + output\n\n\n\nParsing normalizes every event through these rules. When we have to synthesize totals for legacy JSONL files we explicitly skip adding reasoning so the display matches what Codex billed. Events that rely on model/pricing fallbacks carry isFallbackModel === true, and aggregated model rows expose isFallback so table/JSON output highlights the assumption.\n\n\n\n\n\nTreat Codex as a sibling to apps/ccusage; whenever possible reuse the same shared packages (@ccusage/terminal, pricing helpers, logging), command names, and flag semantics. Diverge only when Codex-specific data forces it and document the reason inline.\nCodex is packaged as a bundled CLI. Keep every runtime dependency in devDependencies so the bundle includes the code that ships.\nEntry point remains Gunshi-based; only daily subcommand is wired for now.\nSession discovery relies solely on CODEX_HOME; there is no explicit --dir override.\n--json toggles structured output; totals include aggregated tokens and USD cost.\nTable view lists models per day with their token totals in parentheses.\n\n\n\n\n\nTests rely on fs-fixture with using to ensure cleanup.\nPricing tests inject stub offline loaders to avoid network access.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null)."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#log-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#log-sources",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Codex session usage is recorded under ${CODEX_HOME:-~/.codex}/sessions/ (the CLI resolves CODEX_HOME and falls back to ~/.codex).\nEach JSONL line is an event_msg with payload.type === \"token_count\".\npayload.info.total_token_usage holds cumulative totals; payload.info.last_token_usage is the delta for the most recent turn.\nWhen only cumulative totals are present, we subtract the previous totals to recover a per-event delta."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#token-fields",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#token-fields",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "input_tokens: total input tokens sent to the model.\ncached_input_tokens: cached portion of the input (prompt-caching).\noutput_tokens: normal output tokens (includes completion text).\nreasoning_output_tokens: structured reasoning tokens counted separately by OpenAI.\ntotal_tokens: either provided directly or, for legacy entries, recomputed as input + output (reasoning is informational and already included in output).\n\n-## Cost Calculation\n\nPricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nThe CLI trusts the model metadata emitted in each turn_context. Sessions missing that metadata (observed in early September 2025 builds) fall back to gpt-5 so the tokens remain visible, but the pricing should be considered approximate. These events are tagged with isFallbackModel === true and surface as isFallback in aggregated JSON.\nPer-model pricing is fetched through the shared LiteLLMPricingFetcher with an offline cache macro scoped to Codex-prefixed models. Aliases (e.g.¬†gpt-5-codex ‚Üí gpt-5) are handled in CodexPricingSource for pricing parity.\nCost formula per model/date:\n\nNon-cached input: (input_tokens - cached_input_tokens) / 1_000_000 * input_cost_per_mtoken.\nCached input: cached_input_tokens / 1_000_000 * cached_input_cost_per_mtoken (falls back to input price when missing).\nOutput: output_tokens / 1_000_000 * output_cost_per_mtoken.\n\nCached token rate for gpt-5 (2025-08-07 pricing):\n\nInput: $0.00125 per 1K tokens (‚Üí $1.25 per 1M).\nCached input: $0.000125 per 1K tokens (‚Üí $0.125 per 1M).\nOutput: $0.01 per 1K tokens (‚Üí $10 per 1M).\n\nCommand flag --offline forces use of the embedded pricing snapshot.\n\n\n\n\n\n\n\n\n\n\n\nField\nMeaning\nBilling treatment\n\n\n\n\ninput_tokens\nPrompt tokens sent this turn\nPriced at input_cost_per_mtoken minus the cached share\n\n\ncached_input_tokens/cache_read_input_tokens\nPrompt tokens satisfied from cache\nPriced at cached_input_cost_per_mtoken (falls back to input price)\n\n\noutput_tokens\nCompletion tokens, including reasoning cost\nPriced at output_cost_per_mtoken\n\n\nreasoning_output_tokens\nOptional breakdown for reasoning\nInformational only; already included in output_tokens\n\n\ntotal_tokens\nCumulative total emitted by Codex\nUsed verbatim when present; legacy entries fall back to input + output\n\n\n\nParsing normalizes every event through these rules. When we have to synthesize totals for legacy JSONL files we explicitly skip adding reasoning so the display matches what Codex billed. Events that rely on model/pricing fallbacks carry isFallbackModel === true, and aggregated model rows expose isFallback so table/JSON output highlights the assumption."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#cli-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#cli-usage",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Treat Codex as a sibling to apps/ccusage; whenever possible reuse the same shared packages (@ccusage/terminal, pricing helpers, logging), command names, and flag semantics. Diverge only when Codex-specific data forces it and document the reason inline.\nCodex is packaged as a bundled CLI. Keep every runtime dependency in devDependencies so the bundle includes the code that ships.\nEntry point remains Gunshi-based; only daily subcommand is wired for now.\nSession discovery relies solely on CODEX_HOME; there is no explicit --dir override.\n--json toggles structured output; totals include aggregated tokens and USD cost.\nTable view lists models per day with their token totals in parentheses."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#testing-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/CLAUDE.html#testing-notes",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Tests rely on fs-fixture with using to ensure cleanup.\nPricing tests inject stub offline loaders to avoid network access.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null)."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n\nThis is a monorepo containing multiple packages. For package-specific guidance, refer to the individual CLAUDE.md files:\n\nMain CLI Package: @apps/ccusage/CLAUDE.md - Core ccusage CLI tool and library\nCodex CLI Package: @apps/codex/CLAUDE.md - OpenAI Codex usage tracking CLI\nOpenCode CLI Package: @apps/opencode/CLAUDE.md - OpenCode usage tracking CLI\nMCP Server Package: @apps/mcp/CLAUDE.md - MCP server implementation for ccusage data\nDocumentation: @docs/CLAUDE.md - VitePress-based documentation website\n\nEach package has its own development commands, dependencies, and specific guidelines. Always check the relevant package‚Äôs CLAUDE.md when working within that package directory.\n\n\nAll projects under apps/ ship as bundled CLIs/binaries. Treat their runtime dependencies as bundled assets: list everything in each app‚Äôs devDependencies (never dependencies) so the bundler owns the runtime payload.\n\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\nLint code using ESLint MCP server (available via Claude Code tools)\npnpm run format - Format code with ESLint (writes changes)\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run release - Full release workflow (lint + typecheck + test + build + version bump)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\npnpm run start daily --json - Show daily usage report in JSON format\npnpm run start monthly --json - Show monthly usage report in JSON format\npnpm run start session --json - Show session usage report in JSON format\npnpm run start blocks --json - Show blocks usage report in JSON format\npnpm run start daily --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start monthly --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start session --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --active - Show only active block with projections\npnpm run start blocks --recent - Show blocks from last 3 days (including active)\npnpm run start blocks --token-limit &lt;limit&gt; - Token limit for quota warnings (number or ‚Äúmax‚Äù)\nnode ./src/index.ts - Direct execution for development\n\nMCP Server Usage: (now provided by the @ccusage/mcp package)\n\npnpm dlx @ccusage/mcp@latest -- --help - Show available options\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080 - Start HTTP transport\n\nCost Calculation Modes:\n\nauto (default) - Use pre-calculated costUSD when available, otherwise calculate from tokens\ncalculate - Always calculate costs from token counts using model pricing, ignore costUSD\ndisplay - Always use pre-calculated costUSD values, show 0 for missing costs\n\nEnvironment Variables:\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\n\nExample: LOG_LEVEL=0 pnpm run start daily for silent output\nUseful for debugging or suppressing non-critical output\n\n\nMultiple Claude Data Directories:\nThis tool supports multiple Claude data directories to handle different Claude Code installations:\n\nDefault Behavior: Automatically searches both ~/.config/claude/projects/ (new default) and ~/.claude/projects/ (old default)\nEnvironment Variable: Set CLAUDE_CONFIG_DIR to specify custom path(s)\n\nSingle path: export CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nMultiple paths: export CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\nData Aggregation: Usage data from all valid directories is automatically combined\nBackward Compatibility: Existing configurations continue to work without changes\n\nThis addresses the breaking change in Claude Code where logs moved from ~/.claude to ~/.config/claude.\n\n\n\nThis is a CLI tool that analyzes Claude Code usage data from local JSONL files stored in Claude data directories (supports both ~/.claude/projects/ and ~/.config/claude/projects/). The architecture follows a clear separation of concerns:\nCore Data Flow:\n\nData Loading (data-loader.ts) - Parses JSONL files from multiple Claude data directories, including pre-calculated costs\nToken Aggregation (calculate-cost.ts) - Utility functions for aggregating token counts and costs\nCommand Execution (commands/) - CLI subcommands that orchestrate data loading and presentation\nCLI Entry (index.ts) - Gunshi-based CLI setup with subcommand routing\n\nOutput Formats:\n\nTable format (default): Pretty-printed tables with colors for terminal display\nJSON format (--json): Structured JSON output for programmatic consumption\n\nKey Data Structures:\n\nRaw usage data is parsed from JSONL with timestamp, token counts, and pre-calculated costs\nData is aggregated into daily summaries, monthly summaries, session summaries, or 5-hour billing blocks\nImportant Note on Naming: The term ‚Äúsession‚Äù in this codebase has two different meanings:\n\nSession Reports (pnpm run start session): Groups usage by project directories. What we call ‚ÄúsessionId‚Äù in these reports is actually derived from the directory structure (project/directory)\nTrue Session ID: The actual Claude Code session ID found in the sessionId field within JSONL entries and used as the filename ({sessionId}.jsonl)\n\nFile structure: projects/{project}/{sessionId}.jsonl where:\n\n{project} is the project directory name (used for grouping)\n{sessionId}.jsonl is the JSONL file named with the actual session ID from Claude Code\nEach JSONL file contains all usage entries for a single Claude Code session\nThe sessionId in the filename matches the sessionId field inside the JSONL entries\n\n5-hour blocks group usage data by Claude‚Äôs billing cycles with active block tracking\n\nExternal Dependencies:\n\nUses local timezone for date formatting\nCLI built with gunshi framework, tables with cli-table3\nLiteLLM Integration: Cost calculations depend on LiteLLM‚Äôs pricing database for model pricing data\n\nMCP Integration:\n\nBuilt-in MCP Server: Exposes usage data through MCP protocol with tools:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nExternal MCP Servers Available:\n\nESLint MCP: Lint TypeScript/JavaScript files directly through Claude Code tools\nContext7 MCP: Look up documentation for libraries and frameworks\n\nClaude Code Skills Available:\n\nuse-gunshi-cli: Guide for using gunshi CLI framework (via @gunshi/docs)\nbyethrow: Guide for using @praha/byethrow Result type (via @praha/byethrow-docs)\n\n\n\n\n\nCommit Message Format:\nFollow the Conventional Commits specification with package/area prefixes:\n&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\nScope Naming Rules:\n\nApps: Use the app directory name\n\nfeat(ccusage): - Changes to apps/ccusage\nfix(mcp): - Fixes in apps/mcp\nfeat(codex): - Features for apps/codex (if exists)\n\nPackages: Use the package directory name\n\nfeat(terminal): - Changes to packages/terminal\nfix(ui): - Fixes in packages/ui\nrefactor(core): - Refactoring packages/core\n\nDocumentation: Use docs scope\n\ndocs: or docs(guide): - Documentation updates\ndocs(api): - API documentation changes\n\nRoot-level changes: No scope (preferred) or use root\n\nchore: - Root config updates\nci: - CI/CD changes\nfeat: - Root-level features\ndocs: - Root documentation updates\nbuild: or build(root): - Root build system changes\n\n\nType Prefixes:\n\nfeat: - New feature\nfix: - Bug fix\ndocs: - Documentation only changes\nstyle: - Code style changes (formatting, missing semi-colons, etc)\nrefactor: - Code change that neither fixes a bug nor adds a feature\nperf: - Performance improvements\ntest: - Adding missing tests or correcting existing tests\nchore: - Changes to the build process or auxiliary tools\nci: - CI/CD configuration changes\nrevert: - Reverting a previous commit\n\nExamples:\nfeat(ccusage): add support for Claude 4.1 models\nfix(mcp): resolve connection timeout issues\ndocs(guide): update installation instructions\nrefactor(ccusage): extract cost calculation to separate module\ntest(mcp): add integration tests for HTTP transport\nchore: update dependencies\nPR Title Convention:\nPR titles should follow the same format as commit messages. When a PR contains multiple commits, the title should describe the main change:\nfeat(ccusage): implement session-based usage reports\nfix(mcp): handle edge cases in data aggregation\ndocs: comprehensive API documentation update\n\n\n\n\nUses ESLint for linting and formatting with tab indentation and double quotes\nTypeScript with strict mode and bundler module resolution\nNo console.log allowed except where explicitly disabled with eslint-disable\nError handling: silently skips malformed JSONL lines during parsing\nFile paths always use Node.js path utilities for cross-platform compatibility\nImport conventions: Use .ts extensions for local file imports (e.g., import { foo } from './utils.ts')\n\nError Handling:\n\nPrefer @praha/byethrow Result type over traditional try-catch for functional error handling\n\nDocumentation: Available via byethrow skill (use /byethrow or check .claude/skills/byethrow/)\n\nUse Result.try() for wrapping operations that may throw (JSON parsing, etc.)\nUse Result.isFailure() for checking errors (more readable than !Result.isSuccess())\nUse early return pattern (if (Result.isFailure(result)) continue;) instead of ternary operators\nFor async operations: create wrapper function with Result.try() then call it\nKeep traditional try-catch only for: file I/O with complex error handling, legacy code that‚Äôs hard to refactor\nAlways use Result.isFailure() and Result.isSuccess() type guards for better code clarity\n\nNaming Conventions:\n\nVariables: start with lowercase (camelCase) - e.g., usageDataSchema, modelBreakdownSchema\nTypes: start with uppercase (PascalCase) - e.g., UsageData, ModelBreakdown\nConstants: can use UPPER_SNAKE_CASE - e.g., DEFAULT_CLAUDE_CODE_PATH\nInternal files: use underscore prefix - e.g., _types.ts, _utils.ts, _consts.ts\n\nExport Rules:\n\nIMPORTANT: Only export constants, functions, and types that are actually used by other modules\nInternal/private constants that are only used within the same file should NOT be exported\nAlways check if a constant is used elsewhere before making it export const vs just const\nThis follows the principle of minimizing the public API surface area\nDependencies should always be added as devDependencies unless explicitly requested otherwise\n\nPost-Code Change Workflow:\nAfter making any code changes, ALWAYS run these commands in parallel:\n\npnpm run format - Auto-fix and format code with ESLint (includes linting)\npnpm typecheck - Type check with TypeScript\npnpm run test - Run all tests\n\nThis ensures code quality and catches issues immediately after changes.\n\n\n\nScreenshot Usage:\n\nPlacement: Always place screenshots immediately after the main heading (H1) in documentation pages\nPurpose: Provide immediate visual context to users before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md (What is ccusage) - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images stored in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\n\n\n\nSupported Claude 4 Models (as of 2025):\n\nclaude-sonnet-4-20250514 - Latest Claude 4 Sonnet model\nclaude-opus-4-20250514 - Latest Claude 4 Opus model\n\nModel Naming Convention:\n\nPattern: claude-{model-type}-{generation}-{date}\nExample: claude-sonnet-4-20250514 (NOT claude-4-sonnet-20250514)\nThe generation number comes AFTER the model type\n\nTesting Guidelines:\n\nIn-Source Testing Pattern: This project uses in-source testing with if (import.meta.vitest != null) blocks\nTests are written directly in the same files as the source code, not in separate test files\nVitest globals (describe, it, expect) are available automatically without imports\nIMPORTANT: DO NOT use await import() dynamic imports anywhere in the codebase - this causes tree-shaking issues and should be avoided entirely\nESPECIALLY: Never use dynamic imports in vitest test blocks - this is particularly problematic for test execution\nVitest globals are enabled: Use describe, it, expect directly without any imports since globals are configured\nMock data is created using fs-fixture with createFixture() for Claude data directory simulation\nAll test files must use current Claude 4 models, not outdated Claude 3 models\nTest coverage should include both Sonnet and Opus models for comprehensive validation\nModel names in tests must exactly match LiteLLM‚Äôs pricing database entries\nWhen adding new model tests, verify the model exists in LiteLLM before implementation\nTests depend on real pricing data from LiteLLM - failures may indicate model availability issues\n\nLiteLLM Integration Notes:\n\nCost calculations require exact model name matches with LiteLLM‚Äôs database\nTest failures often indicate model names don‚Äôt exist in LiteLLM‚Äôs pricing data\nFuture model updates require checking LiteLLM compatibility first\nThe application cannot calculate costs for models not supported by LiteLLM"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#monorepo-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#monorepo-structure",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This is a monorepo containing multiple packages. For package-specific guidance, refer to the individual CLAUDE.md files:\n\nMain CLI Package: @apps/ccusage/CLAUDE.md - Core ccusage CLI tool and library\nCodex CLI Package: @apps/codex/CLAUDE.md - OpenAI Codex usage tracking CLI\nOpenCode CLI Package: @apps/opencode/CLAUDE.md - OpenCode usage tracking CLI\nMCP Server Package: @apps/mcp/CLAUDE.md - MCP server implementation for ccusage data\nDocumentation: @docs/CLAUDE.md - VitePress-based documentation website\n\nEach package has its own development commands, dependencies, and specific guidelines. Always check the relevant package‚Äôs CLAUDE.md when working within that package directory.\n\n\nAll projects under apps/ ship as bundled CLIs/binaries. Treat their runtime dependencies as bundled assets: list everything in each app‚Äôs devDependencies (never dependencies) so the bundler owns the runtime payload."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#development-commands",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\nLint code using ESLint MCP server (available via Claude Code tools)\npnpm run format - Format code with ESLint (writes changes)\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run release - Full release workflow (lint + typecheck + test + build + version bump)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\npnpm run start daily --json - Show daily usage report in JSON format\npnpm run start monthly --json - Show monthly usage report in JSON format\npnpm run start session --json - Show session usage report in JSON format\npnpm run start blocks --json - Show blocks usage report in JSON format\npnpm run start daily --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start monthly --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start session --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --active - Show only active block with projections\npnpm run start blocks --recent - Show blocks from last 3 days (including active)\npnpm run start blocks --token-limit &lt;limit&gt; - Token limit for quota warnings (number or ‚Äúmax‚Äù)\nnode ./src/index.ts - Direct execution for development\n\nMCP Server Usage: (now provided by the @ccusage/mcp package)\n\npnpm dlx @ccusage/mcp@latest -- --help - Show available options\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080 - Start HTTP transport\n\nCost Calculation Modes:\n\nauto (default) - Use pre-calculated costUSD when available, otherwise calculate from tokens\ncalculate - Always calculate costs from token counts using model pricing, ignore costUSD\ndisplay - Always use pre-calculated costUSD values, show 0 for missing costs\n\nEnvironment Variables:\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\n\nExample: LOG_LEVEL=0 pnpm run start daily for silent output\nUseful for debugging or suppressing non-critical output\n\n\nMultiple Claude Data Directories:\nThis tool supports multiple Claude data directories to handle different Claude Code installations:\n\nDefault Behavior: Automatically searches both ~/.config/claude/projects/ (new default) and ~/.claude/projects/ (old default)\nEnvironment Variable: Set CLAUDE_CONFIG_DIR to specify custom path(s)\n\nSingle path: export CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nMultiple paths: export CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\nData Aggregation: Usage data from all valid directories is automatically combined\nBackward Compatibility: Existing configurations continue to work without changes\n\nThis addresses the breaking change in Claude Code where logs moved from ~/.claude to ~/.config/claude."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#architecture-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#architecture-overview",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This is a CLI tool that analyzes Claude Code usage data from local JSONL files stored in Claude data directories (supports both ~/.claude/projects/ and ~/.config/claude/projects/). The architecture follows a clear separation of concerns:\nCore Data Flow:\n\nData Loading (data-loader.ts) - Parses JSONL files from multiple Claude data directories, including pre-calculated costs\nToken Aggregation (calculate-cost.ts) - Utility functions for aggregating token counts and costs\nCommand Execution (commands/) - CLI subcommands that orchestrate data loading and presentation\nCLI Entry (index.ts) - Gunshi-based CLI setup with subcommand routing\n\nOutput Formats:\n\nTable format (default): Pretty-printed tables with colors for terminal display\nJSON format (--json): Structured JSON output for programmatic consumption\n\nKey Data Structures:\n\nRaw usage data is parsed from JSONL with timestamp, token counts, and pre-calculated costs\nData is aggregated into daily summaries, monthly summaries, session summaries, or 5-hour billing blocks\nImportant Note on Naming: The term ‚Äúsession‚Äù in this codebase has two different meanings:\n\nSession Reports (pnpm run start session): Groups usage by project directories. What we call ‚ÄúsessionId‚Äù in these reports is actually derived from the directory structure (project/directory)\nTrue Session ID: The actual Claude Code session ID found in the sessionId field within JSONL entries and used as the filename ({sessionId}.jsonl)\n\nFile structure: projects/{project}/{sessionId}.jsonl where:\n\n{project} is the project directory name (used for grouping)\n{sessionId}.jsonl is the JSONL file named with the actual session ID from Claude Code\nEach JSONL file contains all usage entries for a single Claude Code session\nThe sessionId in the filename matches the sessionId field inside the JSONL entries\n\n5-hour blocks group usage data by Claude‚Äôs billing cycles with active block tracking\n\nExternal Dependencies:\n\nUses local timezone for date formatting\nCLI built with gunshi framework, tables with cli-table3\nLiteLLM Integration: Cost calculations depend on LiteLLM‚Äôs pricing database for model pricing data\n\nMCP Integration:\n\nBuilt-in MCP Server: Exposes usage data through MCP protocol with tools:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nExternal MCP Servers Available:\n\nESLint MCP: Lint TypeScript/JavaScript files directly through Claude Code tools\nContext7 MCP: Look up documentation for libraries and frameworks\n\nClaude Code Skills Available:\n\nuse-gunshi-cli: Guide for using gunshi CLI framework (via @gunshi/docs)\nbyethrow: Guide for using @praha/byethrow Result type (via @praha/byethrow-docs)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#git-commit-and-pr-conventions",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#git-commit-and-pr-conventions",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Commit Message Format:\nFollow the Conventional Commits specification with package/area prefixes:\n&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\nScope Naming Rules:\n\nApps: Use the app directory name\n\nfeat(ccusage): - Changes to apps/ccusage\nfix(mcp): - Fixes in apps/mcp\nfeat(codex): - Features for apps/codex (if exists)\n\nPackages: Use the package directory name\n\nfeat(terminal): - Changes to packages/terminal\nfix(ui): - Fixes in packages/ui\nrefactor(core): - Refactoring packages/core\n\nDocumentation: Use docs scope\n\ndocs: or docs(guide): - Documentation updates\ndocs(api): - API documentation changes\n\nRoot-level changes: No scope (preferred) or use root\n\nchore: - Root config updates\nci: - CI/CD changes\nfeat: - Root-level features\ndocs: - Root documentation updates\nbuild: or build(root): - Root build system changes\n\n\nType Prefixes:\n\nfeat: - New feature\nfix: - Bug fix\ndocs: - Documentation only changes\nstyle: - Code style changes (formatting, missing semi-colons, etc)\nrefactor: - Code change that neither fixes a bug nor adds a feature\nperf: - Performance improvements\ntest: - Adding missing tests or correcting existing tests\nchore: - Changes to the build process or auxiliary tools\nci: - CI/CD configuration changes\nrevert: - Reverting a previous commit\n\nExamples:\nfeat(ccusage): add support for Claude 4.1 models\nfix(mcp): resolve connection timeout issues\ndocs(guide): update installation instructions\nrefactor(ccusage): extract cost calculation to separate module\ntest(mcp): add integration tests for HTTP transport\nchore: update dependencies\nPR Title Convention:\nPR titles should follow the same format as commit messages. When a PR contains multiple commits, the title should describe the main change:\nfeat(ccusage): implement session-based usage reports\nfix(mcp): handle edge cases in data aggregation\ndocs: comprehensive API documentation update"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#code-style-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#code-style-notes",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Uses ESLint for linting and formatting with tab indentation and double quotes\nTypeScript with strict mode and bundler module resolution\nNo console.log allowed except where explicitly disabled with eslint-disable\nError handling: silently skips malformed JSONL lines during parsing\nFile paths always use Node.js path utilities for cross-platform compatibility\nImport conventions: Use .ts extensions for local file imports (e.g., import { foo } from './utils.ts')\n\nError Handling:\n\nPrefer @praha/byethrow Result type over traditional try-catch for functional error handling\n\nDocumentation: Available via byethrow skill (use /byethrow or check .claude/skills/byethrow/)\n\nUse Result.try() for wrapping operations that may throw (JSON parsing, etc.)\nUse Result.isFailure() for checking errors (more readable than !Result.isSuccess())\nUse early return pattern (if (Result.isFailure(result)) continue;) instead of ternary operators\nFor async operations: create wrapper function with Result.try() then call it\nKeep traditional try-catch only for: file I/O with complex error handling, legacy code that‚Äôs hard to refactor\nAlways use Result.isFailure() and Result.isSuccess() type guards for better code clarity\n\nNaming Conventions:\n\nVariables: start with lowercase (camelCase) - e.g., usageDataSchema, modelBreakdownSchema\nTypes: start with uppercase (PascalCase) - e.g., UsageData, ModelBreakdown\nConstants: can use UPPER_SNAKE_CASE - e.g., DEFAULT_CLAUDE_CODE_PATH\nInternal files: use underscore prefix - e.g., _types.ts, _utils.ts, _consts.ts\n\nExport Rules:\n\nIMPORTANT: Only export constants, functions, and types that are actually used by other modules\nInternal/private constants that are only used within the same file should NOT be exported\nAlways check if a constant is used elsewhere before making it export const vs just const\nThis follows the principle of minimizing the public API surface area\nDependencies should always be added as devDependencies unless explicitly requested otherwise\n\nPost-Code Change Workflow:\nAfter making any code changes, ALWAYS run these commands in parallel:\n\npnpm run format - Auto-fix and format code with ESLint (includes linting)\npnpm typecheck - Type check with TypeScript\npnpm run test - Run all tests\n\nThis ensures code quality and catches issues immediately after changes."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#documentation-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#documentation-guidelines",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Screenshot Usage:\n\nPlacement: Always place screenshots immediately after the main heading (H1) in documentation pages\nPurpose: Provide immediate visual context to users before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md (What is ccusage) - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images stored in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#claude-models-and-testing",
    "href": "blog/2026-01-20-cc-impact/ccusage/AGENTS.html#claude-models-and-testing",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Supported Claude 4 Models (as of 2025):\n\nclaude-sonnet-4-20250514 - Latest Claude 4 Sonnet model\nclaude-opus-4-20250514 - Latest Claude 4 Opus model\n\nModel Naming Convention:\n\nPattern: claude-{model-type}-{generation}-{date}\nExample: claude-sonnet-4-20250514 (NOT claude-4-sonnet-20250514)\nThe generation number comes AFTER the model type\n\nTesting Guidelines:\n\nIn-Source Testing Pattern: This project uses in-source testing with if (import.meta.vitest != null) blocks\nTests are written directly in the same files as the source code, not in separate test files\nVitest globals (describe, it, expect) are available automatically without imports\nIMPORTANT: DO NOT use await import() dynamic imports anywhere in the codebase - this causes tree-shaking issues and should be avoided entirely\nESPECIALLY: Never use dynamic imports in vitest test blocks - this is particularly problematic for test execution\nVitest globals are enabled: Use describe, it, expect directly without any imports since globals are configured\nMock data is created using fs-fixture with createFixture() for Claude data directory simulation\nAll test files must use current Claude 4 models, not outdated Claude 3 models\nTest coverage should include both Sonnet and Opus models for comprehensive validation\nModel names in tests must exactly match LiteLLM‚Äôs pricing database entries\nWhen adding new model tests, verify the model exists in LiteLLM before implementation\nTests depend on real pricing data from LiteLLM - failures may indicate model availability issues\n\nLiteLLM Integration Notes:\n\nCost calculations require exact model name matches with LiteLLM‚Äôs database\nTest failures often indicate model names don‚Äôt exist in LiteLLM‚Äôs pricing data\nFuture model updates require checking LiteLLM compatibility first\nThe application cannot calculate costs for models not supported by LiteLLM"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This package provides terminal utilities for the ccusage toolchain.\n\n\nName: @ccusage/terminal Description: Terminal utilities for ccusage Type: Internal library package (private)\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\n\n\n\nThis package contains terminal utilities used across the ccusage monorepo:\nKey Modules:\n\nsrc/table.ts - Table formatting and rendering utilities\nsrc/utils.ts - General terminal utilities\n\nExports:\n\n./table - Table formatting utilities\n./utils - Terminal utility functions\n\n\n\n\nRuntime Dependencies:\n\n@oxc-project/runtime - Runtime utilities\nansi-escapes - ANSI escape sequences for terminal manipulation\ncli-table3 - Table formatting for terminal output\nes-toolkit - Modern JavaScript utility library\npicocolors - Terminal color support\nstring-width - Get the visual width of strings\n\nDev Dependencies:\n\nvitest - Testing framework\neslint - Linting and formatting\n\n\n\n\n\nIn-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks\n\n\n\n\nFollow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer functional error handling patterns\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nNo console.log: Terminal output should be handled through proper utilities\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\nThis is a private internal package and should not be published to npm. It exists solely to provide terminal utilities for other packages in the monorepo."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#package-overview",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Name: @ccusage/terminal Description: Terminal utilities for ccusage Type: Internal library package (private)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#development-commands",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#architecture",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This package contains terminal utilities used across the ccusage monorepo:\nKey Modules:\n\nsrc/table.ts - Table formatting and rendering utilities\nsrc/utils.ts - General terminal utilities\n\nExports:\n\n./table - Table formatting utilities\n./utils - Terminal utility functions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#dependencies",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Runtime Dependencies:\n\n@oxc-project/runtime - Runtime utilities\nansi-escapes - ANSI escape sequences for terminal manipulation\ncli-table3 - Table formatting for terminal output\nes-toolkit - Modern JavaScript utility library\npicocolors - Terminal color support\nstring-width - Get the visual width of strings\n\nDev Dependencies:\n\nvitest - Testing framework\neslint - Linting and formatting"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#testing-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#testing-guidelines",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "In-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#code-style",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Follow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer functional error handling patterns\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nNo console.log: Terminal output should be handled through proper utilities\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#important-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/AGENTS.html#important-notes",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This is a private internal package and should not be published to npm. It exists solely to provide terminal utilities for other packages in the monorepo."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "This package contains shared internal utilities for the ccusage monorepo.\n\n\nName: @ccusage/internal Description: Shared internal utilities for ccusage toolchain Type: Internal library (private package)\n\n\n\nCRITICAL: This is an internal package that gets bundled into the final applications. Therefore:\n\nAlways add this package as a devDependency in apps that use it, NOT as a regular dependency\nApps in this monorepo (ccusage, mcp, codex) are bundled CLIs, so all their runtime dependencies should be in devDependencies\nThe bundler will include the code from this package in the final output\n\n\n\n\nUtilities:\n\n./pricing - LiteLLM pricing fetcher and utilities\n./pricing-fetch-utils - Pricing fetch helper functions\n./logger - Logger factory using consola with LOG_LEVEL support\n./format - Number formatting utilities (formatTokens, formatCurrency)\n./constants - Shared constants (DEFAULT_LOCALE, MILLION)\n\n\n\n\n\npnpm run test - Run tests\npnpm run lint - Lint code\npnpm run format - Format and auto-fix code\npnpm typecheck - Type check with TypeScript\n\n\n\n\nWhen adding new shared utilities:\n\nCreate the utility file in src/\nAdd the export to package.json exports field\nImport in consuming apps as devDependencies: \n\"devDependencies\": {\n  \"@ccusage/internal\": \"workspace:*\"\n}\nUse the utility:\nimport { createLogger } from '@ccusage/internal/logger';\n\n\n\n\nThis package has minimal runtime dependencies that get bundled:\n\n@praha/byethrow - Functional error handling\nconsola - Logging\nvalibot - Schema validation\n\n\n\n\n\n\nLiteLLM supports tiered pricing for large context window models. Not all models use tiered pricing:\nModels WITH tiered pricing:\n\nClaude/Anthropic models: 200k token threshold\n\nFields: input_cost_per_token_above_200k_tokens, output_cost_per_token_above_200k_tokens\nCache fields: cache_creation_input_token_cost_above_200k_tokens, cache_read_input_token_cost_above_200k_tokens\n‚úÖ Currently implemented in cost calculation logic\n\nGemini models: 128k token threshold\n\nFields: input_cost_per_token_above_128k_tokens, output_cost_per_token_above_128k_tokens\n‚ö†Ô∏è Schema supports these fields but calculation logic NOT implemented\nWould require different threshold handling if Gemini support is added\n\n\nModels WITHOUT tiered pricing:\n\nGPT/OpenAI models: Flat rate pricing (no token-based tiers)\n\nNote: OpenAI has ‚Äútier levels‚Äù but these are for API rate limits, not pricing\n\n\n\n\n\nWhen adding support for new models:\n\nCheck if the model has tiered pricing in LiteLLM‚Äôs schema\nVerify the threshold value (200k for Claude, 128k for Gemini, etc.)\nUpdate calculation logic if threshold differs from currently implemented 200k\nAdd comprehensive tests for boundary conditions at the threshold\nDocument the pricing structure in relevant CLAUDE.md files\nIf cache-specific rates are missing, fall back to the corresponding input rates (base and above-threshold) to avoid under-charging cached tokens\n\nThe current implementation in pricing.ts only handles 200k threshold. Adding models with different thresholds would require refactoring the calculateTieredCost helper function.\n\n\n\n\nFollow the same conventions as the main ccusage package:\n\nUse .ts extensions for local imports\nPrefer @praha/byethrow Result type over try-catch\nOnly export what‚Äôs actually used by other modules\nUse vitest in-source testing with if (import.meta.vitest != null) blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#package-overview",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Name: @ccusage/internal Description: Shared internal utilities for ccusage toolchain Type: Internal library (private package)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#important-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#important-notes",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "CRITICAL: This is an internal package that gets bundled into the final applications. Therefore:\n\nAlways add this package as a devDependency in apps that use it, NOT as a regular dependency\nApps in this monorepo (ccusage, mcp, codex) are bundled CLIs, so all their runtime dependencies should be in devDependencies\nThe bundler will include the code from this package in the final output"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#available-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#available-exports",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Utilities:\n\n./pricing - LiteLLM pricing fetcher and utilities\n./pricing-fetch-utils - Pricing fetch helper functions\n./logger - Logger factory using consola with LOG_LEVEL support\n./format - Number formatting utilities (formatTokens, formatCurrency)\n./constants - Shared constants (DEFAULT_LOCALE, MILLION)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#development-commands",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "pnpm run test - Run tests\npnpm run lint - Lint code\npnpm run format - Format and auto-fix code\npnpm typecheck - Type check with TypeScript"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#adding-new-utilities",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#adding-new-utilities",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "When adding new shared utilities:\n\nCreate the utility file in src/\nAdd the export to package.json exports field\nImport in consuming apps as devDependencies: \n\"devDependencies\": {\n  \"@ccusage/internal\": \"workspace:*\"\n}\nUse the utility:\nimport { createLogger } from '@ccusage/internal/logger';"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#dependencies",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "This package has minimal runtime dependencies that get bundled:\n\n@praha/byethrow - Functional error handling\nconsola - Logging\nvalibot - Schema validation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#pricing-implementation-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#pricing-implementation-notes",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "LiteLLM supports tiered pricing for large context window models. Not all models use tiered pricing:\nModels WITH tiered pricing:\n\nClaude/Anthropic models: 200k token threshold\n\nFields: input_cost_per_token_above_200k_tokens, output_cost_per_token_above_200k_tokens\nCache fields: cache_creation_input_token_cost_above_200k_tokens, cache_read_input_token_cost_above_200k_tokens\n‚úÖ Currently implemented in cost calculation logic\n\nGemini models: 128k token threshold\n\nFields: input_cost_per_token_above_128k_tokens, output_cost_per_token_above_128k_tokens\n‚ö†Ô∏è Schema supports these fields but calculation logic NOT implemented\nWould require different threshold handling if Gemini support is added\n\n\nModels WITHOUT tiered pricing:\n\nGPT/OpenAI models: Flat rate pricing (no token-based tiers)\n\nNote: OpenAI has ‚Äútier levels‚Äù but these are for API rate limits, not pricing\n\n\n\n\n\nWhen adding support for new models:\n\nCheck if the model has tiered pricing in LiteLLM‚Äôs schema\nVerify the threshold value (200k for Claude, 128k for Gemini, etc.)\nUpdate calculation logic if threshold differs from currently implemented 200k\nAdd comprehensive tests for boundary conditions at the threshold\nDocument the pricing structure in relevant CLAUDE.md files\nIf cache-specific rates are missing, fall back to the corresponding input rates (base and above-threshold) to avoid under-charging cached tokens\n\nThe current implementation in pricing.ts only handles 200k threshold. Adding models with different thresholds would require refactoring the calculateTieredCost helper function."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/AGENTS.html#code-style",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Follow the same conventions as the main ccusage package:\n\nUse .ts extensions for local imports\nPrefer @praha/byethrow Result type over try-catch\nOnly export what‚Äôs actually used by other modules\nUse vitest in-source testing with if (import.meta.vitest != null) blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "This directory contains the VitePress-based documentation website for ccusage.\n\n\nName: @ccusage/docs Description: Documentation for ccusage Type: VitePress documentation site (private package)\n\n\n\nDocumentation Development:\n\npnpm run dev - Start development server with API docs generation and schema copy\npnpm run build - Build documentation site for production\npnpm run preview - Preview built documentation locally\npnpm run docs:api - Generate API documentation from TypeScript source\npnpm run lint - Lint documentation files using ESLint\npnpm run format - Format and auto-fix documentation files with ESLint\npnpm typecheck - Type check TypeScript files\n\nDeployment:\n\npnpm run deploy - Deploy to Cloudflare using Wrangler\n\n\n\n\nDocumentation Structure:\n\nguide/ - User guides and tutorials with screenshots\napi/ - Auto-generated API documentation from TypeScript source\npublic/ - Static assets including screenshots and config schema\n.vitepress/ - VitePress configuration and theme customization\n\nKey Files:\n\nupdate-api-index.ts - Script to generate API documentation index\ntypedoc.config.mjs - TypeDoc configuration for API docs generation\npublic/config-schema.json - JSON schema copied from ccusage package during build\n\n\n\n\nScreenshot Usage:\n\nPlacement: Always place screenshots immediately after main headings (H1)\nPurpose: Provide immediate visual context before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\nContent Organization:\n\nUser-facing guides in guide/ directory\nAuto-generated API reference in api/ directory\nStatic assets and schemas in public/ directory\n\n\n\n\n\nAPI Documentation: ./update-api-index.ts generates API docs from ccusage TypeScript source\nSchema Copy: config-schema.json is copied from the ccusage package to public directory\nVitePress Build: Standard VitePress build process creates static site\nDeployment: Built site is deployed to Cloudflare using Wrangler\n\n\n\n\nKey Dev Dependencies:\n\nvitepress - Static site generator\ntypedoc - API documentation generation\ntypedoc-plugin-markdown - Markdown output for TypeDoc\ntypedoc-vitepress-theme - VitePress theme for TypeDoc\nwrangler - Cloudflare deployment tool\nccusage - Main package (workspace dependency for API docs)\n\nVitePress Plugins:\n\nvitepress-plugin-group-icons - Group icons in navigation\nvitepress-plugin-llms - LLM-specific enhancements\n@ryoppippi/vite-plugin-cloudflare-redirect - Cloudflare redirect handling\n\n\n\n\n\nStart Development: pnpm run dev automatically generates API docs and starts dev server\nEdit Content: Modify markdown files in guide/ or update source code for API changes\nPreview Changes: Development server automatically reloads on changes\nBuild for Production: pnpm run build generates final static site\nDeploy: pnpm run deploy pushes to Cloudflare\n\n\n\n\n\nNo console.log: Documentation scripts should use appropriate logging\nAccessibility: Always include alt text for images and screenshots\nVisual First: Lead with screenshots, then explain with text\nConsistency: Follow established patterns for new documentation pages\nCross-References: Link between related guides and API documentation\nESLint in Markdown: For code blocks that should skip ESLint parsing (e.g., containing ... syntax), add &lt;!-- eslint-skip --&gt; before the code block\n\n\n\n\ndocs/\n‚îú‚îÄ‚îÄ guide/          # User guides and tutorials\n‚îú‚îÄ‚îÄ api/            # Auto-generated API docs\n‚îú‚îÄ‚îÄ public/         # Static assets (screenshots, schemas)\n‚îú‚îÄ‚îÄ .vitepress/     # VitePress configuration\n‚îú‚îÄ‚îÄ package.json    # Dependencies and scripts\n‚îî‚îÄ‚îÄ CLAUDE.md       # This file"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#package-overview",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Name: @ccusage/docs Description: Documentation for ccusage Type: VitePress documentation site (private package)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#development-commands",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Documentation Development:\n\npnpm run dev - Start development server with API docs generation and schema copy\npnpm run build - Build documentation site for production\npnpm run preview - Preview built documentation locally\npnpm run docs:api - Generate API documentation from TypeScript source\npnpm run lint - Lint documentation files using ESLint\npnpm run format - Format and auto-fix documentation files with ESLint\npnpm typecheck - Type check TypeScript files\n\nDeployment:\n\npnpm run deploy - Deploy to Cloudflare using Wrangler"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#architecture",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Documentation Structure:\n\nguide/ - User guides and tutorials with screenshots\napi/ - Auto-generated API documentation from TypeScript source\npublic/ - Static assets including screenshots and config schema\n.vitepress/ - VitePress configuration and theme customization\n\nKey Files:\n\nupdate-api-index.ts - Script to generate API documentation index\ntypedoc.config.mjs - TypeDoc configuration for API docs generation\npublic/config-schema.json - JSON schema copied from ccusage package during build"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#documentation-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#documentation-guidelines",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Screenshot Usage:\n\nPlacement: Always place screenshots immediately after main headings (H1)\nPurpose: Provide immediate visual context before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\nContent Organization:\n\nUser-facing guides in guide/ directory\nAuto-generated API reference in api/ directory\nStatic assets and schemas in public/ directory"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#build-process",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#build-process",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "API Documentation: ./update-api-index.ts generates API docs from ccusage TypeScript source\nSchema Copy: config-schema.json is copied from the ccusage package to public directory\nVitePress Build: Standard VitePress build process creates static site\nDeployment: Built site is deployed to Cloudflare using Wrangler"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#dependencies",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Key Dev Dependencies:\n\nvitepress - Static site generator\ntypedoc - API documentation generation\ntypedoc-plugin-markdown - Markdown output for TypeDoc\ntypedoc-vitepress-theme - VitePress theme for TypeDoc\nwrangler - Cloudflare deployment tool\nccusage - Main package (workspace dependency for API docs)\n\nVitePress Plugins:\n\nvitepress-plugin-group-icons - Group icons in navigation\nvitepress-plugin-llms - LLM-specific enhancements\n@ryoppippi/vite-plugin-cloudflare-redirect - Cloudflare redirect handling"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#development-workflow",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#development-workflow",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Start Development: pnpm run dev automatically generates API docs and starts dev server\nEdit Content: Modify markdown files in guide/ or update source code for API changes\nPreview Changes: Development server automatically reloads on changes\nBuild for Production: pnpm run build generates final static site\nDeploy: pnpm run deploy pushes to Cloudflare"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#content-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#content-guidelines",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "No console.log: Documentation scripts should use appropriate logging\nAccessibility: Always include alt text for images and screenshots\nVisual First: Lead with screenshots, then explain with text\nConsistency: Follow established patterns for new documentation pages\nCross-References: Link between related guides and API documentation\nESLint in Markdown: For code blocks that should skip ESLint parsing (e.g., containing ... syntax), add &lt;!-- eslint-skip --&gt; before the code block"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#file-organization",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/AGENTS.html#file-organization",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "docs/\n‚îú‚îÄ‚îÄ guide/          # User guides and tutorials\n‚îú‚îÄ‚îÄ api/            # Auto-generated API docs\n‚îú‚îÄ‚îÄ public/         # Static assets (screenshots, schemas)\n‚îú‚îÄ‚îÄ .vitepress/     # VitePress configuration\n‚îú‚îÄ‚îÄ package.json    # Dependencies and scripts\n‚îî‚îÄ‚îÄ CLAUDE.md       # This file"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html",
    "title": "Sponsors",
    "section": "",
    "text": "Support ccusage development by becoming a sponsor! Your contribution helps maintain and improve this tool.\n\n\nCheck out ccusage: The Claude Code cost scorecard that went viral\n\n  \n\n\n  \n\n\n\n\nVisit GitHub Sponsors - @ryoppippi to support the development of ccusage and other open source projects."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html#featured-sponsor",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html#featured-sponsor",
    "title": "Sponsors",
    "section": "",
    "text": "Check out ccusage: The Claude Code cost scorecard that went viral"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html#how-to-sponsor",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/sponsors.html#how-to-sponsor",
    "title": "Sponsors",
    "section": "",
    "text": "Visit GitHub Sponsors - @ryoppippi to support the development of ccusage and other open source projects."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html",
    "title": "Installation",
    "section": "",
    "text": "ccusage can be installed and used in several ways depending on your preferences and use case.\n\n\nThanks to ccusage‚Äôs incredibly small bundle size, you don‚Äôt need to install it globally. Unlike other CLI tools, we pay extreme attention to bundle size optimization, achieving an impressively small footprint even without minification. This means:\n\n‚úÖ Near-instant startup times\n‚úÖ Minimal download overhead\n‚úÖ Always use the latest version\n‚úÖ No global pollution of your system\n\n\n\n\nThe fastest way to use ccusage is to run it directly:\n\nbash [bunx (Recommended)] bunx ccusage\nbash [npx] npx ccusage@latest\nbash [pnpm] pnpm dlx ccusage\nbash [deno] deno run -E -R=$HOME/.claude/projects/ -S=homedir -N='raw.githubusercontent.com:443' npm:ccusage@latest\n\n::: tip Speed Recommendation We strongly recommend using bunx instead of npx due to the massive speed difference. Bunx caches packages more efficiently, resulting in near-instant startup times after the first run. :::\n::: info Deno Security Consider using deno run if you want additional security controls. Deno allows you to specify exact permissions, making it safer to run tools you haven‚Äôt audited. :::\n\n\nHere‚Äôs why runtime choice matters:\n\n\n\nRuntime\nFirst Run\nSubsequent Runs\nNotes\n\n\n\n\nbunx\nFast\nInstant\nBest overall choice\n\n\nnpx\nSlow\nModerate\nWidely available\n\n\npnpm dlx\nFast\nFast\nGood alternative\n\n\ndeno\nModerate\nFast\nBest for security\n\n\n\n\n\n\n\nWhile not necessary due to our small bundle size, you can still install ccusage globally if you prefer:\n\nbash [npm] npm install -g ccusage\nbash [bun] bun install -g ccusage\nbash [yarn] yarn global add ccusage\nbash [pnpm] pnpm add -g ccusage\n\nAfter global installation, run commands directly:\nccusage daily\nccusage monthly --breakdown\nccusage blocks --live\n\n\n\nFor development or contributing to ccusage:\n# Clone the repository\ngit clone https://github.com/ryoppippi/ccusage.git\ncd ccusage\n\n# Install dependencies\nbun install\n\n# Run directly from source\nbun run start daily\nbun run start monthly --json\n\n\n# Run tests\nbun run test\n\n# Type checking\nbun typecheck\n\n# Build distribution\nbun run build\n\n# Lint and format\nbun run format\n\n\n\n\n\n\n\nMinimum: Node.js 20.x\nRecommended: Node.js 20.x or later\nLTS versions are fully supported\n\n\n\n\n\nMinimum: Bun 1.2+\nRecommended: Latest stable release\nOften faster than Node.js for ccusage\n\n\n\n\nDeno 2.0+ is fully supported with proper permissions:\ndeno run \\\n  -E \\\n  -R=$HOME/.claude/projects/ \\\n  -S=homedir \\\n  -N='raw.githubusercontent.com:443' \\\n  npm:ccusage@latest\nAlso you can use offline mode to run ccusage without network access:\ndeno run \\\n  -E \\\n  -R=$HOME/.claude/projects/ \\\n  -S=homedir \\\n  npm:ccusage@latest --offline\n\n\n\n\nAfter installation, verify ccusage is working:\n# Check version\nccusage --version\n\n# Run help command\nccusage --help\n\n# Test with daily report\nccusage daily\n\n\n\n\n\nAlways gets the latest version automatically.\n\n\n\n# Update with npm\nnpm update -g ccusage\n\n# Update with bun\nbun update -g ccusage\n\n\n\nccusage --version\n\n\n\n\n\n\n\nbash [npm] npm uninstall -g ccusage\nbash [bun] bun remove -g ccusage\nbash [yarn] yarn global remove ccusage\nbash [pnpm] pnpm remove -g ccusage\n\n\n\n\n# Remove cloned repository\nrm -rf ccusage/\n\n\n\n\n\n\nIf you get permission errors during global installation:\n\n```bash [npm] # Use npx instead of global install npx ccusage@latest\n\n\nnpm config set prefix ~/.npm-global export PATH=~/.npm-global/bin:$PATH\n\n```bash [Node Version Managers]\n# Use nvm (recommended)\nnvm install node\nnpm install -g ccusage\n\n# Or use fnm\nfnm install node\nnpm install -g ccusage\n\n\n\n\n\nIf installation fails due to network issues:\n# Try with different registry\nnpm install -g ccusage --registry https://registry.npmjs.org\n\n# Or use bunx for offline-capable runs\nbunx ccusage\n\n\n\nIf you have multiple versions installed:\n# Check which version is being used\nwhich ccusage\nccusage --version\n\n# Uninstall and reinstall\nnpm uninstall -g ccusage\nnpm install -g ccusage@latest\n\n\n\n\nAfter installation, check out:\n\nGetting Started Guide - Your first usage report\nConfiguration - Customize ccusage behavior\nDaily Reports - Understand daily usage patterns"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#why-no-installation-needed",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#why-no-installation-needed",
    "title": "Installation",
    "section": "",
    "text": "Thanks to ccusage‚Äôs incredibly small bundle size, you don‚Äôt need to install it globally. Unlike other CLI tools, we pay extreme attention to bundle size optimization, achieving an impressively small footprint even without minification. This means:\n\n‚úÖ Near-instant startup times\n‚úÖ Minimal download overhead\n‚úÖ Always use the latest version\n‚úÖ No global pollution of your system"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#quick-start-recommended",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#quick-start-recommended",
    "title": "Installation",
    "section": "",
    "text": "The fastest way to use ccusage is to run it directly:\n\nbash [bunx (Recommended)] bunx ccusage\nbash [npx] npx ccusage@latest\nbash [pnpm] pnpm dlx ccusage\nbash [deno] deno run -E -R=$HOME/.claude/projects/ -S=homedir -N='raw.githubusercontent.com:443' npm:ccusage@latest\n\n::: tip Speed Recommendation We strongly recommend using bunx instead of npx due to the massive speed difference. Bunx caches packages more efficiently, resulting in near-instant startup times after the first run. :::\n::: info Deno Security Consider using deno run if you want additional security controls. Deno allows you to specify exact permissions, making it safer to run tools you haven‚Äôt audited. :::\n\n\nHere‚Äôs why runtime choice matters:\n\n\n\nRuntime\nFirst Run\nSubsequent Runs\nNotes\n\n\n\n\nbunx\nFast\nInstant\nBest overall choice\n\n\nnpx\nSlow\nModerate\nWidely available\n\n\npnpm dlx\nFast\nFast\nGood alternative\n\n\ndeno\nModerate\nFast\nBest for security"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#global-installation-optional",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#global-installation-optional",
    "title": "Installation",
    "section": "",
    "text": "While not necessary due to our small bundle size, you can still install ccusage globally if you prefer:\n\nbash [npm] npm install -g ccusage\nbash [bun] bun install -g ccusage\nbash [yarn] yarn global add ccusage\nbash [pnpm] pnpm add -g ccusage\n\nAfter global installation, run commands directly:\nccusage daily\nccusage monthly --breakdown\nccusage blocks --live"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#development-installation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#development-installation",
    "title": "Installation",
    "section": "",
    "text": "For development or contributing to ccusage:\n# Clone the repository\ngit clone https://github.com/ryoppippi/ccusage.git\ncd ccusage\n\n# Install dependencies\nbun install\n\n# Run directly from source\nbun run start daily\nbun run start monthly --json\n\n\n# Run tests\nbun run test\n\n# Type checking\nbun typecheck\n\n# Build distribution\nbun run build\n\n# Lint and format\nbun run format"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#runtime-requirements",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#runtime-requirements",
    "title": "Installation",
    "section": "",
    "text": "Minimum: Node.js 20.x\nRecommended: Node.js 20.x or later\nLTS versions are fully supported\n\n\n\n\n\nMinimum: Bun 1.2+\nRecommended: Latest stable release\nOften faster than Node.js for ccusage\n\n\n\n\nDeno 2.0+ is fully supported with proper permissions:\ndeno run \\\n  -E \\\n  -R=$HOME/.claude/projects/ \\\n  -S=homedir \\\n  -N='raw.githubusercontent.com:443' \\\n  npm:ccusage@latest\nAlso you can use offline mode to run ccusage without network access:\ndeno run \\\n  -E \\\n  -R=$HOME/.claude/projects/ \\\n  -S=homedir \\\n  npm:ccusage@latest --offline"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#verification",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#verification",
    "title": "Installation",
    "section": "",
    "text": "After installation, verify ccusage is working:\n# Check version\nccusage --version\n\n# Run help command\nccusage --help\n\n# Test with daily report\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#updating",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#updating",
    "title": "Installation",
    "section": "",
    "text": "Always gets the latest version automatically.\n\n\n\n# Update with npm\nnpm update -g ccusage\n\n# Update with bun\nbun update -g ccusage\n\n\n\nccusage --version"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#uninstalling",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#uninstalling",
    "title": "Installation",
    "section": "",
    "text": "bash [npm] npm uninstall -g ccusage\nbash [bun] bun remove -g ccusage\nbash [yarn] yarn global remove ccusage\nbash [pnpm] pnpm remove -g ccusage\n\n\n\n\n# Remove cloned repository\nrm -rf ccusage/"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#troubleshooting-installation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#troubleshooting-installation",
    "title": "Installation",
    "section": "",
    "text": "If you get permission errors during global installation:\n\n```bash [npm] # Use npx instead of global install npx ccusage@latest\n\n\nnpm config set prefix ~/.npm-global export PATH=~/.npm-global/bin:$PATH\n\n```bash [Node Version Managers]\n# Use nvm (recommended)\nnvm install node\nnpm install -g ccusage\n\n# Or use fnm\nfnm install node\nnpm install -g ccusage\n\n\n\n\n\nIf installation fails due to network issues:\n# Try with different registry\nnpm install -g ccusage --registry https://registry.npmjs.org\n\n# Or use bunx for offline-capable runs\nbunx ccusage\n\n\n\nIf you have multiple versions installed:\n# Check which version is being used\nwhich ccusage\nccusage --version\n\n# Uninstall and reinstall\nnpm uninstall -g ccusage\nnpm install -g ccusage@latest"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/installation.html#next-steps",
    "title": "Installation",
    "section": "",
    "text": "After installation, check out:\n\nGetting Started Guide - Your first usage report\nConfiguration - Customize ccusage behavior\nDaily Reports - Understand daily usage patterns"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html",
    "title": "Configuration Overview",
    "section": "",
    "text": "ccusage provides multiple ways to configure its behavior, allowing you to customize it for your specific needs. Configuration can be done through command-line options, environment variables, configuration files, or a combination of all three.\n\n\nccusage supports four configuration methods, each with its own use case:\n\nCommand-Line Options - Direct control for individual commands\nEnvironment Variables - System-wide or session settings\nConfiguration Files - Persistent, shareable settings\nDirectory Detection - Automatic Claude data discovery\n\n\n\n\nSettings are applied in this priority order (highest to lowest):\n\nCommand-line arguments (e.g., --json, --offline)\nCustom config file (via --config flag)\nEnvironment variables (e.g., CLAUDE_CONFIG_DIR, LOG_LEVEL)\nLocal project config (.ccusage/ccusage.json)\nUser config (~/.config/claude/ccusage.json)\nLegacy config (~/.claude/ccusage.json)\nBuilt-in defaults\n\n\n\n# Configuration file sets mode to \"calculate\"\n# .ccusage/ccusage.json\n{\n  \"defaults\": {\n    \"mode\": \"calculate\"\n  }\n}\n\n# Environment variable sets timezone\nexport CCUSAGE_TIMEZONE=\"Asia/Tokyo\"\n\n# Command-line argument takes highest priority\nccusage daily --mode display --timezone UTC\n# Result: mode=display (CLI), timezone=UTC (CLI)\n\n\n\n\n\n\n\nSet your Claude directory (if not using defaults):\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\nCreate a configuration file for your preferences:\n\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"America/New_York\",\n        \"locale\": \"en-US\",\n        \"breakdown\": true\n    }\n}\n\nUse command-line options for one-off changes:\n\nccusage daily --since 20250101 --json\n\n\n\n\n\n\nFor individual developers working on multiple projects:\n// ~/.config/claude/ccusage.json\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": true,\n        \"timezone\": \"local\"\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true\n        }\n    }\n}\n\n\n\nFor teams sharing configuration:\n// .ccusage/ccusage.json (committed to repo)\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"mode\": \"auto\"\n    }\n}\n\n\n\nFor automated environments:\n# Environment variables\nexport CLAUDE_CONFIG_DIR=\"/ci/claude-data\"\nexport LOG_LEVEL=1  # Warnings only\n\n# Run with specific options\nccusage daily --offline --json &gt; report.json\n\n\n\nFor users with multiple Claude Code versions:\n# Aggregate from multiple directories\nexport CLAUDE_CONFIG_DIR=\"$HOME/.claude,$HOME/.config/claude\"\nccusage daily\n\n\n\n\n\n\nControl how costs are calculated:\n\nMode: auto (default), calculate, or display\nOffline: Use cached pricing data\nBreakdown: Show per-model costs\n\nccusage daily --mode calculate --breakdown --offline\n\n\n\nCustomize date/time handling:\n\nTimezone: Any valid timezone (e.g., UTC, America/New_York)\nLocale: Format preferences (e.g., en-US, ja-JP)\nDate Range: Filter with --since and --until\n\nccusage daily --timezone UTC --locale en-CA --since 20250101\n\n\n\nControl output presentation:\n\nJSON: Machine-readable output with --json\nJQ Filtering: Process JSON with --jq\nDebug: Show detailed information with --debug\n\nccusage daily --json --jq \".data[] | select(.cost &gt; 10)\"\n\n\n\nAnalyze usage by project:\n\nInstances: Group by project with --instances\nProject Filter: Focus on specific project with --project\nAliases: Set custom names via configuration file\n\n// .ccusage/ccusage.json\n{\n    \"commands\": {\n        \"daily\": {\n            \"projectAliases\": \"uuid-123=My App,long-name=Backend\"\n        }\n    }\n}\nccusage daily --instances --project \"My App\"\n\n\n\n\nUse debug mode to understand configuration loading:\n# See which config files are loaded\nccusage daily --debug\n\n# Check environment variables\nenv | grep -E \"CLAUDE|CCUSAGE|LOG_LEVEL\"\n\n# Verbose logging\nLOG_LEVEL=5 ccusage daily\n\n\nDebug mode shows:\n\nConfig file discovery and loading\nOption merging from different sources\nFinal configuration values\nPricing calculation details\n\n\n\n\n\n\n\nUse different configuration methods for different scopes:\n\nEnvironment variables: Machine-specific settings (paths)\nUser config: Personal preferences (timezone, locale)\nProject config: Team standards (mode, formatting)\nCLI arguments: One-off overrides\n\n\n\n\nShare consistent settings across team members:\n# Commit to version control\ngit add .ccusage/ccusage.json\ngit commit -m \"Add team ccusage configuration\"\n\n\n\nAdd comments or README files explaining configuration choices:\n# ccusage Configuration\n\nOur team uses:\n\n- UTC timezone for consistency\n- JSON output for automated processing\n- Calculate mode for accurate cost tracking\n\n\n\nUse the schema for validation:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\n\n\n\nNever put sensitive information in configuration files:\n\n‚ùå API keys or tokens\n‚ùå Personal identifiers\n‚úÖ Timezone preferences\n‚úÖ Output formats\n\n\n\n\n\n\n\nIf upgrading from older versions:\n\nUpdate directory paths (now supports ~/.config/claude)\nMigrate environment variables to config files\nUpdate any scripts using old CLI options\n\n\n\n\nConvert repeated commands to configuration:\n# Before: Repeated commands\nccusage daily --breakdown --instances --timezone UTC\n\n# After: Configuration file\n{\n  \"defaults\": {\n    \"breakdown\": true,\n    \"timezone\": \"UTC\"\n  },\n  \"commands\": {\n    \"daily\": {\n      \"instances\": true\n    }\n  }\n}\n\n# Simplified command\nccusage daily\n\n\n\n\n\n\n\nConfiguration not applied: Check priority order\nInvalid JSON: Validate syntax with jq\nDirectory not found: Verify CLAUDE_CONFIG_DIR\nNo data: Check directory permissions\n\n\n\n\nIf configuration issues persist:\n\nRun with debug mode: ccusage daily --debug\nCheck verbose logs: LOG_LEVEL=5 ccusage daily\nValidate JSON config: jq . &lt; ccusage.json\nReport issues on GitHub\n\n\n\n\n\nExplore specific configuration topics:\n\nCommand-Line Options - All available CLI arguments\nEnvironment Variables - System configuration\nConfiguration Files - Persistent settings\nDirectory Detection - Claude data discovery\nCost Modes - Understanding calculation modes\nCustom Paths - Advanced path management"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-methods",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-methods",
    "title": "Configuration Overview",
    "section": "",
    "text": "ccusage supports four configuration methods, each with its own use case:\n\nCommand-Line Options - Direct control for individual commands\nEnvironment Variables - System-wide or session settings\nConfiguration Files - Persistent, shareable settings\nDirectory Detection - Automatic Claude data discovery"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-priority",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-priority",
    "title": "Configuration Overview",
    "section": "",
    "text": "Settings are applied in this priority order (highest to lowest):\n\nCommand-line arguments (e.g., --json, --offline)\nCustom config file (via --config flag)\nEnvironment variables (e.g., CLAUDE_CONFIG_DIR, LOG_LEVEL)\nLocal project config (.ccusage/ccusage.json)\nUser config (~/.config/claude/ccusage.json)\nLegacy config (~/.claude/ccusage.json)\nBuilt-in defaults\n\n\n\n# Configuration file sets mode to \"calculate\"\n# .ccusage/ccusage.json\n{\n  \"defaults\": {\n    \"mode\": \"calculate\"\n  }\n}\n\n# Environment variable sets timezone\nexport CCUSAGE_TIMEZONE=\"Asia/Tokyo\"\n\n# Command-line argument takes highest priority\nccusage daily --mode display --timezone UTC\n# Result: mode=display (CLI), timezone=UTC (CLI)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#quick-start",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#quick-start",
    "title": "Configuration Overview",
    "section": "",
    "text": "Set your Claude directory (if not using defaults):\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\nCreate a configuration file for your preferences:\n\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"America/New_York\",\n        \"locale\": \"en-US\",\n        \"breakdown\": true\n    }\n}\n\nUse command-line options for one-off changes:\n\nccusage daily --since 20250101 --json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#common-configuration-scenarios",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#common-configuration-scenarios",
    "title": "Configuration Overview",
    "section": "",
    "text": "For individual developers working on multiple projects:\n// ~/.config/claude/ccusage.json\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": true,\n        \"timezone\": \"local\"\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true\n        }\n    }\n}\n\n\n\nFor teams sharing configuration:\n// .ccusage/ccusage.json (committed to repo)\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"mode\": \"auto\"\n    }\n}\n\n\n\nFor automated environments:\n# Environment variables\nexport CLAUDE_CONFIG_DIR=\"/ci/claude-data\"\nexport LOG_LEVEL=1  # Warnings only\n\n# Run with specific options\nccusage daily --offline --json &gt; report.json\n\n\n\nFor users with multiple Claude Code versions:\n# Aggregate from multiple directories\nexport CLAUDE_CONFIG_DIR=\"$HOME/.claude,$HOME/.config/claude\"\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-by-feature",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#configuration-by-feature",
    "title": "Configuration Overview",
    "section": "",
    "text": "Control how costs are calculated:\n\nMode: auto (default), calculate, or display\nOffline: Use cached pricing data\nBreakdown: Show per-model costs\n\nccusage daily --mode calculate --breakdown --offline\n\n\n\nCustomize date/time handling:\n\nTimezone: Any valid timezone (e.g., UTC, America/New_York)\nLocale: Format preferences (e.g., en-US, ja-JP)\nDate Range: Filter with --since and --until\n\nccusage daily --timezone UTC --locale en-CA --since 20250101\n\n\n\nControl output presentation:\n\nJSON: Machine-readable output with --json\nJQ Filtering: Process JSON with --jq\nDebug: Show detailed information with --debug\n\nccusage daily --json --jq \".data[] | select(.cost &gt; 10)\"\n\n\n\nAnalyze usage by project:\n\nInstances: Group by project with --instances\nProject Filter: Focus on specific project with --project\nAliases: Set custom names via configuration file\n\n// .ccusage/ccusage.json\n{\n    \"commands\": {\n        \"daily\": {\n            \"projectAliases\": \"uuid-123=My App,long-name=Backend\"\n        }\n    }\n}\nccusage daily --instances --project \"My App\""
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#debugging-configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#debugging-configuration",
    "title": "Configuration Overview",
    "section": "",
    "text": "Use debug mode to understand configuration loading:\n# See which config files are loaded\nccusage daily --debug\n\n# Check environment variables\nenv | grep -E \"CLAUDE|CCUSAGE|LOG_LEVEL\"\n\n# Verbose logging\nLOG_LEVEL=5 ccusage daily\n\n\nDebug mode shows:\n\nConfig file discovery and loading\nOption merging from different sources\nFinal configuration values\nPricing calculation details"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#best-practices",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#best-practices",
    "title": "Configuration Overview",
    "section": "",
    "text": "Use different configuration methods for different scopes:\n\nEnvironment variables: Machine-specific settings (paths)\nUser config: Personal preferences (timezone, locale)\nProject config: Team standards (mode, formatting)\nCLI arguments: One-off overrides\n\n\n\n\nShare consistent settings across team members:\n# Commit to version control\ngit add .ccusage/ccusage.json\ngit commit -m \"Add team ccusage configuration\"\n\n\n\nAdd comments or README files explaining configuration choices:\n# ccusage Configuration\n\nOur team uses:\n\n- UTC timezone for consistency\n- JSON output for automated processing\n- Calculate mode for accurate cost tracking\n\n\n\nUse the schema for validation:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\n\n\n\nNever put sensitive information in configuration files:\n\n‚ùå API keys or tokens\n‚ùå Personal identifiers\n‚úÖ Timezone preferences\n‚úÖ Output formats"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#migration-guide",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#migration-guide",
    "title": "Configuration Overview",
    "section": "",
    "text": "If upgrading from older versions:\n\nUpdate directory paths (now supports ~/.config/claude)\nMigrate environment variables to config files\nUpdate any scripts using old CLI options\n\n\n\n\nConvert repeated commands to configuration:\n# Before: Repeated commands\nccusage daily --breakdown --instances --timezone UTC\n\n# After: Configuration file\n{\n  \"defaults\": {\n    \"breakdown\": true,\n    \"timezone\": \"UTC\"\n  },\n  \"commands\": {\n    \"daily\": {\n      \"instances\": true\n    }\n  }\n}\n\n# Simplified command\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#troubleshooting",
    "title": "Configuration Overview",
    "section": "",
    "text": "Configuration not applied: Check priority order\nInvalid JSON: Validate syntax with jq\nDirectory not found: Verify CLAUDE_CONFIG_DIR\nNo data: Check directory permissions\n\n\n\n\nIf configuration issues persist:\n\nRun with debug mode: ccusage daily --debug\nCheck verbose logs: LOG_LEVEL=5 ccusage daily\nValidate JSON config: jq . &lt; ccusage.json\nReport issues on GitHub"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/configuration.html#next-steps",
    "title": "Configuration Overview",
    "section": "",
    "text": "Explore specific configuration topics:\n\nCommand-Line Options - All available CLI arguments\nEnvironment Variables - System configuration\nConfiguration Files - Persistent settings\nDirectory Detection - Claude data discovery\nCost Modes - Understanding calculation modes\nCustom Paths - Advanced path management"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html",
    "title": "Directory Detection",
    "section": "",
    "text": "ccusage automatically detects and manages Claude Code data directories.\n\n\nccusage automatically searches for Claude Code data in these locations:\n\n~/.config/claude/projects/ - New default location (Claude Code v1.0.30+)\n~/.claude/projects/ - Legacy location (pre-v1.0.30)\n\nWhen no custom directory is specified, ccusage searches both locations and aggregates data from all valid directories found.\n::: info Breaking Change The directory change from ~/.claude to ~/.config/claude in Claude Code v1.0.30 was an undocumented breaking change. ccusage handles both locations automatically to ensure backward compatibility. :::\n\n\n\nWhen CLAUDE_CONFIG_DIR environment variable is not set, ccusage searches in this order:\n\nPrimary: ~/.config/claude/projects/ (preferred for newer installations)\nFallback: ~/.claude/projects/ (for legacy installations)\n\nData from all valid directories is automatically combined.\n\n\n\n\n\nOverride the default search with a specific directory:\nexport CLAUDE_CONFIG_DIR=\"/custom/path/to/claude\"\nccusage daily\n\n\n\nAggregate data from multiple Claude installations:\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\nccusage daily\n\n\n\n\nClaude Code stores usage data in a specific structure:\n~/.config/claude/projects/\n‚îú‚îÄ‚îÄ project-name-1/\n‚îÇ   ‚îú‚îÄ‚îÄ session-id-1.jsonl\n‚îÇ   ‚îú‚îÄ‚îÄ session-id-2.jsonl\n‚îÇ   ‚îî‚îÄ‚îÄ session-id-3.jsonl\n‚îú‚îÄ‚îÄ project-name-2/\n‚îÇ   ‚îî‚îÄ‚îÄ session-id-4.jsonl\n‚îî‚îÄ‚îÄ project-name-3/\n    ‚îî‚îÄ‚îÄ session-id-5.jsonl\nEach:\n\nProject directory represents a different Claude Code project/workspace\nJSONL file contains usage data for a specific session\nSession ID in the filename matches the sessionId field within the file\n\n\n\n\n\n\nIf ccusage reports no data found:\n# Check if directories exist\nls -la ~/.claude/projects/\nls -la ~/.config/claude/projects/\n\n# Verify environment variable\necho $CLAUDE_CONFIG_DIR\n\n# Test with explicit directory\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nccusage daily\n\n\n\n# Check directory permissions\nls -la ~/.claude/\nls -la ~/.config/claude/\n\n# Fix permissions if needed\nchmod -R 755 ~/.claude/\nchmod -R 755 ~/.config/claude/\n\n\n\n# Force specific directory\nexport CLAUDE_CONFIG_DIR=\"/exact/path/to/claude\"\nccusage daily\n\n# Verify which directory is being used\nLOG_LEVEL=4 ccusage daily\n\n\n\n\n\nEnvironment Variables - Configure with CLAUDE_CONFIG_DIR\nCustom Paths - Advanced path management\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#default-directory-locations",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#default-directory-locations",
    "title": "Directory Detection",
    "section": "",
    "text": "ccusage automatically searches for Claude Code data in these locations:\n\n~/.config/claude/projects/ - New default location (Claude Code v1.0.30+)\n~/.claude/projects/ - Legacy location (pre-v1.0.30)\n\nWhen no custom directory is specified, ccusage searches both locations and aggregates data from all valid directories found.\n::: info Breaking Change The directory change from ~/.claude to ~/.config/claude in Claude Code v1.0.30 was an undocumented breaking change. ccusage handles both locations automatically to ensure backward compatibility. :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#search-priority",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#search-priority",
    "title": "Directory Detection",
    "section": "",
    "text": "When CLAUDE_CONFIG_DIR environment variable is not set, ccusage searches in this order:\n\nPrimary: ~/.config/claude/projects/ (preferred for newer installations)\nFallback: ~/.claude/projects/ (for legacy installations)\n\nData from all valid directories is automatically combined."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#custom-directory-configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#custom-directory-configuration",
    "title": "Directory Detection",
    "section": "",
    "text": "Override the default search with a specific directory:\nexport CLAUDE_CONFIG_DIR=\"/custom/path/to/claude\"\nccusage daily\n\n\n\nAggregate data from multiple Claude installations:\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#directory-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#directory-structure",
    "title": "Directory Detection",
    "section": "",
    "text": "Claude Code stores usage data in a specific structure:\n~/.config/claude/projects/\n‚îú‚îÄ‚îÄ project-name-1/\n‚îÇ   ‚îú‚îÄ‚îÄ session-id-1.jsonl\n‚îÇ   ‚îú‚îÄ‚îÄ session-id-2.jsonl\n‚îÇ   ‚îî‚îÄ‚îÄ session-id-3.jsonl\n‚îú‚îÄ‚îÄ project-name-2/\n‚îÇ   ‚îî‚îÄ‚îÄ session-id-4.jsonl\n‚îî‚îÄ‚îÄ project-name-3/\n    ‚îî‚îÄ‚îÄ session-id-5.jsonl\nEach:\n\nProject directory represents a different Claude Code project/workspace\nJSONL file contains usage data for a specific session\nSession ID in the filename matches the sessionId field within the file"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#troubleshooting",
    "title": "Directory Detection",
    "section": "",
    "text": "If ccusage reports no data found:\n# Check if directories exist\nls -la ~/.claude/projects/\nls -la ~/.config/claude/projects/\n\n# Verify environment variable\necho $CLAUDE_CONFIG_DIR\n\n# Test with explicit directory\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nccusage daily\n\n\n\n# Check directory permissions\nls -la ~/.claude/\nls -la ~/.config/claude/\n\n# Fix permissions if needed\nchmod -R 755 ~/.claude/\nchmod -R 755 ~/.config/claude/\n\n\n\n# Force specific directory\nexport CLAUDE_CONFIG_DIR=\"/exact/path/to/claude\"\nccusage daily\n\n# Verify which directory is being used\nLOG_LEVEL=4 ccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#related-documentation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/directory-detection.html#related-documentation",
    "title": "Directory Detection",
    "section": "",
    "text": "Environment Variables - Configure with CLAUDE_CONFIG_DIR\nCustom Paths - Advanced path management\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html",
    "title": "Introduction",
    "section": "",
    "text": "ccusage daily report showing token usage and costs by date\n\n\nccusage (claude-code-usage) is a powerful CLI tool that analyzes your Claude Code usage from local JSONL files to help you understand your token consumption patterns and estimated costs.\n\n\nClaude Code‚Äôs Max plan offers unlimited usage, which is fantastic! But many users are curious:\n\nHow much am I actually using Claude Code?\nWhich conversations are the most expensive?\nWhat would I be paying on a pay-per-use plan?\nAm I getting good value from my subscription?\n\n\n\n\nccusage analyzes the local JSONL files that Claude Code automatically generates and provides:\n\nDetailed Usage Reports - Daily, weekly, monthly, and session-based breakdowns\nCost Analysis - Estimated costs based on token usage and model pricing\nStatusline Integration - Real-time usage display for Claude Code status bar\nMultiple Formats - Beautiful tables or JSON for further analysis\n\n\n\n\n\nClaude Code generates JSONL files containing usage data\nccusage reads these files from your local machine\nAnalyzes and aggregates the data by date, session, or time blocks\nCalculates estimated costs using model pricing information\nPresents results in beautiful tables or JSON format\n\n\n\n\n\n\nUnlike other CLI tools, we pay extreme attention to bundle size. ccusage achieves an incredibly small footprint even without minification, which means you can run it directly without installation using bunx ccusage for instant access.\n\n\n\n\nDaily Reports - Usage aggregated by calendar date\nWeekly Reports - Usage aggregated by week with configurable start day\nMonthly Reports - Monthly summaries with trends\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing window tracking\n\n\n\n\n\nEstimated costs based on token counts and model pricing\nSupport for different cost calculation modes\nModel-specific pricing (Opus vs Sonnet vs other models)\nCache token cost calculation\n\n\n\n\n\nCompact real-time usage display for Claude Code status bar hooks\nSession cost, daily cost, and block cost tracking\nBurn rate calculations with visual indicators\nContext usage percentage with color-coded alerts\n\n\n\n\n\nJSON Configuration Files - Set defaults for all commands or customize per-command\nIDE Support - JSON Schema for autocomplete and validation\nPriority-based Settings - CLI args &gt; local config &gt; user config &gt; defaults\nMultiple Claude Data Directories - Automatic detection and aggregation\nEnvironment Variables - Traditional configuration options\nCustom Date Filtering - Flexible time range selection and sorting\nOffline Mode - Cached pricing data for air-gapped environments\n\n\n\n\n\nccusage reads from Claude Code‚Äôs local data directories:\n\nNew location: ~/.config/claude/projects/ (Claude Code v1.0.30+)\nLegacy location: ~/.claude/projects/ (pre-v1.0.30)\n\nThe tool automatically detects and aggregates data from both locations for compatibility.\n\n\n\n\n100% Local - All analysis happens on your machine\nNo Data Transmission - Your usage data never leaves your computer\nRead-Only - ccusage only reads files, never modifies them\nOpen Source - Full transparency in how your data is processed\n\n\n\n\n::: warning Important Limitations\n\nLocal Files Only - Only analyzes data from your current machine\nLanguage Model Tokens - API calls for tools like Web Search are not included\nEstimate Accuracy - Costs are estimates and may not reflect actual billing :::\n\n\n\n\nThanks to @milliondev for the original concept and approach to Claude Code usage analysis.\n\n\n\nReady to analyze your Claude Code usage? Check out our Getting Started Guide to begin exploring your data!"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#the-problem",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#the-problem",
    "title": "Introduction",
    "section": "",
    "text": "Claude Code‚Äôs Max plan offers unlimited usage, which is fantastic! But many users are curious:\n\nHow much am I actually using Claude Code?\nWhich conversations are the most expensive?\nWhat would I be paying on a pay-per-use plan?\nAm I getting good value from my subscription?"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#the-solution",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#the-solution",
    "title": "Introduction",
    "section": "",
    "text": "ccusage analyzes the local JSONL files that Claude Code automatically generates and provides:\n\nDetailed Usage Reports - Daily, weekly, monthly, and session-based breakdowns\nCost Analysis - Estimated costs based on token usage and model pricing\nStatusline Integration - Real-time usage display for Claude Code status bar\nMultiple Formats - Beautiful tables or JSON for further analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#how-it-works",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#how-it-works",
    "title": "Introduction",
    "section": "",
    "text": "Claude Code generates JSONL files containing usage data\nccusage reads these files from your local machine\nAnalyzes and aggregates the data by date, session, or time blocks\nCalculates estimated costs using model pricing information\nPresents results in beautiful tables or JSON format"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#key-features",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#key-features",
    "title": "Introduction",
    "section": "",
    "text": "Unlike other CLI tools, we pay extreme attention to bundle size. ccusage achieves an incredibly small footprint even without minification, which means you can run it directly without installation using bunx ccusage for instant access.\n\n\n\n\nDaily Reports - Usage aggregated by calendar date\nWeekly Reports - Usage aggregated by week with configurable start day\nMonthly Reports - Monthly summaries with trends\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing window tracking\n\n\n\n\n\nEstimated costs based on token counts and model pricing\nSupport for different cost calculation modes\nModel-specific pricing (Opus vs Sonnet vs other models)\nCache token cost calculation\n\n\n\n\n\nCompact real-time usage display for Claude Code status bar hooks\nSession cost, daily cost, and block cost tracking\nBurn rate calculations with visual indicators\nContext usage percentage with color-coded alerts\n\n\n\n\n\nJSON Configuration Files - Set defaults for all commands or customize per-command\nIDE Support - JSON Schema for autocomplete and validation\nPriority-based Settings - CLI args &gt; local config &gt; user config &gt; defaults\nMultiple Claude Data Directories - Automatic detection and aggregation\nEnvironment Variables - Traditional configuration options\nCustom Date Filtering - Flexible time range selection and sorting\nOffline Mode - Cached pricing data for air-gapped environments"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#data-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#data-sources",
    "title": "Introduction",
    "section": "",
    "text": "ccusage reads from Claude Code‚Äôs local data directories:\n\nNew location: ~/.config/claude/projects/ (Claude Code v1.0.30+)\nLegacy location: ~/.claude/projects/ (pre-v1.0.30)\n\nThe tool automatically detects and aggregates data from both locations for compatibility."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#privacy-security",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#privacy-security",
    "title": "Introduction",
    "section": "",
    "text": "100% Local - All analysis happens on your machine\nNo Data Transmission - Your usage data never leaves your computer\nRead-Only - ccusage only reads files, never modifies them\nOpen Source - Full transparency in how your data is processed"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#limitations",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#limitations",
    "title": "Introduction",
    "section": "",
    "text": "::: warning Important Limitations\n\nLocal Files Only - Only analyzes data from your current machine\nLanguage Model Tokens - API calls for tools like Web Search are not included\nEstimate Accuracy - Costs are estimates and may not reflect actual billing :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#acknowledgments",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#acknowledgments",
    "title": "Introduction",
    "section": "",
    "text": "Thanks to @milliondev for the original concept and approach to Claude Code usage analysis."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#getting-started",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/index.html#getting-started",
    "title": "Introduction",
    "section": "",
    "text": "Ready to analyze your Claude Code usage? Check out our Getting Started Guide to begin exploring your data!"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "The @ccusage/pi package provides usage tracking for pi-agent, an alternative Claude coding agent from shittycodingagent.ai.\n\n\nPi-agent is a third-party Claude coding agent that stores usage data in JSONL format. The @ccusage/pi package analyses this data to give you a view of your pi-agent usage.\n\n\n\n# Recommended - always include @latest\nnpx @ccusage/pi@latest --help\nbunx @ccusage/pi@latest --help  # ‚ö†Ô∏è MUST include @latest with bunx\n\n# Alternative package runners\npnpm dlx @ccusage/pi --help\npnpx @ccusage/pi --help\n::: warning ‚ö†Ô∏è Critical for bunx users Bun‚Äôs bunx prioritizes binaries matching the package name suffix when given a scoped package. Always use bunx @ccusage/pi@latest with the version tag to force bunx to fetch and run the correct package. :::\n\n\nSince npx @ccusage/pi@latest is quite long to type repeatedly, we strongly recommend setting up a shell alias for convenience:\n# bash/zsh: alias ccusage-pi='bunx @ccusage/pi@latest'\n# fish:     alias ccusage-pi 'bunx @ccusage/pi@latest'\n\n# Then simply run:\nccusage-pi daily\nccusage-pi monthly --json\n\nAfter adding the alias to your shell config file (.bashrc, .zshrc, or config.fish), restart your shell or run source on the config file to apply the changes.\n\n\n\n\n\nThe CLI reads usage data from pi-agent:\n\n\n\nSource\nDefault Path\n\n\n\n\nPi-agent\n~/.pi/agent/sessions/\n\n\n\n\n\n\n# Show daily pi-agent usage\nccusage-pi daily\n\n# Show monthly pi-agent usage\nccusage-pi monthly\n\n# Show session-based pi-agent usage\nccusage-pi session\n\n# JSON output for automation\nccusage-pi daily --json\n\n# Custom pi-agent path\nccusage-pi daily --pi-path /path/to/sessions\n\n# Filter by date range\nccusage-pi daily --since 2025-12-01 --until 2025-12-19\n\n# Show model breakdown\nccusage-pi daily --breakdown\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nPI_AGENT_DIR\nCustom path to pi-agent sessions directory\n\n\nLOG_LEVEL\nAdjust logging verbosity (0 silent ‚Ä¶ 5 trace)\n\n\n\n\n\n\nThe daily command shows daily usage from pi-agent.\n# Recommended (fastest)\nbunx @ccusage/pi@latest daily\n\n# Using npx\nnpx @ccusage/pi@latest daily\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date       ‚îÇ Input      ‚îÇ Output      ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost   ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-09 ‚îÇ 567,890    ‚îÇ 123,456     ‚îÇ 5,678     ‚îÇ 45,678    ‚îÇ $0.89  ‚îÇ opus-4  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total      ‚îÇ 567,890    ‚îÇ 123,456     ‚îÇ 5,678     ‚îÇ 45,678    ‚îÇ $0.89  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nUse --json for automation and scripting:\nccusage-pi daily --json\nReturns structured data:\n\n{\n  \"daily\": [\n    {\n      \"date\": \"2025-01-09\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 567890,\n      \"outputTokens\": 123456,\n      \"cacheCreationTokens\": 5678,\n      \"cacheReadTokens\": 45678,\n      \"totalCost\": 0.89,\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 567890,\n    \"outputTokens\": 123456,\n    \"cacheCreationTokens\": 5678,\n    \"cacheReadTokens\": 45678,\n    \"totalCost\": 0.89\n  }\n}\n\n\n\nFilter to a specific date range:\n# Last week\nccusage-pi daily --since 2025-01-02 --until 2025-01-09\n\n# Single day\nccusage-pi daily --since 2025-01-09 --until 2025-01-09\n\n\n\n\nThe monthly command shows monthly usage from pi-agent.\n# Recommended (fastest)\nbunx @ccusage/pi@latest monthly\n\n# Using npx\nnpx @ccusage/pi@latest monthly\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Input      ‚îÇ Output      ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost    ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01 ‚îÇ 12,345,678 ‚îÇ 2,345,678   ‚îÇ 123,456   ‚îÇ 987,654   ‚îÇ $12.34  ‚îÇ opus-4  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total   ‚îÇ 12,345,678 ‚îÇ 2,345,678   ‚îÇ 123,456   ‚îÇ 987,654   ‚îÇ $12.34  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nUse --json for automation and scripting:\nccusage-pi monthly --json\nReturns structured data:\n\n{\n  \"monthly\": [\n    {\n      \"month\": \"2025-01\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 12345678,\n      \"outputTokens\": 2345678,\n      \"cacheCreationTokens\": 123456,\n      \"cacheReadTokens\": 987654,\n      \"totalCost\": 12.34,\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 12345678,\n    \"outputTokens\": 2345678,\n    \"cacheCreationTokens\": 123456,\n    \"cacheReadTokens\": 987654,\n    \"totalCost\": 12.34\n  }\n}\n\n\n\nYou can filter the data to specific months:\n# Current year only\nccusage-pi monthly --since 2025-01-01\n\n# Specific quarter\nccusage-pi monthly --since 2024-10-01 --until 2024-12-31\n\n\n\n\nThe session command shows usage grouped by individual pi-agent sessions.\n# Recommended (fastest)\nbunx @ccusage/pi@latest session\n\n# Using npx\nnpx @ccusage/pi@latest session\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\nSessions are sorted by last activity:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session                      ‚îÇ Input      ‚îÇ Output    ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost   ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ my-project                   ‚îÇ 123,456    ‚îÇ 23,456    ‚îÇ 1,234     ‚îÇ 9,876     ‚îÇ $0.12  ‚îÇ opus-4  ‚îÇ\n‚îÇ another-repo                 ‚îÇ 345,678    ‚îÇ 67,890    ‚îÇ 3,456     ‚îÇ 29,876    ‚îÇ $0.34  ‚îÇ sonnet-4‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total                        ‚îÇ 469,134    ‚îÇ 91,346    ‚îÇ 4,690     ‚îÇ 39,752    ‚îÇ $0.46  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nSessions are identified by the project folder name from ~/.pi/agent/sessions/{project}/.\nLong project names are truncated to 25 characters with ... suffix for readability.\n\n\n\nUse --json for detailed session data:\nccusage-pi session --json\nReturns structured data including full paths:\n\n{\n  \"sessions\": [\n    {\n      \"sessionId\": \"abc123-def456\",\n      \"projectPath\": \"my-project\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 123456,\n      \"outputTokens\": 23456,\n      \"cacheCreationTokens\": 1234,\n      \"cacheReadTokens\": 9876,\n      \"totalCost\": 0.12,\n      \"lastActivity\": \"2025-01-09\",\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 123456,\n    \"outputTokens\": 23456,\n    \"cacheCreationTokens\": 1234,\n    \"cacheReadTokens\": 9876,\n    \"totalCost\": 0.12\n  }\n}\n\n\n\nFilter sessions by their last activity date:\n# Sessions active today\nccusage-pi session --since 2025-01-09 --until 2025-01-09\n\n# Sessions from the past week\nccusage-pi session --since 2025-01-02\n\n\n\n\n\nccusage - Main usage analysis tool for Claude Code\npi-agent - Alternative Claude coding agent"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#what-is-pi-agent",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#what-is-pi-agent",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "Pi-agent is a third-party Claude coding agent that stores usage data in JSONL format. The @ccusage/pi package analyses this data to give you a view of your pi-agent usage."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#installation-launch",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#installation-launch",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "# Recommended - always include @latest\nnpx @ccusage/pi@latest --help\nbunx @ccusage/pi@latest --help  # ‚ö†Ô∏è MUST include @latest with bunx\n\n# Alternative package runners\npnpm dlx @ccusage/pi --help\npnpx @ccusage/pi --help\n::: warning ‚ö†Ô∏è Critical for bunx users Bun‚Äôs bunx prioritizes binaries matching the package name suffix when given a scoped package. Always use bunx @ccusage/pi@latest with the version tag to force bunx to fetch and run the correct package. :::\n\n\nSince npx @ccusage/pi@latest is quite long to type repeatedly, we strongly recommend setting up a shell alias for convenience:\n# bash/zsh: alias ccusage-pi='bunx @ccusage/pi@latest'\n# fish:     alias ccusage-pi 'bunx @ccusage/pi@latest'\n\n# Then simply run:\nccusage-pi daily\nccusage-pi monthly --json\n\nAfter adding the alias to your shell config file (.bashrc, .zshrc, or config.fish), restart your shell or run source on the config file to apply the changes."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#data-source",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#data-source",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "The CLI reads usage data from pi-agent:\n\n\n\nSource\nDefault Path\n\n\n\n\nPi-agent\n~/.pi/agent/sessions/"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#available-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#available-commands",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "# Show daily pi-agent usage\nccusage-pi daily\n\n# Show monthly pi-agent usage\nccusage-pi monthly\n\n# Show session-based pi-agent usage\nccusage-pi session\n\n# JSON output for automation\nccusage-pi daily --json\n\n# Custom pi-agent path\nccusage-pi daily --pi-path /path/to/sessions\n\n# Filter by date range\nccusage-pi daily --since 2025-12-01 --until 2025-12-19\n\n# Show model breakdown\nccusage-pi daily --breakdown"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#environment-variables",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "Variable\nDescription\n\n\n\n\nPI_AGENT_DIR\nCustom path to pi-agent sessions directory\n\n\nLOG_LEVEL\nAdjust logging verbosity (0 silent ‚Ä¶ 5 trace)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#daily-report",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#daily-report",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "The daily command shows daily usage from pi-agent.\n# Recommended (fastest)\nbunx @ccusage/pi@latest daily\n\n# Using npx\nnpx @ccusage/pi@latest daily\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date       ‚îÇ Input      ‚îÇ Output      ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost   ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-09 ‚îÇ 567,890    ‚îÇ 123,456     ‚îÇ 5,678     ‚îÇ 45,678    ‚îÇ $0.89  ‚îÇ opus-4  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total      ‚îÇ 567,890    ‚îÇ 123,456     ‚îÇ 5,678     ‚îÇ 45,678    ‚îÇ $0.89  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nUse --json for automation and scripting:\nccusage-pi daily --json\nReturns structured data:\n\n{\n  \"daily\": [\n    {\n      \"date\": \"2025-01-09\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 567890,\n      \"outputTokens\": 123456,\n      \"cacheCreationTokens\": 5678,\n      \"cacheReadTokens\": 45678,\n      \"totalCost\": 0.89,\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 567890,\n    \"outputTokens\": 123456,\n    \"cacheCreationTokens\": 5678,\n    \"cacheReadTokens\": 45678,\n    \"totalCost\": 0.89\n  }\n}\n\n\n\nFilter to a specific date range:\n# Last week\nccusage-pi daily --since 2025-01-02 --until 2025-01-09\n\n# Single day\nccusage-pi daily --since 2025-01-09 --until 2025-01-09"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#monthly-report",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#monthly-report",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "The monthly command shows monthly usage from pi-agent.\n# Recommended (fastest)\nbunx @ccusage/pi@latest monthly\n\n# Using npx\nnpx @ccusage/pi@latest monthly\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Input      ‚îÇ Output      ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost    ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01 ‚îÇ 12,345,678 ‚îÇ 2,345,678   ‚îÇ 123,456   ‚îÇ 987,654   ‚îÇ $12.34  ‚îÇ opus-4  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total   ‚îÇ 12,345,678 ‚îÇ 2,345,678   ‚îÇ 123,456   ‚îÇ 987,654   ‚îÇ $12.34  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nUse --json for automation and scripting:\nccusage-pi monthly --json\nReturns structured data:\n\n{\n  \"monthly\": [\n    {\n      \"month\": \"2025-01\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 12345678,\n      \"outputTokens\": 2345678,\n      \"cacheCreationTokens\": 123456,\n      \"cacheReadTokens\": 987654,\n      \"totalCost\": 12.34,\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 12345678,\n    \"outputTokens\": 2345678,\n    \"cacheCreationTokens\": 123456,\n    \"cacheReadTokens\": 987654,\n    \"totalCost\": 12.34\n  }\n}\n\n\n\nYou can filter the data to specific months:\n# Current year only\nccusage-pi monthly --since 2025-01-01\n\n# Specific quarter\nccusage-pi monthly --since 2024-10-01 --until 2024-12-31"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#session-report",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#session-report",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "The session command shows usage grouped by individual pi-agent sessions.\n# Recommended (fastest)\nbunx @ccusage/pi@latest session\n\n# Using npx\nnpx @ccusage/pi@latest session\n\n\n\n\n\n\n\n\n\n\nFlag\nShort\nDescription\n\n\n\n\n--since\n\nStart date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--until\n\nEnd date filter (YYYY-MM-DD or YYYYMMDD)\n\n\n--timezone\n-z\nOverride timezone for date grouping\n\n\n--json\n\nEmit structured JSON instead of a table\n\n\n--breakdown\n-b\nShow per-model token breakdown\n\n\n--pi-path\n\nCustom path to pi-agent sessions directory\n\n\n--order\n\nSort order: asc or desc (default: desc)\n\n\n\n\n\n\nSessions are sorted by last activity:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session                      ‚îÇ Input      ‚îÇ Output    ‚îÇ Cache Cr. ‚îÇ Cache Rd. ‚îÇ Cost   ‚îÇ Models  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ my-project                   ‚îÇ 123,456    ‚îÇ 23,456    ‚îÇ 1,234     ‚îÇ 9,876     ‚îÇ $0.12  ‚îÇ opus-4  ‚îÇ\n‚îÇ another-repo                 ‚îÇ 345,678    ‚îÇ 67,890    ‚îÇ 3,456     ‚îÇ 29,876    ‚îÇ $0.34  ‚îÇ sonnet-4‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total                        ‚îÇ 469,134    ‚îÇ 91,346    ‚îÇ 4,690     ‚îÇ 39,752    ‚îÇ $0.46  ‚îÇ         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nSessions are identified by the project folder name from ~/.pi/agent/sessions/{project}/.\nLong project names are truncated to 25 characters with ... suffix for readability.\n\n\n\nUse --json for detailed session data:\nccusage-pi session --json\nReturns structured data including full paths:\n\n{\n  \"sessions\": [\n    {\n      \"sessionId\": \"abc123-def456\",\n      \"projectPath\": \"my-project\",\n      \"source\": \"pi-agent\",\n      \"inputTokens\": 123456,\n      \"outputTokens\": 23456,\n      \"cacheCreationTokens\": 1234,\n      \"cacheReadTokens\": 9876,\n      \"totalCost\": 0.12,\n      \"lastActivity\": \"2025-01-09\",\n      \"modelsUsed\": [\"claude-opus-4-5-20251101\"],\n      \"modelBreakdowns\": [...]\n    }\n  ],\n  \"totals\": {\n    \"inputTokens\": 123456,\n    \"outputTokens\": 23456,\n    \"cacheCreationTokens\": 1234,\n    \"cacheReadTokens\": 9876,\n    \"totalCost\": 0.12\n  }\n}\n\n\n\nFilter sessions by their last activity date:\n# Sessions active today\nccusage-pi session --since 2025-01-09 --until 2025-01-09\n\n# Sessions from the past week\nccusage-pi session --since 2025-01-02"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#related",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/pi/index.html#related",
    "title": "Pi-Agent Integration",
    "section": "",
    "text": "ccusage - Main usage analysis tool for Claude Code\npi-agent - Alternative Claude coding agent"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html",
    "title": "MCP Server",
    "section": "",
    "text": "The ccusage MCP server now lives in the dedicated @ccusage/mcp package. This keeps the main CLI lightweight while still giving you full access to MCP tools for daily, session, monthly, and billing-block analytics.\n\n\nExecute the MCP CLI directly without installation using bunx or npx:\nbunx @ccusage/mcp@latest --help\n# or\nnpx @ccusage/mcp@latest --help\nAll examples below use bunx @ccusage/mcp@latest (you can substitute with npx @ccusage/mcp@latest if preferred).\n\n\n\n\n\nbunx @ccusage/mcp@latest\n# equivalent:\nbunx @ccusage/mcp@latest --type stdio\nThe stdio transport is ideal when the MCP client spawns the process directly (for example, Claude Desktop on the same machine).\n\n\n\nbunx @ccusage/mcp@latest --type http --port 8080\nHTTP mode is useful when you need to expose the server to other hosts or run it as a background service.\n\n\n\nControl how costs are calculated when generating reports:\n# Use cached costUSD values when present, otherwise calculate from tokens (default)\nbunx @ccusage/mcp@latest --mode auto\n\n# Always calculate from tokens using LiteLLM pricing data\nbunx @ccusage/mcp@latest --mode calculate\n\n# Only use pre-calculated costUSD values and default to 0 when missing\nbunx @ccusage/mcp@latest --mode display\nAll options from the original command remain available, including CLAUDE_CONFIG_DIR for custom data locations.\n\n\n\n\nThe server still provides four tools with the same schemas as before:\n\ndaily ‚Äì aggregated usage per day\nmonthly ‚Äì aggregated usage per month\nsession ‚Äì grouped by Claude session ID / project directory\nblocks ‚Äì 5-hour billing block summaries\n\nEach tool accepts since, until, and mode parameters, plus timezone/locale overrides identical to the ccusage library.\n\n\n\n\n\nbunx @modelcontextprotocol/inspector bunx @ccusage/mcp@latest\n# or\nnpx @modelcontextprotocol/inspector npx @ccusage/mcp@latest\nThe Inspector lets you:\n\nCall each tool interactively\nInspect the tool schemas and responses\nDebug invalid parameters or unexpected data\nExport ready-to-use server definitions\n\n\n\n\nbunx @ccusage/mcp@latest\n# Now send JSON-RPC to stdin, e.g. list available tools\n{\"jsonrpc\": \"2.0\", \"id\": 1, \"method\": \"tools/list\"}\n\n\n\n\n\n\n\nClaude Desktop MCP Configuration\n\n\nUpdate your Claude Desktop configuration to use direct execution:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"bunx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {}\n        }\n    }\n}\nOr using npx:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {}\n        }\n    }\n}\nNeed custom paths or cost modes? Pass them as arguments:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"bunx\",\n            \"args\": [\"@ccusage/mcp@latest\", \"--mode\", \"calculate\", \"--type\", \"http\", \"--port\", \"8080\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/path/to/claude/data\"\n            }\n        }\n    }\n}\nAfter updating the file, restart Claude Desktop so it picks up the new MCP server.\n\n\n\n‚ÄúAsk the ccusage MCP server for today‚Äôs usage report‚Äù\n‚ÄúShow me the sessions with the highest cost this week‚Äù\n‚ÄúSummarize my current billing block‚Äù\n\n\n\n\n\nPrefer to embed the MCP server directly? Import it from the library just like before:\nimport { createMcpServer } from '@ccusage/mcp';\n\nconst server = createMcpServer();\n// ...connect it to the transport of your choice\nSee the Library Usage guide for more examples."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#running-the-mcp-cli",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#running-the-mcp-cli",
    "title": "MCP Server",
    "section": "",
    "text": "Execute the MCP CLI directly without installation using bunx or npx:\nbunx @ccusage/mcp@latest --help\n# or\nnpx @ccusage/mcp@latest --help\nAll examples below use bunx @ccusage/mcp@latest (you can substitute with npx @ccusage/mcp@latest if preferred)."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#starting-the-mcp-server",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#starting-the-mcp-server",
    "title": "MCP Server",
    "section": "",
    "text": "bunx @ccusage/mcp@latest\n# equivalent:\nbunx @ccusage/mcp@latest --type stdio\nThe stdio transport is ideal when the MCP client spawns the process directly (for example, Claude Desktop on the same machine).\n\n\n\nbunx @ccusage/mcp@latest --type http --port 8080\nHTTP mode is useful when you need to expose the server to other hosts or run it as a background service.\n\n\n\nControl how costs are calculated when generating reports:\n# Use cached costUSD values when present, otherwise calculate from tokens (default)\nbunx @ccusage/mcp@latest --mode auto\n\n# Always calculate from tokens using LiteLLM pricing data\nbunx @ccusage/mcp@latest --mode calculate\n\n# Only use pre-calculated costUSD values and default to 0 when missing\nbunx @ccusage/mcp@latest --mode display\nAll options from the original command remain available, including CLAUDE_CONFIG_DIR for custom data locations."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#available-mcp-tools",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#available-mcp-tools",
    "title": "MCP Server",
    "section": "",
    "text": "The server still provides four tools with the same schemas as before:\n\ndaily ‚Äì aggregated usage per day\nmonthly ‚Äì aggregated usage per month\nsession ‚Äì grouped by Claude session ID / project directory\nblocks ‚Äì 5-hour billing block summaries\n\nEach tool accepts since, until, and mode parameters, plus timezone/locale overrides identical to the ccusage library."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#testing-the-mcp-server",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#testing-the-mcp-server",
    "title": "MCP Server",
    "section": "",
    "text": "bunx @modelcontextprotocol/inspector bunx @ccusage/mcp@latest\n# or\nnpx @modelcontextprotocol/inspector npx @ccusage/mcp@latest\nThe Inspector lets you:\n\nCall each tool interactively\nInspect the tool schemas and responses\nDebug invalid parameters or unexpected data\nExport ready-to-use server definitions\n\n\n\n\nbunx @ccusage/mcp@latest\n# Now send JSON-RPC to stdin, e.g. list available tools\n{\"jsonrpc\": \"2.0\", \"id\": 1, \"method\": \"tools/list\"}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#claude-desktop-integration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#claude-desktop-integration",
    "title": "MCP Server",
    "section": "",
    "text": "Claude Desktop MCP Configuration\n\n\nUpdate your Claude Desktop configuration to use direct execution:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"bunx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {}\n        }\n    }\n}\nOr using npx:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {}\n        }\n    }\n}\nNeed custom paths or cost modes? Pass them as arguments:\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"bunx\",\n            \"args\": [\"@ccusage/mcp@latest\", \"--mode\", \"calculate\", \"--type\", \"http\", \"--port\", \"8080\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/path/to/claude/data\"\n            }\n        }\n    }\n}\nAfter updating the file, restart Claude Desktop so it picks up the new MCP server.\n\n\n\n‚ÄúAsk the ccusage MCP server for today‚Äôs usage report‚Äù\n‚ÄúShow me the sessions with the highest cost this week‚Äù\n‚ÄúSummarize my current billing block‚Äù"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#library-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/mcp-server.html#library-usage",
    "title": "MCP Server",
    "section": "",
    "text": "Prefer to embed the MCP server directly? Import it from the library just like before:\nimport { createMcpServer } from '@ccusage/mcp';\n\nconst server = createMcpServer();\n// ...connect it to the transport of your choice\nSee the Library Usage guide for more examples."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/session.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/session.html",
    "title": "Codex Session Report (Beta)",
    "section": "",
    "text": "The session command groups Codex CLI usage by individual sessions so you can spot long-running conversations, confirm last activity times, and audit model switches inside a single log.\nSessions are listed oldest-to-newest by their last activity timestamp so the output lines up with the daily and monthly views. Each row shows the activity date, the Codex session directory, and a short session identifier (last 8 characters of the log filename) alongside token and cost columns. When your terminal narrows (or --compact is passed) the table automatically collapses to just Date, Directory, Session, Input, Output, and Cost to stay readable.\n# Recommended (fastest)\nbunx @ccusage/codex@latest session\n\n# Using npx\nnpx @ccusage/codex@latest session\n\n\n\n\n\n\n\n\n\nFlag\nDescription\n\n\n\n\n--since / --until\nFilter sessions by their activity date (YYYYMMDD or YYYY-MM-DD)\n\n\n--timezone\nOverride the timezone used for date grouping and last-activity display\n\n\n--locale\nAdjust locale for table and timestamp formatting\n\n\n--json\nEmit structured JSON ({ sessions: [], totals: {} }) instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nJSON output includes a sessions array with per-model breakdowns, cached token counts, lastActivity, and isFallback flags for any events that required the legacy gpt-5 pricing fallback.\nNeed time-based rollups instead? Check out the daily and monthly reports for broader aggregates that reuse the same data source."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/session.html#options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/session.html#options",
    "title": "Codex Session Report (Beta)",
    "section": "",
    "text": "Flag\nDescription\n\n\n\n\n--since / --until\nFilter sessions by their activity date (YYYYMMDD or YYYY-MM-DD)\n\n\n--timezone\nOverride the timezone used for date grouping and last-activity display\n\n\n--locale\nAdjust locale for table and timestamp formatting\n\n\n--json\nEmit structured JSON ({ sessions: [], totals: {} }) instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nJSON output includes a sessions array with per-model breakdowns, cached token counts, lastActivity, and isFallback flags for any events that required the legacy gpt-5 pricing fallback.\nNeed time-based rollups instead? Check out the daily and monthly reports for broader aggregates that reuse the same data source."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/monthly.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/monthly.html",
    "title": "Codex Monthly Report (Beta)",
    "section": "",
    "text": "Codex CLI monthly report\n\n\nThe monthly command mirrors ccusage‚Äôs monthly report while operating on Codex CLI session logs.\n# Recommended (fastest)\nbunx @ccusage/codex@latest monthly\n\n# Using npx\nnpx @ccusage/codex@latest monthly\n\n\n\n\n\n\n\n\n\nFlag\nDescription\n\n\n\n\n--since / --until\nFilter to a specific date range (YYYYMMDD or YYYY-MM-DD) before aggregating\n\n\n--timezone\nOverride the timezone used to bucket usage into months\n\n\n--locale\nAdjust month label formatting\n\n\n--json\nEmit structured JSON instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nThe output uses the same responsive table component as ccusage, including compact mode support, per-model token summaries, and a combined totals row."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/monthly.html#options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/monthly.html#options",
    "title": "Codex Monthly Report (Beta)",
    "section": "",
    "text": "Flag\nDescription\n\n\n\n\n--since / --until\nFilter to a specific date range (YYYYMMDD or YYYY-MM-DD) before aggregating\n\n\n--timezone\nOverride the timezone used to bucket usage into months\n\n\n--locale\nAdjust month label formatting\n\n\n--json\nEmit structured JSON instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nThe output uses the same responsive table component as ccusage, including compact mode support, per-model token summaries, and a combined totals row."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html",
    "title": "Configuration Files",
    "section": "",
    "text": "ccusage supports JSON configuration files for persistent settings. Configuration files allow you to set default options for all commands or customize behavior for specific commands without repeating options every time.\n\n\n\n\nAlways include the schema for autocomplete and validation:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\n\n\n\nPut frequently used options in defaults:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"breakdown\": true\n    }\n}\n\n\n\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": false\n    },\n    \"commands\": {\n        \"daily\": {\n            \"breakdown\": true // Only daily needs breakdown\n        }\n    }\n}\n\n\n\nIf you find yourself repeating CLI arguments:\n# Before (repeated CLI arguments)\nccusage daily --breakdown --instances --timezone UTC\nccusage monthly --breakdown --timezone UTC\nConvert them to a config file:\n// ccusage.json\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": true,\n        \"timezone\": \"UTC\"\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true\n        }\n    }\n}\nNow simpler commands:\nccusage daily\nccusage monthly\n\n\n\n\nccusage searches for configuration files in these locations (in priority order):\n\nLocal project: .ccusage/ccusage.json (higher priority)\nUser config: ~/.claude/ccusage.json or ~/.config/claude/ccusage.json (lower priority)\n\nConfiguration files are merged in priority order, with local project settings overriding user settings. If you pass a custom config file using --config, it will override both local and user configs. Note that configuration files are not required; if none are found, ccusage will use built-in defaults. Also, if you have multiple config files, only the first one found will be used.\n\n\n\nCreate a ccusage.json file with your preferred defaults:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"json\": false,\n        \"mode\": \"auto\",\n        \"offline\": false,\n        \"timezone\": \"Asia/Tokyo\",\n        \"locale\": \"ja-JP\",\n        \"breakdown\": true\n    }\n}\n\n\n\n\n\nAdd the $schema property to get IntelliSense and validation in your IDE:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\nYou can also reference a local schema file after installing ccusage:\n{\n    \"$schema\": \"./node_modules/ccusage/config-schema.json\"\n}\n\n\n\nThe defaults section sets default values for all commands:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"since\": \"20250101\",\n        \"until\": \"20250630\",\n        \"json\": false,\n        \"mode\": \"auto\",\n        \"debug\": false,\n        \"debugSamples\": 5,\n        \"order\": \"asc\",\n        \"breakdown\": false,\n        \"offline\": false,\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"jq\": \".data[]\"\n    }\n}\n\n\n\nOverride defaults for specific commands using the commands section:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"mode\": \"auto\",\n        \"offline\": false\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true,\n            \"breakdown\": true\n        },\n        \"blocks\": {\n            \"active\": true,\n            \"tokenLimit\": \"500000\"\n        }\n    }\n}\n\n\n\n\n\n\n{\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true,\n            \"project\": \"my-project\",\n            \"breakdown\": true,\n            \"since\": \"20250101\",\n            \"until\": \"20250630\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"weekly\": {\n            \"startOfWeek\": \"monday\",\n            \"breakdown\": true,\n            \"timezone\": \"Europe/London\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"monthly\": {\n            \"breakdown\": true,\n            \"mode\": \"calculate\",\n            \"locale\": \"en-US\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"session\": {\n            \"id\": \"abc123-session\",\n            \"project\": \"my-project\",\n            \"json\": true\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"blocks\": {\n            \"active\": true,\n            \"recent\": false,\n            \"tokenLimit\": \"max\",\n            \"sessionLength\": 5,\n            \"live\": false,\n            \"refreshInterval\": 1\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"statusline\": {\n            \"offline\": true,\n            \"cache\": true,\n            \"refreshInterval\": 2\n        }\n    }\n}\n\n\n\n\nUse the --config option to specify a custom configuration file:\n# Use a specific configuration file\nccusage daily --config ./my-config.json\n\n# Works with all commands\nccusage blocks --config /path/to/team-config.json\nThis is useful for:\n\nTeam configurations - Share configuration files across team members\nEnvironment-specific settings - Different configs for development/production\nProject-specific overrides - Use different settings for different projects\n\n\n\n\nFor a complete configuration example, see /ccusage.example.json in the repository root, which demonstrates:\n\nGlobal defaults configuration\nCommand-specific overrides\nAll available options with proper types\n\n\n\n\nSettings are applied in this priority order (highest to lowest):\n\nCommand-line arguments (e.g., --json, --offline)\nCustom config file (specified with --config /path/to/config.json)\nLocal project config (.ccusage/ccusage.json)\nUser config (~/.config/claude/ccusage.json)\nLegacy config (~/.claude/ccusage.json)\nBuilt-in defaults\n\nExample:\n// .ccusage/ccusage.json\n{\n    \"defaults\": {\n        \"mode\": \"calculate\"\n    }\n}\n# Config file sets mode to \"calculate\"\nccusage daily  # Uses mode: calculate\n\n# But CLI argument overrides it\nccusage daily --mode display  # Uses mode: display\n\n\n\nUse the --debug flag to see configuration loading details:\n# Debug configuration loading\nccusage daily --debug\n\n# Debug custom config file\nccusage daily --debug --config ./my-config.json\nDebug output shows:\n\nWhich config files are checked and found\nSchema and option details from loaded configs\nHow options are merged from different sources\nFinal values used for each option\n\nExample debug output:\n[ccusage] ‚Ñπ Debug mode enabled - showing config loading details\n\n[ccusage] ‚Ñπ Searching for config files:\n  ‚Ä¢ Checking: .ccusage/ccusage.json (found ‚úì)\n  ‚Ä¢ Checking: ~/.config/claude/ccusage.json (found ‚úì)\n  ‚Ä¢ Checking: ~/.claude/ccusage.json (not found)\n\n[ccusage] ‚Ñπ Loaded config from: .ccusage/ccusage.json\n  ‚Ä¢ Schema: https://ccusage.com/config-schema.json\n  ‚Ä¢ Has defaults: yes (3 options)\n  ‚Ä¢ Has command configs: yes (daily)\n\n[ccusage] ‚Ñπ Merging options for 'daily' command:\n  ‚Ä¢ From defaults: mode=\"auto\", offline=false\n  ‚Ä¢ From command config: instances=true\n  ‚Ä¢ From CLI args: debug=true\n  ‚Ä¢ Final merged options: {\n      mode: \"auto\" (from defaults),\n      offline: false (from defaults),\n      instances: true (from command config),\n      debug: true (from CLI)\n    }\n\n\n\n\n\nFor project configs, commit .ccusage/ccusage.json to version control:\n# Add to git\ngit add .ccusage/ccusage.json\ngit commit -m \"Add ccusage configuration\"\n\n\n\nAdd comments using a README alongside team configs:\nteam-configs/\n‚îú‚îÄ‚îÄ ccusage.json\n‚îî‚îÄ‚îÄ README.md  # Explain configuration choices\n\n\n\n\n\n\n\nCheck file location is correct\nVerify JSON syntax is valid\nUse --debug to see loading details\nEnsure option names match exactly\n\n\n\n\nUse a JSON validator or IDE with JSON support:\n# Validate JSON syntax\njq . &lt; ccusage.json\n\n\n\nEnsure option values match expected types:\n{\n    \"defaults\": {\n        \"tokenLimit\": \"500000\", // ‚úÖ String or number\n        \"active\": true, // ‚úÖ Boolean\n        \"refreshInterval\": 2 // ‚úÖ Number\n    }\n}\n\n\n\n\n\nCommand-Line Options - Available CLI arguments\nEnvironment Variables - Environment configuration\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#quick-start",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#quick-start",
    "title": "Configuration Files",
    "section": "",
    "text": "Always include the schema for autocomplete and validation:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\n\n\n\nPut frequently used options in defaults:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"breakdown\": true\n    }\n}\n\n\n\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": false\n    },\n    \"commands\": {\n        \"daily\": {\n            \"breakdown\": true // Only daily needs breakdown\n        }\n    }\n}\n\n\n\nIf you find yourself repeating CLI arguments:\n# Before (repeated CLI arguments)\nccusage daily --breakdown --instances --timezone UTC\nccusage monthly --breakdown --timezone UTC\nConvert them to a config file:\n// ccusage.json\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"breakdown\": true,\n        \"timezone\": \"UTC\"\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true\n        }\n    }\n}\nNow simpler commands:\nccusage daily\nccusage monthly"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-file-locations",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-file-locations",
    "title": "Configuration Files",
    "section": "",
    "text": "ccusage searches for configuration files in these locations (in priority order):\n\nLocal project: .ccusage/ccusage.json (higher priority)\nUser config: ~/.claude/ccusage.json or ~/.config/claude/ccusage.json (lower priority)\n\nConfiguration files are merged in priority order, with local project settings overriding user settings. If you pass a custom config file using --config, it will override both local and user configs. Note that configuration files are not required; if none are found, ccusage will use built-in defaults. Also, if you have multiple config files, only the first one found will be used."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#basic-configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#basic-configuration",
    "title": "Configuration Files",
    "section": "",
    "text": "Create a ccusage.json file with your preferred defaults:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"json\": false,\n        \"mode\": \"auto\",\n        \"offline\": false,\n        \"timezone\": \"Asia/Tokyo\",\n        \"locale\": \"ja-JP\",\n        \"breakdown\": true\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-structure",
    "title": "Configuration Files",
    "section": "",
    "text": "Add the $schema property to get IntelliSense and validation in your IDE:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\"\n}\nYou can also reference a local schema file after installing ccusage:\n{\n    \"$schema\": \"./node_modules/ccusage/config-schema.json\"\n}\n\n\n\nThe defaults section sets default values for all commands:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"since\": \"20250101\",\n        \"until\": \"20250630\",\n        \"json\": false,\n        \"mode\": \"auto\",\n        \"debug\": false,\n        \"debugSamples\": 5,\n        \"order\": \"asc\",\n        \"breakdown\": false,\n        \"offline\": false,\n        \"timezone\": \"UTC\",\n        \"locale\": \"en-CA\",\n        \"jq\": \".data[]\"\n    }\n}\n\n\n\nOverride defaults for specific commands using the commands section:\n{\n    \"$schema\": \"https://ccusage.com/config-schema.json\",\n    \"defaults\": {\n        \"mode\": \"auto\",\n        \"offline\": false\n    },\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true,\n            \"breakdown\": true\n        },\n        \"blocks\": {\n            \"active\": true,\n            \"tokenLimit\": \"500000\"\n        }\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#command-specific-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#command-specific-options",
    "title": "Configuration Files",
    "section": "",
    "text": "{\n    \"commands\": {\n        \"daily\": {\n            \"instances\": true,\n            \"project\": \"my-project\",\n            \"breakdown\": true,\n            \"since\": \"20250101\",\n            \"until\": \"20250630\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"weekly\": {\n            \"startOfWeek\": \"monday\",\n            \"breakdown\": true,\n            \"timezone\": \"Europe/London\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"monthly\": {\n            \"breakdown\": true,\n            \"mode\": \"calculate\",\n            \"locale\": \"en-US\"\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"session\": {\n            \"id\": \"abc123-session\",\n            \"project\": \"my-project\",\n            \"json\": true\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"blocks\": {\n            \"active\": true,\n            \"recent\": false,\n            \"tokenLimit\": \"max\",\n            \"sessionLength\": 5,\n            \"live\": false,\n            \"refreshInterval\": 1\n        }\n    }\n}\n\n\n\n{\n    \"commands\": {\n        \"statusline\": {\n            \"offline\": true,\n            \"cache\": true,\n            \"refreshInterval\": 2\n        }\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#custom-configuration-files",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#custom-configuration-files",
    "title": "Configuration Files",
    "section": "",
    "text": "Use the --config option to specify a custom configuration file:\n# Use a specific configuration file\nccusage daily --config ./my-config.json\n\n# Works with all commands\nccusage blocks --config /path/to/team-config.json\nThis is useful for:\n\nTeam configurations - Share configuration files across team members\nEnvironment-specific settings - Different configs for development/production\nProject-specific overrides - Use different settings for different projects"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-example",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-example",
    "title": "Configuration Files",
    "section": "",
    "text": "For a complete configuration example, see /ccusage.example.json in the repository root, which demonstrates:\n\nGlobal defaults configuration\nCommand-specific overrides\nAll available options with proper types"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-priority",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#configuration-priority",
    "title": "Configuration Files",
    "section": "",
    "text": "Settings are applied in this priority order (highest to lowest):\n\nCommand-line arguments (e.g., --json, --offline)\nCustom config file (specified with --config /path/to/config.json)\nLocal project config (.ccusage/ccusage.json)\nUser config (~/.config/claude/ccusage.json)\nLegacy config (~/.claude/ccusage.json)\nBuilt-in defaults\n\nExample:\n// .ccusage/ccusage.json\n{\n    \"defaults\": {\n        \"mode\": \"calculate\"\n    }\n}\n# Config file sets mode to \"calculate\"\nccusage daily  # Uses mode: calculate\n\n# But CLI argument overrides it\nccusage daily --mode display  # Uses mode: display"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#debugging-configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#debugging-configuration",
    "title": "Configuration Files",
    "section": "",
    "text": "Use the --debug flag to see configuration loading details:\n# Debug configuration loading\nccusage daily --debug\n\n# Debug custom config file\nccusage daily --debug --config ./my-config.json\nDebug output shows:\n\nWhich config files are checked and found\nSchema and option details from loaded configs\nHow options are merged from different sources\nFinal values used for each option\n\nExample debug output:\n[ccusage] ‚Ñπ Debug mode enabled - showing config loading details\n\n[ccusage] ‚Ñπ Searching for config files:\n  ‚Ä¢ Checking: .ccusage/ccusage.json (found ‚úì)\n  ‚Ä¢ Checking: ~/.config/claude/ccusage.json (found ‚úì)\n  ‚Ä¢ Checking: ~/.claude/ccusage.json (not found)\n\n[ccusage] ‚Ñπ Loaded config from: .ccusage/ccusage.json\n  ‚Ä¢ Schema: https://ccusage.com/config-schema.json\n  ‚Ä¢ Has defaults: yes (3 options)\n  ‚Ä¢ Has command configs: yes (daily)\n\n[ccusage] ‚Ñπ Merging options for 'daily' command:\n  ‚Ä¢ From defaults: mode=\"auto\", offline=false\n  ‚Ä¢ From command config: instances=true\n  ‚Ä¢ From CLI args: debug=true\n  ‚Ä¢ Final merged options: {\n      mode: \"auto\" (from defaults),\n      offline: false (from defaults),\n      instances: true (from command config),\n      debug: true (from CLI)\n    }"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#best-practices",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#best-practices",
    "title": "Configuration Files",
    "section": "",
    "text": "For project configs, commit .ccusage/ccusage.json to version control:\n# Add to git\ngit add .ccusage/ccusage.json\ngit commit -m \"Add ccusage configuration\"\n\n\n\nAdd comments using a README alongside team configs:\nteam-configs/\n‚îú‚îÄ‚îÄ ccusage.json\n‚îî‚îÄ‚îÄ README.md  # Explain configuration choices"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#troubleshooting",
    "title": "Configuration Files",
    "section": "",
    "text": "Check file location is correct\nVerify JSON syntax is valid\nUse --debug to see loading details\nEnsure option names match exactly\n\n\n\n\nUse a JSON validator or IDE with JSON support:\n# Validate JSON syntax\njq . &lt; ccusage.json\n\n\n\nEnsure option values match expected types:\n{\n    \"defaults\": {\n        \"tokenLimit\": \"500000\", // ‚úÖ String or number\n        \"active\": true, // ‚úÖ Boolean\n        \"refreshInterval\": 2 // ‚úÖ Number\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#related-documentation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/config-files.html#related-documentation",
    "title": "Configuration Files",
    "section": "",
    "text": "Command-Line Options - Available CLI arguments\nEnvironment Variables - Environment configuration\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html",
    "title": "Library Usage",
    "section": "",
    "text": "While ccusage is primarily known as a CLI tool, it can also be used as a library in your JavaScript/TypeScript projects. This allows you to integrate Claude Code usage analysis directly into your applications.\n\n\nnpm install ccusage\n# or\nyarn add ccusage\n# or\npnpm add ccusage\n# or\nbun add ccusage\n\n\n\nThe library provides functions to load and analyze Claude Code usage data:\nimport { loadDailyUsageData, loadMonthlyUsageData, loadSessionData } from 'ccusage/data-loader';\n\n// Load daily usage data\nconst dailyData = await loadDailyUsageData();\nconsole.log(dailyData);\n\n// Load monthly usage data\nconst monthlyData = await loadMonthlyUsageData();\nconsole.log(monthlyData);\n\n// Load session data\nconst sessionData = await loadSessionData();\nconsole.log(sessionData);\n\n\n\nUse the cost calculation utilities to work with token costs:\nimport { calculateTotals, getTotalTokens } from 'ccusage/calculate-cost';\n\n// Assume 'usageEntries' is an array of usage data objects\nconst totals = calculateTotals(usageEntries);\n\n// Get total tokens from the same entries\nconst totalTokens = getTotalTokens(usageEntries);\n\n\n\nYou can customize the data loading behavior:\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\n// Load data with custom options\nconst data = await loadDailyUsageData({\n    mode: 'calculate', // Force cost calculation\n    claudePaths: ['/custom/path/to/claude'], // Custom Claude data paths\n});\n\n\n\nThe library is fully typed with TypeScript definitions:\nimport type {\n    DailyUsage,\n    ModelBreakdown,\n    MonthlyUsage,\n    SessionUsage,\n    UsageData,\n} from 'ccusage/data-loader';\n\n// Use the types in your application\nfunction processUsageData(data: UsageData[]): void {\n    // Your processing logic here\n}\n\n\n\nYou can also create your own MCP server using the dedicated @ccusage/mcp package:\n\nNote: Install ccusage and @ccusage/mcp together, for example with pnpm add ccusage @ccusage/mcp.\n\nimport { createMcpServer } from '@ccusage/mcp';\n\n// Create an MCP server instance\nconst server = createMcpServer();\n\n// Start the server\nserver.start();\n\n\n\nFor detailed information about all available functions, types, and options, see the API Reference section.\n\n\n\nHere are some common use cases:\n\n\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\nexport async function GET() {\n    const data = await loadDailyUsageData();\n    return Response.json(data);\n}\n\n\n\nimport { calculateTotals, loadSessionData } from 'ccusage';\n\nasync function generateCustomReport() {\n    const sessions = await loadSessionData();\n\n    const report = sessions.map((session) =&gt; ({\n        project: session.project,\n        session: session.session,\n        totalCost: calculateTotals(session.usage).costUSD,\n    }));\n\n    return report;\n}\n\n\n\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\nasync function checkUsageAlert() {\n    const dailyData = await loadDailyUsageData();\n    const today = dailyData[0]; // Most recent day\n\n    if (today.totalCostUSD &gt; 10) {\n        console.warn(`High usage detected: $${today.totalCostUSD}`);\n    }\n}\n\n\n\n\n\nExplore the API Reference for complete documentation\nCheck out the MCP Server guide for integration examples\nSee JSON Output for data format details"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#installation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#installation",
    "title": "Library Usage",
    "section": "",
    "text": "npm install ccusage\n# or\nyarn add ccusage\n# or\npnpm add ccusage\n# or\nbun add ccusage"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#basic-usage",
    "title": "Library Usage",
    "section": "",
    "text": "The library provides functions to load and analyze Claude Code usage data:\nimport { loadDailyUsageData, loadMonthlyUsageData, loadSessionData } from 'ccusage/data-loader';\n\n// Load daily usage data\nconst dailyData = await loadDailyUsageData();\nconsole.log(dailyData);\n\n// Load monthly usage data\nconst monthlyData = await loadMonthlyUsageData();\nconsole.log(monthlyData);\n\n// Load session data\nconst sessionData = await loadSessionData();\nconsole.log(sessionData);"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#cost-calculation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#cost-calculation",
    "title": "Library Usage",
    "section": "",
    "text": "Use the cost calculation utilities to work with token costs:\nimport { calculateTotals, getTotalTokens } from 'ccusage/calculate-cost';\n\n// Assume 'usageEntries' is an array of usage data objects\nconst totals = calculateTotals(usageEntries);\n\n// Get total tokens from the same entries\nconst totalTokens = getTotalTokens(usageEntries);"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#advanced-configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#advanced-configuration",
    "title": "Library Usage",
    "section": "",
    "text": "You can customize the data loading behavior:\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\n// Load data with custom options\nconst data = await loadDailyUsageData({\n    mode: 'calculate', // Force cost calculation\n    claudePaths: ['/custom/path/to/claude'], // Custom Claude data paths\n});"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#typescript-support",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#typescript-support",
    "title": "Library Usage",
    "section": "",
    "text": "The library is fully typed with TypeScript definitions:\nimport type {\n    DailyUsage,\n    ModelBreakdown,\n    MonthlyUsage,\n    SessionUsage,\n    UsageData,\n} from 'ccusage/data-loader';\n\n// Use the types in your application\nfunction processUsageData(data: UsageData[]): void {\n    // Your processing logic here\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#mcp-server-integration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#mcp-server-integration",
    "title": "Library Usage",
    "section": "",
    "text": "You can also create your own MCP server using the dedicated @ccusage/mcp package:\n\nNote: Install ccusage and @ccusage/mcp together, for example with pnpm add ccusage @ccusage/mcp.\n\nimport { createMcpServer } from '@ccusage/mcp';\n\n// Create an MCP server instance\nconst server = createMcpServer();\n\n// Start the server\nserver.start();"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#api-reference",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#api-reference",
    "title": "Library Usage",
    "section": "",
    "text": "For detailed information about all available functions, types, and options, see the API Reference section."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#examples",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#examples",
    "title": "Library Usage",
    "section": "",
    "text": "Here are some common use cases:\n\n\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\nexport async function GET() {\n    const data = await loadDailyUsageData();\n    return Response.json(data);\n}\n\n\n\nimport { calculateTotals, loadSessionData } from 'ccusage';\n\nasync function generateCustomReport() {\n    const sessions = await loadSessionData();\n\n    const report = sessions.map((session) =&gt; ({\n        project: session.project,\n        session: session.session,\n        totalCost: calculateTotals(session.usage).costUSD,\n    }));\n\n    return report;\n}\n\n\n\nimport { loadDailyUsageData } from 'ccusage/data-loader';\n\nasync function checkUsageAlert() {\n    const dailyData = await loadDailyUsageData();\n    const today = dailyData[0]; // Most recent day\n\n    if (today.totalCostUSD &gt; 10) {\n        console.warn(`High usage detected: $${today.totalCostUSD}`);\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/library-usage.html#next-steps",
    "title": "Library Usage",
    "section": "",
    "text": "Explore the API Reference for complete documentation\nCheck out the MCP Server guide for integration examples\nSee JSON Output for data format details"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html",
    "title": "Command-Line Options",
    "section": "",
    "text": "ccusage provides extensive command-line options to customize its behavior. These options take precedence over configuration files and environment variables.\n\n\nAll ccusage commands support these global options:\n\n\nFilter usage data by date range:\n# Filter by date range\nccusage daily --since 20250101 --until 20250630\n\n# Show data from a specific date\nccusage monthly --since 20250101\n\n# Show data up to a specific date\nccusage session --until 20250630\n\n\n\nControl how data is displayed:\n# JSON output for programmatic use\nccusage daily --json\nccusage daily -j\n\n# Show per-model breakdown\nccusage daily --breakdown\nccusage daily -b\n\n# Combine options\nccusage daily --json --breakdown\n\n\n\nChoose how costs are calculated:\n# Auto mode (default) - use costUSD when available\nccusage daily --mode auto\n\n# Calculate mode - always calculate from tokens\nccusage daily --mode calculate\n\n# Display mode - only show pre-calculated costUSD\nccusage daily --mode display\n\n\n\nControl the ordering of results:\n# Newest first (default)\nccusage daily --order desc\n\n# Oldest first\nccusage daily --order asc\n\n\n\nRun without network connectivity:\n# Use cached pricing data\nccusage daily --offline\nccusage daily -O\n\n\n\nSet the timezone for date calculations:\n# Use UTC timezone\nccusage daily --timezone UTC\n\n# Use specific timezone\nccusage daily --timezone America/New_York\nccusage daily -z Asia/Tokyo\n\n# Short alias\nccusage monthly -z Europe/London\n\n\nThe timezone affects how usage is grouped by date. For example, usage at 11 PM UTC on January 1st would appear on:\n\nJanuary 1st when --timezone UTC\nJanuary 1st when --timezone America/New_York (6 PM EST)\nJanuary 2nd when --timezone Asia/Tokyo (8 AM JST next day)\n\n\n\n\n\nControl date and time formatting:\n# US English (12-hour time format)\nccusage daily --locale en-US\n\n# Japanese (24-hour time format)\nccusage blocks --locale ja-JP\n\n# German (24-hour time format)\nccusage session -l de-DE\n\n# Short alias\nccusage daily -l fr-FR\n\n\nThe locale affects display formatting:\nDate Format:\n\nen-US: 08/04/2025\nen-CA: 2025-08-04 (ISO format, default)\nja-JP: 2025/08/04\nde-DE: 04.08.2025\n\nTime Format:\n\nen-US: 3:30:00 PM (12-hour)\nOthers: 15:30:00 (24-hour)\n\n\n\n\n\nGet detailed debugging information:\n# Debug mode - show pricing mismatches and config loading\nccusage daily --debug\n\n# Show sample discrepancies\nccusage daily --debug --debug-samples 10\n\n\n\nUse a custom configuration file:\n# Specify custom config file\nccusage daily --config ./my-config.json\nccusage monthly --config /path/to/team-config.json\n\n\n\n\n\n\nAdditional options for daily reports:\n# Group by project\nccusage daily --instances\nccusage daily -i\n\n# Filter to specific project\nccusage daily --project myproject\nccusage daily -p myproject\n\n# Combine project filtering\nccusage daily --instances --project myproject\n\n\n\nOptions for weekly reports:\n# Set week start day\nccusage weekly --start-of-week monday\nccusage weekly --start-of-week sunday\n\n\n\nOptions for session reports:\n# Filter by session ID\nccusage session --id abc123-session\n\n# Filter by project\nccusage session --project myproject\n\n\n\nOptions for 5-hour billing blocks:\n# Show only active block\nccusage blocks --active\nccusage blocks -a\n\n# Show recent blocks (last 3 days)\nccusage blocks --recent\nccusage blocks -r\n\n# Set token limit for warnings\nccusage blocks --token-limit 500000\nccusage blocks --token-limit max\n\n# Live monitoring mode\nccusage blocks --live\nccusage blocks --live --refresh-interval 2\n\n# Customize session length\nccusage blocks --session-length 5\n\nNote: The MCP server CLI moved to the dedicated @ccusage/mcp package. See the MCP Server guide for usage details.\n\n\n\n\nOptions for statusline display:\n# Basic statusline\nccusage statusline\n\n# Force offline mode\nccusage statusline --offline\n\n# Enable caching\nccusage statusline --cache\n\n# Custom refresh interval\nccusage statusline --refresh-interval 5\n\n\n\n\nWhen using --json output, additional processing options are available:\n# Apply jq filter to JSON output\nccusage daily --json --jq \".data[]\"\n\n# Filter high-cost days\nccusage daily --json --jq \".data[] | select(.cost &gt; 10)\"\n\n# Extract specific fields\nccusage session --json --jq \".data[] | {date, cost}\"\n\n\n\nOptions are applied in this order (highest to lowest priority):\n\nCommand-line arguments - Direct CLI options\nCustom config file - Via --config flag\nLocal project config - .ccusage/ccusage.json\nUser config - ~/.config/claude/ccusage.json\nLegacy config - ~/.claude/ccusage.json\nBuilt-in defaults\n\n\n\n\n\n\n# Daily development check\nccusage daily --instances --breakdown\n\n# Check specific project costs\nccusage daily --project myapp --since 20250101\n\n# Export for reporting\nccusage monthly --json &gt; monthly-report.json\n\n\n\n# Use team configuration\nccusage daily --config ./team-config.json\n\n# Consistent timezone for remote team\nccusage daily --timezone UTC --locale en-CA\n\n# Generate shareable report\nccusage weekly --json --jq \".summary\"\n\n\n\n# Monitor active usage\nccusage blocks --active --live\n\n# Check if approaching limits\nccusage blocks --token-limit 500000\n\n# Historical analysis\nccusage monthly --mode calculate --breakdown\n\n\n\n# Debug configuration loading\nccusage daily --debug --config ./test-config.json\n\n# Check pricing discrepancies\nccusage daily --debug --debug-samples 20\n\n# Silent mode for scripts\nLOG_LEVEL=0 ccusage daily --json\n\n\n\n\nMany options have short aliases for convenience:\n\n\n\nLong Option\nShort\nDescription\n\n\n\n\n--json\n-j\nJSON output\n\n\n--breakdown\n-b\nPer-model breakdown\n\n\n--offline\n-O\nOffline mode\n\n\n--timezone\n-z\nSet timezone\n\n\n--locale\n-l\nSet locale\n\n\n--instances\n-i\nGroup by project\n\n\n--project\n-p\nFilter project\n\n\n--active\n-a\nActive block only\n\n\n--recent\n-r\nRecent blocks\n\n\n\n\n\n\n\nEnvironment Variables - Configure via environment\nConfiguration Files - Persistent configuration\nCost Calculation Modes - Understanding cost modes"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#global-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#global-options",
    "title": "Command-Line Options",
    "section": "",
    "text": "All ccusage commands support these global options:\n\n\nFilter usage data by date range:\n# Filter by date range\nccusage daily --since 20250101 --until 20250630\n\n# Show data from a specific date\nccusage monthly --since 20250101\n\n# Show data up to a specific date\nccusage session --until 20250630\n\n\n\nControl how data is displayed:\n# JSON output for programmatic use\nccusage daily --json\nccusage daily -j\n\n# Show per-model breakdown\nccusage daily --breakdown\nccusage daily -b\n\n# Combine options\nccusage daily --json --breakdown\n\n\n\nChoose how costs are calculated:\n# Auto mode (default) - use costUSD when available\nccusage daily --mode auto\n\n# Calculate mode - always calculate from tokens\nccusage daily --mode calculate\n\n# Display mode - only show pre-calculated costUSD\nccusage daily --mode display\n\n\n\nControl the ordering of results:\n# Newest first (default)\nccusage daily --order desc\n\n# Oldest first\nccusage daily --order asc\n\n\n\nRun without network connectivity:\n# Use cached pricing data\nccusage daily --offline\nccusage daily -O\n\n\n\nSet the timezone for date calculations:\n# Use UTC timezone\nccusage daily --timezone UTC\n\n# Use specific timezone\nccusage daily --timezone America/New_York\nccusage daily -z Asia/Tokyo\n\n# Short alias\nccusage monthly -z Europe/London\n\n\nThe timezone affects how usage is grouped by date. For example, usage at 11 PM UTC on January 1st would appear on:\n\nJanuary 1st when --timezone UTC\nJanuary 1st when --timezone America/New_York (6 PM EST)\nJanuary 2nd when --timezone Asia/Tokyo (8 AM JST next day)\n\n\n\n\n\nControl date and time formatting:\n# US English (12-hour time format)\nccusage daily --locale en-US\n\n# Japanese (24-hour time format)\nccusage blocks --locale ja-JP\n\n# German (24-hour time format)\nccusage session -l de-DE\n\n# Short alias\nccusage daily -l fr-FR\n\n\nThe locale affects display formatting:\nDate Format:\n\nen-US: 08/04/2025\nen-CA: 2025-08-04 (ISO format, default)\nja-JP: 2025/08/04\nde-DE: 04.08.2025\n\nTime Format:\n\nen-US: 3:30:00 PM (12-hour)\nOthers: 15:30:00 (24-hour)\n\n\n\n\n\nGet detailed debugging information:\n# Debug mode - show pricing mismatches and config loading\nccusage daily --debug\n\n# Show sample discrepancies\nccusage daily --debug --debug-samples 10\n\n\n\nUse a custom configuration file:\n# Specify custom config file\nccusage daily --config ./my-config.json\nccusage monthly --config /path/to/team-config.json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#command-specific-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#command-specific-options",
    "title": "Command-Line Options",
    "section": "",
    "text": "Additional options for daily reports:\n# Group by project\nccusage daily --instances\nccusage daily -i\n\n# Filter to specific project\nccusage daily --project myproject\nccusage daily -p myproject\n\n# Combine project filtering\nccusage daily --instances --project myproject\n\n\n\nOptions for weekly reports:\n# Set week start day\nccusage weekly --start-of-week monday\nccusage weekly --start-of-week sunday\n\n\n\nOptions for session reports:\n# Filter by session ID\nccusage session --id abc123-session\n\n# Filter by project\nccusage session --project myproject\n\n\n\nOptions for 5-hour billing blocks:\n# Show only active block\nccusage blocks --active\nccusage blocks -a\n\n# Show recent blocks (last 3 days)\nccusage blocks --recent\nccusage blocks -r\n\n# Set token limit for warnings\nccusage blocks --token-limit 500000\nccusage blocks --token-limit max\n\n# Live monitoring mode\nccusage blocks --live\nccusage blocks --live --refresh-interval 2\n\n# Customize session length\nccusage blocks --session-length 5\n\nNote: The MCP server CLI moved to the dedicated @ccusage/mcp package. See the MCP Server guide for usage details.\n\n\n\n\nOptions for statusline display:\n# Basic statusline\nccusage statusline\n\n# Force offline mode\nccusage statusline --offline\n\n# Enable caching\nccusage statusline --cache\n\n# Custom refresh interval\nccusage statusline --refresh-interval 5"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#json-output-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#json-output-options",
    "title": "Command-Line Options",
    "section": "",
    "text": "When using --json output, additional processing options are available:\n# Apply jq filter to JSON output\nccusage daily --json --jq \".data[]\"\n\n# Filter high-cost days\nccusage daily --json --jq \".data[] | select(.cost &gt; 10)\"\n\n# Extract specific fields\nccusage session --json --jq \".data[] | {date, cost}\""
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#option-precedence",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#option-precedence",
    "title": "Command-Line Options",
    "section": "",
    "text": "Options are applied in this order (highest to lowest priority):\n\nCommand-line arguments - Direct CLI options\nCustom config file - Via --config flag\nLocal project config - .ccusage/ccusage.json\nUser config - ~/.config/claude/ccusage.json\nLegacy config - ~/.claude/ccusage.json\nBuilt-in defaults"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#examples",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#examples",
    "title": "Command-Line Options",
    "section": "",
    "text": "# Daily development check\nccusage daily --instances --breakdown\n\n# Check specific project costs\nccusage daily --project myapp --since 20250101\n\n# Export for reporting\nccusage monthly --json &gt; monthly-report.json\n\n\n\n# Use team configuration\nccusage daily --config ./team-config.json\n\n# Consistent timezone for remote team\nccusage daily --timezone UTC --locale en-CA\n\n# Generate shareable report\nccusage weekly --json --jq \".summary\"\n\n\n\n# Monitor active usage\nccusage blocks --active --live\n\n# Check if approaching limits\nccusage blocks --token-limit 500000\n\n# Historical analysis\nccusage monthly --mode calculate --breakdown\n\n\n\n# Debug configuration loading\nccusage daily --debug --config ./test-config.json\n\n# Check pricing discrepancies\nccusage daily --debug --debug-samples 20\n\n# Silent mode for scripts\nLOG_LEVEL=0 ccusage daily --json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#short-aliases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#short-aliases",
    "title": "Command-Line Options",
    "section": "",
    "text": "Many options have short aliases for convenience:\n\n\n\nLong Option\nShort\nDescription\n\n\n\n\n--json\n-j\nJSON output\n\n\n--breakdown\n-b\nPer-model breakdown\n\n\n--offline\n-O\nOffline mode\n\n\n--timezone\n-z\nSet timezone\n\n\n--locale\n-l\nSet locale\n\n\n--instances\n-i\nGroup by project\n\n\n--project\n-p\nFilter project\n\n\n--active\n-a\nActive block only\n\n\n--recent\n-r\nRecent blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#related-documentation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cli-options.html#related-documentation",
    "title": "Command-Line Options",
    "section": "",
    "text": "Environment Variables - Configure via environment\nConfiguration Files - Persistent configuration\nCost Calculation Modes - Understanding cost modes"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html",
    "title": "Weekly Reports",
    "section": "",
    "text": "Weekly reports aggregate your Claude Code usage by week, providing a mid-range view between daily and monthly reports. This helps identify weekly patterns and trends in your usage.\n\n\nShow all weekly usage:\nccusage weekly\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Week           ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-16     ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,234 ‚îÇ 156,789 ‚îÇ       2,048 ‚îÇ      4,096 ‚îÇ      164,167 ‚îÇ     $87.56 ‚îÇ\n‚îÇ                ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ             ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-23     ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,456 ‚îÇ 234,567 ‚îÇ       3,072 ‚îÇ      6,144 ‚îÇ      246,239 ‚îÇ    $104.33 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-30     ‚îÇ ‚Ä¢ opus-4         ‚îÇ  3,789 ‚îÇ 345,678 ‚îÇ       4,096 ‚îÇ      8,192 ‚îÇ      361,755 ‚îÇ    $156.78 ‚îÇ\n‚îÇ                ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ             ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nThe columns are identical to daily reports but aggregated by week:\n\nWeek: Start date of the week (configurable)\nModels: All Claude models used during the week\nInput/Output: Total tokens for the week\nCache Create/Read: Cache token usage\nTotal Tokens: Sum of all token types\nCost (USD): Estimated cost for the week\n\n\n\n\n\n\nConfigure which day starts the week:\n# Start week on Sunday (default)\nccusage weekly --start-of-week sunday\n\n# Start week on Monday\nccusage weekly --start-of-week monday\nccusage weekly -w monday\n\n# Other options: tuesday, wednesday, thursday, friday, saturday\n\n\n\nFilter by date range:\n# Show specific period\nccusage weekly --since 20250601 --until 20250630\n\n# Show last 4 weeks\nccusage weekly --since 20250501\n\n\n\nControl the order of weeks:\n# Newest weeks first (default)\nccusage weekly --order desc\n\n# Oldest weeks first\nccusage weekly --order asc\n\n\n\nSee per-model weekly costs:\nccusage weekly --breakdown\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Week           ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-16     ‚îÇ opus-4, sonnet-4 ‚îÇ  1,234 ‚îÇ 156,789 ‚îÇ     $87.56 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4    ‚îÇ                  ‚îÇ    800 ‚îÇ  80,000 ‚îÇ     $54.80 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4  ‚îÇ                  ‚îÇ    434 ‚îÇ  76,789 ‚îÇ     $32.76 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport weekly data as JSON:\nccusage weekly --json\n{\n    \"weekly\": [\n        {\n            \"week\": \"2025-06-16\",\n            \"inputTokens\": 1234,\n            \"outputTokens\": 156789,\n            \"cacheCreationTokens\": 2048,\n            \"cacheReadTokens\": 4096,\n            \"totalTokens\": 164167,\n            \"totalCost\": 87.56,\n            \"modelsUsed\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"modelBreakdowns\": {\n                \"claude-opus-4-20250514\": {\n                    \"inputTokens\": 800,\n                    \"outputTokens\": 80000,\n                    \"totalCost\": 54.8\n                },\n                \"claude-sonnet-4-20250514\": {\n                    \"inputTokens\": 434,\n                    \"outputTokens\": 76789,\n                    \"totalCost\": 32.76\n                }\n            }\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 7479,\n        \"outputTokens\": 737034,\n        \"cacheCreationTokens\": 9216,\n        \"cacheReadTokens\": 18432,\n        \"totalTokens\": 772161,\n        \"totalCost\": 348.67\n    }\n}\n\n\n\nGroup weekly usage by project:\n# Show weekly usage per project\nccusage weekly --instances\n\n# Filter to specific project\nccusage weekly --project my-project\n\n\n\nControl cost calculation:\n# Auto mode (default)\nccusage weekly --mode auto\n\n# Always calculate from tokens\nccusage weekly --mode calculate\n\n# Only use pre-calculated costs\nccusage weekly --mode display\n\n\n\nUse cached pricing data:\nccusage weekly --offline\n\n\n\n\n\n\n# See usage trends over past months\nccusage weekly --since 20250401\n\n\n\n# Track usage during 2-week sprints (Monday start)\nccusage weekly --start-of-week monday --since 20250601\n\n\n\n# Export for weekly budget tracking\nccusage weekly --json &gt; weekly-budget.json\n\n\n\n# Monday-Friday work pattern analysis\nccusage weekly --start-of-week monday --breakdown\n\n\n\n# Weekly team usage report\nccusage weekly --instances --start-of-week monday\n\n\n\n\n\nWeek Start: Choose a start day that aligns with your work schedule\nBreakdown View: Use --breakdown to identify which models drive costs\nJSON Export: Weekly JSON data is perfect for creating trend charts\nProject Tracking: Use --instances to track project-specific weekly usage\n\n\n\n\n\nDaily Reports - Day-by-day analysis\nMonthly Reports - Monthly aggregates\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing windows"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#basic-usage",
    "title": "Weekly Reports",
    "section": "",
    "text": "Show all weekly usage:\nccusage weekly"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#example-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#example-output",
    "title": "Weekly Reports",
    "section": "",
    "text": "‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Week           ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-16     ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,234 ‚îÇ 156,789 ‚îÇ       2,048 ‚îÇ      4,096 ‚îÇ      164,167 ‚îÇ     $87.56 ‚îÇ\n‚îÇ                ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ             ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-23     ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,456 ‚îÇ 234,567 ‚îÇ       3,072 ‚îÇ      6,144 ‚îÇ      246,239 ‚îÇ    $104.33 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-30     ‚îÇ ‚Ä¢ opus-4         ‚îÇ  3,789 ‚îÇ 345,678 ‚îÇ       4,096 ‚îÇ      8,192 ‚îÇ      361,755 ‚îÇ    $156.78 ‚îÇ\n‚îÇ                ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ             ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#understanding-the-columns",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#understanding-the-columns",
    "title": "Weekly Reports",
    "section": "",
    "text": "The columns are identical to daily reports but aggregated by week:\n\nWeek: Start date of the week (configurable)\nModels: All Claude models used during the week\nInput/Output: Total tokens for the week\nCache Create/Read: Cache token usage\nTotal Tokens: Sum of all token types\nCost (USD): Estimated cost for the week"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#command-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#command-options",
    "title": "Weekly Reports",
    "section": "",
    "text": "Configure which day starts the week:\n# Start week on Sunday (default)\nccusage weekly --start-of-week sunday\n\n# Start week on Monday\nccusage weekly --start-of-week monday\nccusage weekly -w monday\n\n# Other options: tuesday, wednesday, thursday, friday, saturday\n\n\n\nFilter by date range:\n# Show specific period\nccusage weekly --since 20250601 --until 20250630\n\n# Show last 4 weeks\nccusage weekly --since 20250501\n\n\n\nControl the order of weeks:\n# Newest weeks first (default)\nccusage weekly --order desc\n\n# Oldest weeks first\nccusage weekly --order asc\n\n\n\nSee per-model weekly costs:\nccusage weekly --breakdown\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Week           ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-16     ‚îÇ opus-4, sonnet-4 ‚îÇ  1,234 ‚îÇ 156,789 ‚îÇ     $87.56 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4    ‚îÇ                  ‚îÇ    800 ‚îÇ  80,000 ‚îÇ     $54.80 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4  ‚îÇ                  ‚îÇ    434 ‚îÇ  76,789 ‚îÇ     $32.76 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport weekly data as JSON:\nccusage weekly --json\n{\n    \"weekly\": [\n        {\n            \"week\": \"2025-06-16\",\n            \"inputTokens\": 1234,\n            \"outputTokens\": 156789,\n            \"cacheCreationTokens\": 2048,\n            \"cacheReadTokens\": 4096,\n            \"totalTokens\": 164167,\n            \"totalCost\": 87.56,\n            \"modelsUsed\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"modelBreakdowns\": {\n                \"claude-opus-4-20250514\": {\n                    \"inputTokens\": 800,\n                    \"outputTokens\": 80000,\n                    \"totalCost\": 54.8\n                },\n                \"claude-sonnet-4-20250514\": {\n                    \"inputTokens\": 434,\n                    \"outputTokens\": 76789,\n                    \"totalCost\": 32.76\n                }\n            }\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 7479,\n        \"outputTokens\": 737034,\n        \"cacheCreationTokens\": 9216,\n        \"cacheReadTokens\": 18432,\n        \"totalTokens\": 772161,\n        \"totalCost\": 348.67\n    }\n}\n\n\n\nGroup weekly usage by project:\n# Show weekly usage per project\nccusage weekly --instances\n\n# Filter to specific project\nccusage weekly --project my-project\n\n\n\nControl cost calculation:\n# Auto mode (default)\nccusage weekly --mode auto\n\n# Always calculate from tokens\nccusage weekly --mode calculate\n\n# Only use pre-calculated costs\nccusage weekly --mode display\n\n\n\nUse cached pricing data:\nccusage weekly --offline"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#common-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#common-use-cases",
    "title": "Weekly Reports",
    "section": "",
    "text": "# See usage trends over past months\nccusage weekly --since 20250401\n\n\n\n# Track usage during 2-week sprints (Monday start)\nccusage weekly --start-of-week monday --since 20250601\n\n\n\n# Export for weekly budget tracking\nccusage weekly --json &gt; weekly-budget.json\n\n\n\n# Monday-Friday work pattern analysis\nccusage weekly --start-of-week monday --breakdown\n\n\n\n# Weekly team usage report\nccusage weekly --instances --start-of-week monday"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#tips",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#tips",
    "title": "Weekly Reports",
    "section": "",
    "text": "Week Start: Choose a start day that aligns with your work schedule\nBreakdown View: Use --breakdown to identify which models drive costs\nJSON Export: Weekly JSON data is perfect for creating trend charts\nProject Tracking: Use --instances to track project-specific weekly usage"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/weekly-reports.html#related-commands",
    "title": "Weekly Reports",
    "section": "",
    "text": "Daily Reports - Day-by-day analysis\nMonthly Reports - Monthly aggregates\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing windows"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html",
    "title": "JSON Output",
    "section": "",
    "text": "ccusage supports structured JSON output for all report types, making it easy to integrate with other tools, scripts, or applications that need to process usage data programmatically.\n\n\nAdd the --json (or -j) flag to any command:\n# Daily report in JSON format\nccusage daily --json\n\n# Monthly report in JSON format\nccusage monthly --json\n\n# Session report in JSON format\nccusage session --json\n\n# 5-hour blocks report in JSON format\nccusage blocks --json\n\n\n\n\n\nStandard daily reports aggregate usage across all projects:\n\n{\n    \"daily\": [\n        {\n            \"date\": \"2025-05-30\",\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 33269,\n            \"totalCost\": 17.58,\n            \"modelsUsed\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"modelBreakdowns\": [...]\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 11174,\n        \"outputTokens\": 720366,\n        \"cacheCreationTokens\": 896,\n        \"cacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCost\": 336.47\n    }\n}\n\n\n\nWhen using --instances, daily reports group usage by project:\n\n{\n    \"projects\": {\n        \"my-frontend-app\": [\n            {\n                \"date\": \"2025-05-30\",\n                \"inputTokens\": 177,\n                \"outputTokens\": 16456,\n                \"cacheCreationTokens\": 256,\n                \"cacheReadTokens\": 512,\n                \"totalTokens\": 17401,\n                \"totalCost\": 7.33,\n                \"modelsUsed\": [\"claude-sonnet-4-20250514\"],\n                \"modelBreakdowns\": [...]\n            }\n        ],\n        \"backend-api\": [\n            {\n                \"date\": \"2025-05-30\",\n                \"inputTokens\": 100,\n                \"outputTokens\": 15000,\n                \"cacheCreationTokens\": 256,\n                \"cacheReadTokens\": 512,\n                \"totalTokens\": 15868,\n                \"totalCost\": 10.25,\n                \"modelsUsed\": [\"claude-opus-4-20250514\"],\n                \"modelBreakdowns\": [...]\n            }\n        ]\n    },\n    \"totals\": {\n        \"inputTokens\": 277,\n        \"outputTokens\": 31456,\n        \"cacheCreationTokens\": 512,\n        \"cacheReadTokens\": 1024,\n        \"totalTokens\": 33269,\n        \"totalCost\": 17.58\n    }\n}\n\n\n# Standard aggregated output\nccusage daily --json\n\n# Project-grouped output\nccusage daily --instances --json\n\n# Filter to specific project\nccusage daily --project my-frontend-app --json\n\n\n\n\n{\n    \"type\": \"monthly\",\n    \"data\": [\n        {\n            \"month\": \"2025-05\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 11174,\n            \"outputTokens\": 720366,\n            \"cacheCreationTokens\": 896,\n            \"cacheReadTokens\": 2304,\n            \"totalTokens\": 734740,\n            \"costUSD\": 336.47\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720366,\n        \"totalCacheCreationTokens\": 896,\n        \"totalCacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCostUSD\": 336.47\n    }\n}\n\n\n\n{\n    \"type\": \"session\",\n    \"data\": [\n        {\n            \"session\": \"session-1\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 4512,\n            \"outputTokens\": 350846,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 356894,\n            \"costUSD\": 156.4,\n            \"lastActivity\": \"2025-05-24\"\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720445,\n        \"totalCacheCreationTokens\": 768,\n        \"totalCacheReadTokens\": 1792,\n        \"totalTokens\": 734179,\n        \"totalCostUSD\": 336.68\n    }\n}\n\n\n\n{\n    \"type\": \"blocks\",\n    \"data\": [\n        {\n            \"blockStart\": \"2025-05-30T10:00:00.000Z\",\n            \"blockEnd\": \"2025-05-30T15:00:00.000Z\",\n            \"isActive\": true,\n            \"timeRemaining\": \"2h 15m\",\n            \"models\": [\"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 1250,\n            \"outputTokens\": 15000,\n            \"cacheCreationTokens\": 256,\n            \"cacheReadTokens\": 512,\n            \"totalTokens\": 17018,\n            \"costUSD\": 8.75,\n            \"burnRate\": 2400,\n            \"projectedTotal\": 25000,\n            \"projectedCost\": 12.5\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720366,\n        \"totalCacheCreationTokens\": 896,\n        \"totalCacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCostUSD\": 336.47\n    }\n}\n\n\n\n\n\n\n\nmodels: Array of Claude model names used\ninputTokens: Number of input tokens consumed\noutputTokens: Number of output tokens generated\ncacheCreationTokens: Tokens used for cache creation\ncacheReadTokens: Tokens read from cache\ntotalTokens: Sum of all token types\ncostUSD: Estimated cost in US dollars\n\n\n\n\n\n\n\ndate: Date in YYYY-MM-DD format\n\n\n\n\n\nmonth: Month in YYYY-MM format\n\n\n\n\n\nsession: Session identifier\nlastActivity: Date of last activity in the session\n\n\n\n\n\nblockStart: ISO timestamp of block start\nblockEnd: ISO timestamp of block end\nisActive: Whether the block is currently active\ntimeRemaining: Human-readable time remaining (active blocks only)\nburnRate: Tokens per hour rate (active blocks only)\nprojectedTotal: Projected total tokens for the block\nprojectedCost: Projected total cost for the block\n\n\n\n\n\n\nAll filtering options work with JSON output:\n# Filter by date range\nccusage daily --json --since 20250525 --until 20250530\n\n# Different cost calculation modes\nccusage monthly --json --mode calculate\nccusage session --json --mode display\n\n# Sort order\nccusage daily --json --order asc\n\n# With model breakdown\nccusage daily --json --breakdown\n\n# Project analysis\nccusage daily --json --instances                    # Group by project\nccusage daily --json --project my-project           # Filter to project\nccusage daily --json --instances --project my-app   # Combined usage\n\n\nWhen using --breakdown, the JSON includes per-model details:\n{\n    \"type\": \"daily\",\n    \"data\": [\n        {\n            \"date\": \"2025-05-30\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"totalTokens\": 33269,\n            \"costUSD\": 17.58,\n            \"breakdown\": {\n                \"claude-opus-4-20250514\": {\n                    \"inputTokens\": 100,\n                    \"outputTokens\": 15000,\n                    \"cacheCreationTokens\": 256,\n                    \"cacheReadTokens\": 512,\n                    \"totalTokens\": 15868,\n                    \"costUSD\": 10.25\n                },\n                \"claude-sonnet-4-20250514\": {\n                    \"inputTokens\": 177,\n                    \"outputTokens\": 16456,\n                    \"cacheCreationTokens\": 256,\n                    \"cacheReadTokens\": 512,\n                    \"totalTokens\": 17401,\n                    \"costUSD\": 7.33\n                }\n            }\n        }\n    ]\n}\n\n\n\n\nccusage includes built-in jq processing with the --jq option. This allows you to process JSON output directly without using pipes:\n# Get total cost directly\nccusage daily --jq '.totals.totalCost'\n\n# Find the most expensive session\nccusage session --jq '.sessions | sort_by(.totalCost) | reverse | .[0]'\n\n# Get daily costs as CSV\nccusage daily --jq '.daily[] | [.date, .totalCost] | @csv'\n\n# List all unique models used\nccusage session --jq '[.sessions[].modelsUsed[]] | unique | sort[]'\n\n# Get usage by specific date\nccusage daily --jq '.daily[] | select(.date == \"2025-05-30\")'\n\n# Calculate average daily cost\nccusage daily --jq '[.daily[].totalCost] | add / length'\n\n\n\nThe --jq option implies --json (you don‚Äôt need to specify both)\nRequires jq to be installed on your system\nIf jq is not installed, you‚Äôll get an error message with installation instructions\n\n\n\n\n\n\n\nYou can also pipe JSON output to jq for advanced filtering and formatting:\n# Get total cost for the last 7 days\nccusage daily --json --since $(date -d '7 days ago' +%Y%m%d) | jq '.summary.totalCostUSD'\n\n# List all unique models used\nccusage session --json | jq -r '.data[].models[]' | sort -u\n\n# Find the most expensive session\nccusage session --json | jq -r '.data | sort_by(.costUSD) | reverse | .[0].session'\n\n# Get daily costs as CSV\nccusage daily --json | jq -r '.daily[] | [.date, .totalCost] | @csv'\n\n# Analyze project costs\nccusage daily --instances --json | jq -r '.projects | to_entries[] | [.key, (.value | map(.totalCost) | add)] | @csv'\n\n# Find most expensive project\nccusage daily --instances --json | jq -r '.projects | to_entries | map({project: .key, total: (.value | map(.totalCost) | add)}) | sort_by(.total) | reverse | .[0].project'\n\n# Get usage by project for specific date\nccusage daily --instances --json | jq '.projects | to_entries[] | select(.value[].date == \"2025-05-30\") | {project: .key, usage: .value[0]}'\n\n\n\nimport json\nimport subprocess\n\n# Get daily usage data\nresult = subprocess.run(['ccusage', 'daily', '--json'], capture_output=True, text=True)\ndata = json.loads(result.stdout)\n\n# Process the data\nfor day in data['data']:\n    print(f\"Date: {day['date']}, Cost: ${day['costUSD']:.2f}\")\n\ntotal_cost = data['totals']['totalCost']\nprint(f\"Total cost: ${total_cost:.2f}\")\n\n# Project analysis example\nresult = subprocess.run(['ccusage', 'daily', '--instances', '--json'], capture_output=True, text=True)\nproject_data = json.loads(result.stdout)\n\nif 'projects' in project_data:\n    for project_name, daily_entries in project_data['projects'].items():\n        project_total = sum(day['totalCost'] for day in daily_entries)\n        print(f\"Project {project_name}: ${project_total:.2f}\")\n\n    # Find highest spending project\n    project_totals = {\n        project: sum(day['totalCost'] for day in days)\n        for project, days in project_data['projects'].items()\n    }\n    top_project = max(project_totals, key=project_totals.get)\n    print(f\"Highest spending project: {top_project} (${project_totals[top_project]:.2f})\")\n\n\n\nimport { execSync } from 'node:child_process';\n\n// Get session usage data\nconst output = execSync('ccusage session --json', { encoding: 'utf-8' });\nconst data = JSON.parse(output);\n\n// Find sessions over $10\nconst expensiveSessions = data.data.filter((session) =&gt; session.costUSD &gt; 10);\nconsole.log(`Found ${expensiveSessions.length} expensive sessions`);\n\nexpensiveSessions.forEach((session) =&gt; {\n    console.log(`${session.session}: $${session.costUSD.toFixed(2)}`);\n});\n\n// Project analysis example\nconst projectOutput = execSync('ccusage daily --instances --json', { encoding: 'utf-8' });\nconst projectData = JSON.parse(projectOutput);\n\nif (projectData.projects) {\n    // Calculate total cost per project\n    const projectCosts = Object.entries(projectData.projects).map(([name, days]) =&gt; ({\n        name,\n        totalCost: days.reduce((sum, day) =&gt; sum + day.totalCost, 0),\n        totalTokens: days.reduce((sum, day) =&gt; sum + day.totalTokens, 0),\n    }));\n\n    // Sort by cost descending\n    projectCosts.sort((a, b) =&gt; b.totalCost - a.totalCost);\n\n    console.log('Project Usage Summary:');\n    projectCosts.forEach((project) =&gt; {\n        console.log(\n            `${project.name}: $${project.totalCost.toFixed(2)} (${project.totalTokens.toLocaleString()} tokens)`,\n        );\n    });\n}\n\n\n\n\nJSON output is designed for programmatic consumption:\n\nConsistent structure: All fields are always present (with 0 or empty values when not applicable)\nStandard types: Numbers for metrics, strings for identifiers, arrays for lists\nISO timestamps: Standardized date/time formats for reliable parsing\nStable schema: Field names and structures remain consistent across versions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#enabling-json-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#enabling-json-output",
    "title": "JSON Output",
    "section": "",
    "text": "Add the --json (or -j) flag to any command:\n# Daily report in JSON format\nccusage daily --json\n\n# Monthly report in JSON format\nccusage monthly --json\n\n# Session report in JSON format\nccusage session --json\n\n# 5-hour blocks report in JSON format\nccusage blocks --json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#json-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#json-structure",
    "title": "JSON Output",
    "section": "",
    "text": "Standard daily reports aggregate usage across all projects:\n\n{\n    \"daily\": [\n        {\n            \"date\": \"2025-05-30\",\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 33269,\n            \"totalCost\": 17.58,\n            \"modelsUsed\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"modelBreakdowns\": [...]\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 11174,\n        \"outputTokens\": 720366,\n        \"cacheCreationTokens\": 896,\n        \"cacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCost\": 336.47\n    }\n}\n\n\n\nWhen using --instances, daily reports group usage by project:\n\n{\n    \"projects\": {\n        \"my-frontend-app\": [\n            {\n                \"date\": \"2025-05-30\",\n                \"inputTokens\": 177,\n                \"outputTokens\": 16456,\n                \"cacheCreationTokens\": 256,\n                \"cacheReadTokens\": 512,\n                \"totalTokens\": 17401,\n                \"totalCost\": 7.33,\n                \"modelsUsed\": [\"claude-sonnet-4-20250514\"],\n                \"modelBreakdowns\": [...]\n            }\n        ],\n        \"backend-api\": [\n            {\n                \"date\": \"2025-05-30\",\n                \"inputTokens\": 100,\n                \"outputTokens\": 15000,\n                \"cacheCreationTokens\": 256,\n                \"cacheReadTokens\": 512,\n                \"totalTokens\": 15868,\n                \"totalCost\": 10.25,\n                \"modelsUsed\": [\"claude-opus-4-20250514\"],\n                \"modelBreakdowns\": [...]\n            }\n        ]\n    },\n    \"totals\": {\n        \"inputTokens\": 277,\n        \"outputTokens\": 31456,\n        \"cacheCreationTokens\": 512,\n        \"cacheReadTokens\": 1024,\n        \"totalTokens\": 33269,\n        \"totalCost\": 17.58\n    }\n}\n\n\n# Standard aggregated output\nccusage daily --json\n\n# Project-grouped output\nccusage daily --instances --json\n\n# Filter to specific project\nccusage daily --project my-frontend-app --json\n\n\n\n\n{\n    \"type\": \"monthly\",\n    \"data\": [\n        {\n            \"month\": \"2025-05\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 11174,\n            \"outputTokens\": 720366,\n            \"cacheCreationTokens\": 896,\n            \"cacheReadTokens\": 2304,\n            \"totalTokens\": 734740,\n            \"costUSD\": 336.47\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720366,\n        \"totalCacheCreationTokens\": 896,\n        \"totalCacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCostUSD\": 336.47\n    }\n}\n\n\n\n{\n    \"type\": \"session\",\n    \"data\": [\n        {\n            \"session\": \"session-1\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 4512,\n            \"outputTokens\": 350846,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 356894,\n            \"costUSD\": 156.4,\n            \"lastActivity\": \"2025-05-24\"\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720445,\n        \"totalCacheCreationTokens\": 768,\n        \"totalCacheReadTokens\": 1792,\n        \"totalTokens\": 734179,\n        \"totalCostUSD\": 336.68\n    }\n}\n\n\n\n{\n    \"type\": \"blocks\",\n    \"data\": [\n        {\n            \"blockStart\": \"2025-05-30T10:00:00.000Z\",\n            \"blockEnd\": \"2025-05-30T15:00:00.000Z\",\n            \"isActive\": true,\n            \"timeRemaining\": \"2h 15m\",\n            \"models\": [\"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 1250,\n            \"outputTokens\": 15000,\n            \"cacheCreationTokens\": 256,\n            \"cacheReadTokens\": 512,\n            \"totalTokens\": 17018,\n            \"costUSD\": 8.75,\n            \"burnRate\": 2400,\n            \"projectedTotal\": 25000,\n            \"projectedCost\": 12.5\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 11174,\n        \"totalOutputTokens\": 720366,\n        \"totalCacheCreationTokens\": 896,\n        \"totalCacheReadTokens\": 2304,\n        \"totalTokens\": 734740,\n        \"totalCostUSD\": 336.47\n    }\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#field-descriptions",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#field-descriptions",
    "title": "JSON Output",
    "section": "",
    "text": "models: Array of Claude model names used\ninputTokens: Number of input tokens consumed\noutputTokens: Number of output tokens generated\ncacheCreationTokens: Tokens used for cache creation\ncacheReadTokens: Tokens read from cache\ntotalTokens: Sum of all token types\ncostUSD: Estimated cost in US dollars\n\n\n\n\n\n\n\ndate: Date in YYYY-MM-DD format\n\n\n\n\n\nmonth: Month in YYYY-MM format\n\n\n\n\n\nsession: Session identifier\nlastActivity: Date of last activity in the session\n\n\n\n\n\nblockStart: ISO timestamp of block start\nblockEnd: ISO timestamp of block end\nisActive: Whether the block is currently active\ntimeRemaining: Human-readable time remaining (active blocks only)\nburnRate: Tokens per hour rate (active blocks only)\nprojectedTotal: Projected total tokens for the block\nprojectedCost: Projected total cost for the block"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#filtering-with-json-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#filtering-with-json-output",
    "title": "JSON Output",
    "section": "",
    "text": "All filtering options work with JSON output:\n# Filter by date range\nccusage daily --json --since 20250525 --until 20250530\n\n# Different cost calculation modes\nccusage monthly --json --mode calculate\nccusage session --json --mode display\n\n# Sort order\nccusage daily --json --order asc\n\n# With model breakdown\nccusage daily --json --breakdown\n\n# Project analysis\nccusage daily --json --instances                    # Group by project\nccusage daily --json --project my-project           # Filter to project\nccusage daily --json --instances --project my-app   # Combined usage\n\n\nWhen using --breakdown, the JSON includes per-model details:\n{\n    \"type\": \"daily\",\n    \"data\": [\n        {\n            \"date\": \"2025-05-30\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"totalTokens\": 33269,\n            \"costUSD\": 17.58,\n            \"breakdown\": {\n                \"claude-opus-4-20250514\": {\n                    \"inputTokens\": 100,\n                    \"outputTokens\": 15000,\n                    \"cacheCreationTokens\": 256,\n                    \"cacheReadTokens\": 512,\n                    \"totalTokens\": 15868,\n                    \"costUSD\": 10.25\n                },\n                \"claude-sonnet-4-20250514\": {\n                    \"inputTokens\": 177,\n                    \"outputTokens\": 16456,\n                    \"cacheCreationTokens\": 256,\n                    \"cacheReadTokens\": 512,\n                    \"totalTokens\": 17401,\n                    \"costUSD\": 7.33\n                }\n            }\n        }\n    ]\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#using-the-jq-option",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#using-the-jq-option",
    "title": "JSON Output",
    "section": "",
    "text": "ccusage includes built-in jq processing with the --jq option. This allows you to process JSON output directly without using pipes:\n# Get total cost directly\nccusage daily --jq '.totals.totalCost'\n\n# Find the most expensive session\nccusage session --jq '.sessions | sort_by(.totalCost) | reverse | .[0]'\n\n# Get daily costs as CSV\nccusage daily --jq '.daily[] | [.date, .totalCost] | @csv'\n\n# List all unique models used\nccusage session --jq '[.sessions[].modelsUsed[]] | unique | sort[]'\n\n# Get usage by specific date\nccusage daily --jq '.daily[] | select(.date == \"2025-05-30\")'\n\n# Calculate average daily cost\nccusage daily --jq '[.daily[].totalCost] | add / length'\n\n\n\nThe --jq option implies --json (you don‚Äôt need to specify both)\nRequires jq to be installed on your system\nIf jq is not installed, you‚Äôll get an error message with installation instructions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#integration-examples",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#integration-examples",
    "title": "JSON Output",
    "section": "",
    "text": "You can also pipe JSON output to jq for advanced filtering and formatting:\n# Get total cost for the last 7 days\nccusage daily --json --since $(date -d '7 days ago' +%Y%m%d) | jq '.summary.totalCostUSD'\n\n# List all unique models used\nccusage session --json | jq -r '.data[].models[]' | sort -u\n\n# Find the most expensive session\nccusage session --json | jq -r '.data | sort_by(.costUSD) | reverse | .[0].session'\n\n# Get daily costs as CSV\nccusage daily --json | jq -r '.daily[] | [.date, .totalCost] | @csv'\n\n# Analyze project costs\nccusage daily --instances --json | jq -r '.projects | to_entries[] | [.key, (.value | map(.totalCost) | add)] | @csv'\n\n# Find most expensive project\nccusage daily --instances --json | jq -r '.projects | to_entries | map({project: .key, total: (.value | map(.totalCost) | add)}) | sort_by(.total) | reverse | .[0].project'\n\n# Get usage by project for specific date\nccusage daily --instances --json | jq '.projects | to_entries[] | select(.value[].date == \"2025-05-30\") | {project: .key, usage: .value[0]}'\n\n\n\nimport json\nimport subprocess\n\n# Get daily usage data\nresult = subprocess.run(['ccusage', 'daily', '--json'], capture_output=True, text=True)\ndata = json.loads(result.stdout)\n\n# Process the data\nfor day in data['data']:\n    print(f\"Date: {day['date']}, Cost: ${day['costUSD']:.2f}\")\n\ntotal_cost = data['totals']['totalCost']\nprint(f\"Total cost: ${total_cost:.2f}\")\n\n# Project analysis example\nresult = subprocess.run(['ccusage', 'daily', '--instances', '--json'], capture_output=True, text=True)\nproject_data = json.loads(result.stdout)\n\nif 'projects' in project_data:\n    for project_name, daily_entries in project_data['projects'].items():\n        project_total = sum(day['totalCost'] for day in daily_entries)\n        print(f\"Project {project_name}: ${project_total:.2f}\")\n\n    # Find highest spending project\n    project_totals = {\n        project: sum(day['totalCost'] for day in days)\n        for project, days in project_data['projects'].items()\n    }\n    top_project = max(project_totals, key=project_totals.get)\n    print(f\"Highest spending project: {top_project} (${project_totals[top_project]:.2f})\")\n\n\n\nimport { execSync } from 'node:child_process';\n\n// Get session usage data\nconst output = execSync('ccusage session --json', { encoding: 'utf-8' });\nconst data = JSON.parse(output);\n\n// Find sessions over $10\nconst expensiveSessions = data.data.filter((session) =&gt; session.costUSD &gt; 10);\nconsole.log(`Found ${expensiveSessions.length} expensive sessions`);\n\nexpensiveSessions.forEach((session) =&gt; {\n    console.log(`${session.session}: $${session.costUSD.toFixed(2)}`);\n});\n\n// Project analysis example\nconst projectOutput = execSync('ccusage daily --instances --json', { encoding: 'utf-8' });\nconst projectData = JSON.parse(projectOutput);\n\nif (projectData.projects) {\n    // Calculate total cost per project\n    const projectCosts = Object.entries(projectData.projects).map(([name, days]) =&gt; ({\n        name,\n        totalCost: days.reduce((sum, day) =&gt; sum + day.totalCost, 0),\n        totalTokens: days.reduce((sum, day) =&gt; sum + day.totalTokens, 0),\n    }));\n\n    // Sort by cost descending\n    projectCosts.sort((a, b) =&gt; b.totalCost - a.totalCost);\n\n    console.log('Project Usage Summary:');\n    projectCosts.forEach((project) =&gt; {\n        console.log(\n            `${project.name}: $${project.totalCost.toFixed(2)} (${project.totalTokens.toLocaleString()} tokens)`,\n        );\n    });\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#programmatic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/json-output.html#programmatic-usage",
    "title": "JSON Output",
    "section": "",
    "text": "JSON output is designed for programmatic consumption:\n\nConsistent structure: All fields are always present (with 0 or empty values when not applicable)\nStandard types: Numbers for metrics, strings for identifiers, arrays for lists\nISO timestamps: Standardized date/time formats for reliable parsing\nStable schema: Field names and structures remain consistent across versions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html",
    "title": "Cost Modes",
    "section": "",
    "text": "ccusage supports three different cost calculation modes to handle various scenarios and data sources. Understanding these modes helps you get the most accurate cost estimates for your usage analysis.\n\n\nClaude Code stores usage data in JSONL files with both token counts and pre-calculated cost information. ccusage can handle this data in different ways depending on your needs:\n\nauto - Smart mode using the best available data\ncalculate - Always calculate from token counts\ndisplay - Only show pre-calculated costs\n\n\n\n\n\n\nThe auto mode intelligently chooses the best cost calculation method for each entry:\nccusage daily --mode auto\n# or simply:\nccusage daily\n\n\n\nPre-calculated costs available ‚Üí Uses Claude‚Äôs costUSD values\nNo pre-calculated costs ‚Üí Calculates from token counts using model pricing\nMixed data ‚Üí Uses the best method for each entry\n\n\n\n\n\n‚úÖ General usage - Works well for most scenarios\n‚úÖ Mixed data sets - Handles old and new data properly\n‚úÖ Accuracy - Uses official costs when available\n‚úÖ Completeness - Shows estimates for all entries\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.45  ‚îÇ ‚Üê Pre-calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $8.67  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $7.23  ‚îÇ ‚Üê Calculated\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\nThe calculate mode always computes costs from token counts using model pricing:\nccusage daily --mode calculate\nccusage monthly --mode calculate --breakdown\n\n\n\nIgnores costUSD values from Claude Code data\nUses token counts (input, output, cache) for all entries\nApplies current model pricing from LiteLLM database\nConsistent methodology across all time periods\n\n\n\n\n\n‚úÖ Consistent comparisons - Same calculation method for all data\n‚úÖ Token analysis - Understanding pure token-based costs\n‚úÖ Historical analysis - Comparing costs across different time periods\n‚úÖ Pricing research - Analyzing cost per token trends\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.38  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $8.67  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $7.23  ‚îÇ ‚Üê Calculated\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\nThe display mode only shows pre-calculated costs from Claude Code:\nccusage daily --mode display\nccusage session --mode display --json\n\n\n\nUses only costUSD values from Claude Code data\nShows $0.00 for entries without pre-calculated costs\nNo token-based calculations performed\nExact Claude billing data when available\n\n\n\n\n\n‚úÖ Official costs only - Shows exactly what Claude calculated\n‚úÖ Billing verification - Comparing with actual Claude charges\n‚úÖ Recent data - Most accurate for newer usage entries\n‚úÖ Audit purposes - Verifying pre-calculated costs\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.45  ‚îÇ ‚Üê Pre-calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $0.00  ‚îÇ ‚Üê No cost data\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $0.00  ‚îÇ ‚Üê No cost data\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\n\n\n\nYou have data from different time periods with varying cost information:\n# Auto mode handles mixed data intelligently\nccusage daily --mode auto --since 20241201\n\n# Shows:\n# - Pre-calculated costs for recent entries (Jan 2025)\n# - Calculated costs for older entries (Dec 2024)\n\n\n\nYou want to compare costs across different months using the same methodology:\n# Calculate mode ensures consistent methodology\nccusage monthly --mode calculate --breakdown\n\n# All months use the same token-based calculation\n# Useful for trend analysis and cost projections\n\n\n\nYou want to verify Claude‚Äôs official cost calculations:\n# Display mode shows only official Claude costs\nccusage daily --mode display --since 20250101\n\n# Compare with your Claude billing dashboard\n# Entries without costs show $0.00\n\n\n\nAnalyzing usage patterns over time:\n# Auto mode for complete picture\nccusage daily --mode auto --since 20240101 --until 20241231\n\n# Calculate mode for consistent comparison\nccusage monthly --mode calculate --order asc\n\n\n\n\n\n\nWhen calculating costs from tokens, ccusage uses:\n\n\n\nLiteLLM database - Up-to-date model pricing\nAutomatic updates - Pricing refreshed regularly\nMultiple models - Supports Claude Opus, Sonnet, and other models\n\n\n\n\ntype TokenCosts = {\n    input: number; // Input tokens\n    output: number; // Output tokens\n    cacheCreate: number; // Cache creation tokens\n    cacheRead: number; // Cache read tokens\n};\n\n\n\ntotalCost =\n    inputTokens * inputPrice +\n    outputTokens * outputPrice +\n    cacheCreateTokens * cacheCreatePrice +\n    cacheReadTokens * cacheReadPrice;\n\n\n\n\nClaude Code provides costUSD values in JSONL files:\n{\n    \"timestamp\": \"2025-01-15T10:30:00Z\",\n    \"model\": \"claude-opus-4-20250514\",\n    \"usage\": {\n        \"input_tokens\": 1245,\n        \"output_tokens\": 28756,\n        \"cache_creation_input_tokens\": 512,\n        \"cache_read_input_tokens\": 256\n    },\n    \"costUSD\": 12.45\n}\n\n\n\n\nUse debug mode to understand cost calculation discrepancies:\nccusage daily --mode auto --debug\nShows:\n\nPricing mismatches between calculated and pre-calculated costs\nMissing cost data entries\nCalculation details for each entry\nSample discrepancies for investigation\n\n# Show more sample discrepancies\nccusage daily --debug --debug-samples 10\n\n\n\n\n\n\nGeneral usage - Default for most scenarios\nMixed data sets - Combining old and new usage data\nMaximum accuracy - Best available cost information\nRegular reporting - Daily/monthly usage tracking\n\n\n\n\n\nConsistent analysis - Comparing different time periods\nToken cost research - Understanding pure token costs\nPricing validation - Verifying calculated vs actual costs\nHistorical comparison - Analyzing cost trends over time\n\n\n\n\n\nBilling verification - Comparing with Claude charges\nOfficial costs only - Trusting Claude‚Äôs calculations\nRecent data analysis - Most accurate for new usage\nAudit purposes - Verifying pre-calculated costs\n\n\n\n\n\n\n\n# Calculate mode with breakdown by model\nccusage daily --mode calculate --breakdown\n\n# Display mode with JSON output for analysis\nccusage session --mode display --json | jq '.[] | select(.totalCost &gt; 0)'\n\n# Auto mode with date filtering\nccusage monthly --mode auto --since 20240101 --order asc\n\n\n\n\ndisplay mode - Fastest (no calculations)\nauto mode - Moderate (conditional calculations)\ncalculate mode - Slowest (always calculates)\n\n\n\n\n# All modes work with offline pricing data\nccusage daily --mode calculate --offline\nccusage monthly --mode auto --offline\n\n\n\n\n\n\nCause: Using display mode with data that lacks pre-calculated costs\nSolution:\n# Switch to auto or calculate mode\nccusage daily --mode auto\nccusage daily --mode calculate\n\n\n\nCause: Mixed use of different modes or pricing changes\nSolution:\n# Use calculate mode for consistency\nccusage daily --mode calculate --since 20240101\n\n\n\nCause: Pricing updates or model changes\nSolution:\n# Check for pricing updates\nccusage daily --mode auto  # Updates pricing cache\nccusage daily --mode calculate --debug  # Compare calculations\n\n\n\nCause: Claude Code hasn‚Äôt calculated costs yet\nSolution:\n# Use calculate mode as fallback\nccusage daily --mode calculate\n\n\n\n\nAfter understanding cost modes:\n\nExplore Configuration for environment setup\nLearn about Custom Paths for multiple data sources\nTry Live Monitoring with different cost modes"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#overview",
    "title": "Cost Modes",
    "section": "",
    "text": "Claude Code stores usage data in JSONL files with both token counts and pre-calculated cost information. ccusage can handle this data in different ways depending on your needs:\n\nauto - Smart mode using the best available data\ncalculate - Always calculate from token counts\ndisplay - Only show pre-calculated costs"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#mode-details",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#mode-details",
    "title": "Cost Modes",
    "section": "",
    "text": "The auto mode intelligently chooses the best cost calculation method for each entry:\nccusage daily --mode auto\n# or simply:\nccusage daily\n\n\n\nPre-calculated costs available ‚Üí Uses Claude‚Äôs costUSD values\nNo pre-calculated costs ‚Üí Calculates from token counts using model pricing\nMixed data ‚Üí Uses the best method for each entry\n\n\n\n\n\n‚úÖ General usage - Works well for most scenarios\n‚úÖ Mixed data sets - Handles old and new data properly\n‚úÖ Accuracy - Uses official costs when available\n‚úÖ Completeness - Shows estimates for all entries\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.45  ‚îÇ ‚Üê Pre-calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $8.67  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $7.23  ‚îÇ ‚Üê Calculated\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\nThe calculate mode always computes costs from token counts using model pricing:\nccusage daily --mode calculate\nccusage monthly --mode calculate --breakdown\n\n\n\nIgnores costUSD values from Claude Code data\nUses token counts (input, output, cache) for all entries\nApplies current model pricing from LiteLLM database\nConsistent methodology across all time periods\n\n\n\n\n\n‚úÖ Consistent comparisons - Same calculation method for all data\n‚úÖ Token analysis - Understanding pure token-based costs\n‚úÖ Historical analysis - Comparing costs across different time periods\n‚úÖ Pricing research - Analyzing cost per token trends\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.38  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $8.67  ‚îÇ ‚Üê Calculated\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $7.23  ‚îÇ ‚Üê Calculated\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\nThe display mode only shows pre-calculated costs from Claude Code:\nccusage daily --mode display\nccusage session --mode display --json\n\n\n\nUses only costUSD values from Claude Code data\nShows $0.00 for entries without pre-calculated costs\nNo token-based calculations performed\nExact Claude billing data when available\n\n\n\n\n\n‚úÖ Official costs only - Shows exactly what Claude calculated\n‚úÖ Billing verification - Comparing with actual Claude charges\n‚úÖ Recent data - Most accurate for newer usage entries\n‚úÖ Audit purposes - Verifying pre-calculated costs\n\n\n\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models      ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-01-15   ‚îÇ ‚Ä¢ opus-4    ‚îÇ  1,245 ‚îÇ  28,756 ‚îÇ    $12.45  ‚îÇ ‚Üê Pre-calculated\n‚îÇ 2024-12-20   ‚îÇ ‚Ä¢ sonnet-4  ‚îÇ    856 ‚îÇ  19,234 ‚îÇ     $0.00  ‚îÇ ‚Üê No cost data\n‚îÇ 2024-11-10   ‚îÇ ‚Ä¢ opus-4    ‚îÇ    634 ‚îÇ  15,678 ‚îÇ     $0.00  ‚îÇ ‚Üê No cost data\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#practical-examples",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#practical-examples",
    "title": "Cost Modes",
    "section": "",
    "text": "You have data from different time periods with varying cost information:\n# Auto mode handles mixed data intelligently\nccusage daily --mode auto --since 20241201\n\n# Shows:\n# - Pre-calculated costs for recent entries (Jan 2025)\n# - Calculated costs for older entries (Dec 2024)\n\n\n\nYou want to compare costs across different months using the same methodology:\n# Calculate mode ensures consistent methodology\nccusage monthly --mode calculate --breakdown\n\n# All months use the same token-based calculation\n# Useful for trend analysis and cost projections\n\n\n\nYou want to verify Claude‚Äôs official cost calculations:\n# Display mode shows only official Claude costs\nccusage daily --mode display --since 20250101\n\n# Compare with your Claude billing dashboard\n# Entries without costs show $0.00\n\n\n\nAnalyzing usage patterns over time:\n# Auto mode for complete picture\nccusage daily --mode auto --since 20240101 --until 20241231\n\n# Calculate mode for consistent comparison\nccusage monthly --mode calculate --order asc"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#cost-calculation-details",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#cost-calculation-details",
    "title": "Cost Modes",
    "section": "",
    "text": "When calculating costs from tokens, ccusage uses:\n\n\n\nLiteLLM database - Up-to-date model pricing\nAutomatic updates - Pricing refreshed regularly\nMultiple models - Supports Claude Opus, Sonnet, and other models\n\n\n\n\ntype TokenCosts = {\n    input: number; // Input tokens\n    output: number; // Output tokens\n    cacheCreate: number; // Cache creation tokens\n    cacheRead: number; // Cache read tokens\n};\n\n\n\ntotalCost =\n    inputTokens * inputPrice +\n    outputTokens * outputPrice +\n    cacheCreateTokens * cacheCreatePrice +\n    cacheReadTokens * cacheReadPrice;\n\n\n\n\nClaude Code provides costUSD values in JSONL files:\n{\n    \"timestamp\": \"2025-01-15T10:30:00Z\",\n    \"model\": \"claude-opus-4-20250514\",\n    \"usage\": {\n        \"input_tokens\": 1245,\n        \"output_tokens\": 28756,\n        \"cache_creation_input_tokens\": 512,\n        \"cache_read_input_tokens\": 256\n    },\n    \"costUSD\": 12.45\n}"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#debug-mode",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#debug-mode",
    "title": "Cost Modes",
    "section": "",
    "text": "Use debug mode to understand cost calculation discrepancies:\nccusage daily --mode auto --debug\nShows:\n\nPricing mismatches between calculated and pre-calculated costs\nMissing cost data entries\nCalculation details for each entry\nSample discrepancies for investigation\n\n# Show more sample discrepancies\nccusage daily --debug --debug-samples 10"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#mode-selection-guide",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#mode-selection-guide",
    "title": "Cost Modes",
    "section": "",
    "text": "General usage - Default for most scenarios\nMixed data sets - Combining old and new usage data\nMaximum accuracy - Best available cost information\nRegular reporting - Daily/monthly usage tracking\n\n\n\n\n\nConsistent analysis - Comparing different time periods\nToken cost research - Understanding pure token costs\nPricing validation - Verifying calculated vs actual costs\nHistorical comparison - Analyzing cost trends over time\n\n\n\n\n\nBilling verification - Comparing with Claude charges\nOfficial costs only - Trusting Claude‚Äôs calculations\nRecent data analysis - Most accurate for new usage\nAudit purposes - Verifying pre-calculated costs"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#advanced-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#advanced-usage",
    "title": "Cost Modes",
    "section": "",
    "text": "# Calculate mode with breakdown by model\nccusage daily --mode calculate --breakdown\n\n# Display mode with JSON output for analysis\nccusage session --mode display --json | jq '.[] | select(.totalCost &gt; 0)'\n\n# Auto mode with date filtering\nccusage monthly --mode auto --since 20240101 --order asc\n\n\n\n\ndisplay mode - Fastest (no calculations)\nauto mode - Moderate (conditional calculations)\ncalculate mode - Slowest (always calculates)\n\n\n\n\n# All modes work with offline pricing data\nccusage daily --mode calculate --offline\nccusage monthly --mode auto --offline"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#common-issues-and-solutions",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#common-issues-and-solutions",
    "title": "Cost Modes",
    "section": "",
    "text": "Cause: Using display mode with data that lacks pre-calculated costs\nSolution:\n# Switch to auto or calculate mode\nccusage daily --mode auto\nccusage daily --mode calculate\n\n\n\nCause: Mixed use of different modes or pricing changes\nSolution:\n# Use calculate mode for consistency\nccusage daily --mode calculate --since 20240101\n\n\n\nCause: Pricing updates or model changes\nSolution:\n# Check for pricing updates\nccusage daily --mode auto  # Updates pricing cache\nccusage daily --mode calculate --debug  # Compare calculations\n\n\n\nCause: Claude Code hasn‚Äôt calculated costs yet\nSolution:\n# Use calculate mode as fallback\nccusage daily --mode calculate"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/cost-modes.html#next-steps",
    "title": "Cost Modes",
    "section": "",
    "text": "After understanding cost modes:\n\nExplore Configuration for environment setup\nLearn about Custom Paths for multiple data sources\nTry Live Monitoring with different cost modes"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html",
    "title": "Monthly Reports",
    "section": "",
    "text": "Monthly reports aggregate your Claude Code usage by calendar month, providing a high-level view of your usage patterns and costs over longer time periods.\n:::warning NOTICE Claude Code can only retain logs for 30 days by default. To be able to check logs for more than a month, you need to change the value of cleanupPeriodDays in the settings file.\nClaude Code settings - Claude Docs :::\n\n\nccusage monthly\n\n\n\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                             ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Monthly  ‚îÇ\n‚îÇ                                             ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Models           ‚îÇ Input   ‚îÇ Output   ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  45,231 ‚îÇ  892,456 ‚îÇ        2,048 ‚îÇ      4,096 ‚îÇ      943,831 ‚îÇ   $1,247.92‚îÇ\n‚îÇ         ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ         ‚îÇ          ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ 2025-05 ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  38,917 ‚îÇ  756,234 ‚îÇ        1,536 ‚îÇ      3,072 ‚îÇ      799,759 ‚îÇ     $892.15‚îÇ\n‚îÇ 2025-04 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  22,458 ‚îÇ  534,789 ‚îÇ        1,024 ‚îÇ      2,048 ‚îÇ      560,319 ‚îÇ     $678.43‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total   ‚îÇ                  ‚îÇ 106,606 ‚îÇ2,183,479 ‚îÇ        4,608 ‚îÇ      9,216 ‚îÇ    2,303,909 ‚îÇ   $2,818.50‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\n\nMonths are displayed in YYYY-MM format:\n\n2025-06 = June 2025\n2025-05 = May 2025\n\n\n\n\nAll usage within a calendar month is aggregated:\n\nInput/output tokens summed across all days\nCosts calculated from total token usage\nModels listed if used at any point in the month\n\n\n\n\n\n\n\nFilter by month range:\n# Show specific months\nccusage monthly --since 20250101 --until 20250630\n\n# Show usage from 2024\nccusage monthly --since 20240101 --until 20241231\n\n# Show last 6 months\nccusage monthly --since $(date -d '6 months ago' +%Y%m%d)\n::: tip Date Filtering Even though you specify full dates (YYYYMMDD), monthly reports group by month. The filters determine which months to include. :::\n\n\n\n# Newest months first (default)\nccusage monthly --order desc\n\n# Oldest months first\nccusage monthly --order asc\n\n\n\n# Use pre-calculated costs when available (default)\nccusage monthly --mode auto\n\n# Always calculate costs from tokens\nccusage monthly --mode calculate\n\n# Only show pre-calculated costs\nccusage monthly --mode display\n\n\n\nSee costs broken down by model:\nccusage monthly --breakdown\nExample with breakdown:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Models           ‚îÇ Input   ‚îÇ Output   ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06 ‚îÇ opus-4, sonnet-4 ‚îÇ  45,231 ‚îÇ  892,456 ‚îÇ  $1,247.92 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚îî‚îÄ opus-4                 ‚îÇ  20,000 ‚îÇ  400,000 ‚îÇ    $750.50 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚îî‚îÄ sonnet-4               ‚îÇ  25,231 ‚îÇ  492,456 ‚îÇ    $497.42 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nccusage monthly --json\n[\n    {\n        \"month\": \"2025-06\",\n        \"models\": [\"opus-4\", \"sonnet-4\"],\n        \"inputTokens\": 45231,\n        \"outputTokens\": 892456,\n        \"cacheCreationTokens\": 2048,\n        \"cacheReadTokens\": 4096,\n        \"totalTokens\": 943831,\n        \"totalCost\": 1247.92\n    }\n]\n\n\n\nccusage monthly --offline\n\n\n\n\n\n\nMonthly reports help with subscription planning:\n# Check last year's usage\nccusage monthly --since 20240101 --until 20241231\nLook at the total cost to understand what you‚Äôd pay on usage-based pricing.\n\n\n\nTrack how your usage changes over time:\n# Compare year over year\nccusage monthly --since 20230101 --until 20231231  # 2023\nccusage monthly --since 20240101 --until 20241231  # 2024\n\n\n\nSee how your model usage evolves:\nccusage monthly --breakdown\nThis helps track transitions between Opus, Sonnet, and other models.\n\n\n\nIdentify busy/slow periods:\n# Academic year analysis\nccusage monthly --since 20240901 --until 20250630\n\n\n\n# Create quarterly reports\nccusage monthly --since 20241001 --until 20241231 --json &gt; q4-2024.json\n\n\n\n\n\n\nMonthly totals show:\n\nSubscription Value: How much you‚Äôd pay with usage-based billing\nUsage Intensity: Months with heavy Claude usage\nModel Preferences: Which models you favor over time\n\n\n\n\nLook for patterns:\n\nIncreasing usage over time\nSeasonal variations\nModel adoption curves\n\n\n\n\nUse monthly data for:\n\nTeam budget planning\nUsage forecasting\nSubscription optimization\n\n\n\n\nCompare monthly reports with:\n\nTeam productivity metrics\nProject timelines\nBusiness outcomes\n\n\n\n\n\n\nDaily Reports - Day-by-day breakdown\nSession Reports - Individual conversations\nBlocks Reports - 5-hour billing periods\n\n\n\n\nAfter analyzing monthly trends, consider:\n\nSession Reports to identify high-cost conversations\nLive Monitoring to track real-time usage\nLibrary Usage for programmatic analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#basic-usage",
    "title": "Monthly Reports",
    "section": "",
    "text": "ccusage monthly"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#example-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#example-output",
    "title": "Monthly Reports",
    "section": "",
    "text": "‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                             ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Monthly  ‚îÇ\n‚îÇ                                             ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Models           ‚îÇ Input   ‚îÇ Output   ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  45,231 ‚îÇ  892,456 ‚îÇ        2,048 ‚îÇ      4,096 ‚îÇ      943,831 ‚îÇ   $1,247.92‚îÇ\n‚îÇ         ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ         ‚îÇ          ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ 2025-05 ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  38,917 ‚îÇ  756,234 ‚îÇ        1,536 ‚îÇ      3,072 ‚îÇ      799,759 ‚îÇ     $892.15‚îÇ\n‚îÇ 2025-04 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  22,458 ‚îÇ  534,789 ‚îÇ        1,024 ‚îÇ      2,048 ‚îÇ      560,319 ‚îÇ     $678.43‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total   ‚îÇ                  ‚îÇ 106,606 ‚îÇ2,183,479 ‚îÇ        4,608 ‚îÇ      9,216 ‚îÇ    2,303,909 ‚îÇ   $2,818.50‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#understanding-monthly-data",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#understanding-monthly-data",
    "title": "Monthly Reports",
    "section": "",
    "text": "Months are displayed in YYYY-MM format:\n\n2025-06 = June 2025\n2025-05 = May 2025\n\n\n\n\nAll usage within a calendar month is aggregated:\n\nInput/output tokens summed across all days\nCosts calculated from total token usage\nModels listed if used at any point in the month"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#command-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#command-options",
    "title": "Monthly Reports",
    "section": "",
    "text": "Filter by month range:\n# Show specific months\nccusage monthly --since 20250101 --until 20250630\n\n# Show usage from 2024\nccusage monthly --since 20240101 --until 20241231\n\n# Show last 6 months\nccusage monthly --since $(date -d '6 months ago' +%Y%m%d)\n::: tip Date Filtering Even though you specify full dates (YYYYMMDD), monthly reports group by month. The filters determine which months to include. :::\n\n\n\n# Newest months first (default)\nccusage monthly --order desc\n\n# Oldest months first\nccusage monthly --order asc\n\n\n\n# Use pre-calculated costs when available (default)\nccusage monthly --mode auto\n\n# Always calculate costs from tokens\nccusage monthly --mode calculate\n\n# Only show pre-calculated costs\nccusage monthly --mode display\n\n\n\nSee costs broken down by model:\nccusage monthly --breakdown\nExample with breakdown:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Month   ‚îÇ Models           ‚îÇ Input   ‚îÇ Output   ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06 ‚îÇ opus-4, sonnet-4 ‚îÇ  45,231 ‚îÇ  892,456 ‚îÇ  $1,247.92 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚îî‚îÄ opus-4                 ‚îÇ  20,000 ‚îÇ  400,000 ‚îÇ    $750.50 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚îî‚îÄ sonnet-4               ‚îÇ  25,231 ‚îÇ  492,456 ‚îÇ    $497.42 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nccusage monthly --json\n[\n    {\n        \"month\": \"2025-06\",\n        \"models\": [\"opus-4\", \"sonnet-4\"],\n        \"inputTokens\": 45231,\n        \"outputTokens\": 892456,\n        \"cacheCreationTokens\": 2048,\n        \"cacheReadTokens\": 4096,\n        \"totalTokens\": 943831,\n        \"totalCost\": 1247.92\n    }\n]\n\n\n\nccusage monthly --offline"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#analysis-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#analysis-use-cases",
    "title": "Monthly Reports",
    "section": "",
    "text": "Monthly reports help with subscription planning:\n# Check last year's usage\nccusage monthly --since 20240101 --until 20241231\nLook at the total cost to understand what you‚Äôd pay on usage-based pricing.\n\n\n\nTrack how your usage changes over time:\n# Compare year over year\nccusage monthly --since 20230101 --until 20231231  # 2023\nccusage monthly --since 20240101 --until 20241231  # 2024\n\n\n\nSee how your model usage evolves:\nccusage monthly --breakdown\nThis helps track transitions between Opus, Sonnet, and other models.\n\n\n\nIdentify busy/slow periods:\n# Academic year analysis\nccusage monthly --since 20240901 --until 20250630\n\n\n\n# Create quarterly reports\nccusage monthly --since 20241001 --until 20241231 --json &gt; q4-2024.json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#tips-for-monthly-analysis",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#tips-for-monthly-analysis",
    "title": "Monthly Reports",
    "section": "",
    "text": "Monthly totals show:\n\nSubscription Value: How much you‚Äôd pay with usage-based billing\nUsage Intensity: Months with heavy Claude usage\nModel Preferences: Which models you favor over time\n\n\n\n\nLook for patterns:\n\nIncreasing usage over time\nSeasonal variations\nModel adoption curves\n\n\n\n\nUse monthly data for:\n\nTeam budget planning\nUsage forecasting\nSubscription optimization\n\n\n\n\nCompare monthly reports with:\n\nTeam productivity metrics\nProject timelines\nBusiness outcomes"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#related-commands",
    "title": "Monthly Reports",
    "section": "",
    "text": "Daily Reports - Day-by-day breakdown\nSession Reports - Individual conversations\nBlocks Reports - 5-hour billing periods"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/monthly-reports.html#next-steps",
    "title": "Monthly Reports",
    "section": "",
    "text": "After analyzing monthly trends, consider:\n\nSession Reports to identify high-cost conversations\nLive Monitoring to track real-time usage\nLibrary Usage for programmatic analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html",
    "title": "Environment Variables",
    "section": "",
    "text": "ccusage supports several environment variables for configuration and customization. Environment variables provide a way to configure ccusage without modifying command-line arguments or configuration files.\n\n\nSpecifies where ccusage should look for Claude Code data. This is the most important environment variable for ccusage.\n\n\nSet a single custom Claude data directory:\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\nccusage daily\n\n\n\nSet multiple directories (comma-separated) to aggregate data from multiple sources:\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\nccusage daily\nWhen multiple directories are specified, ccusage automatically aggregates usage data from all valid locations.\n\n\n\nWhen CLAUDE_CONFIG_DIR is not set, ccusage automatically searches in:\n\n~/.config/claude/projects/ (new default, Claude Code v1.0.30+)\n~/.claude/projects/ (legacy location, pre-v1.0.30)\n\nData from all valid directories is automatically combined.\n::: info Directory Change The directory change from ~/.claude to ~/.config/claude in Claude Code v1.0.30 was an undocumented breaking change. ccusage handles both locations automatically for backward compatibility. :::\n\n\n\n\n\n# Set in your shell profile (.bashrc, .zshrc, config.fish)\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\n\n\n# Aggregate data from different Claude installations\nexport CLAUDE_CONFIG_DIR=\"$HOME/.claude,$HOME/.config/claude\"\n\n\n\n# Use team-shared data directory\nexport CLAUDE_CONFIG_DIR=\"/team-shared/claude-data/$USER\"\n\n\n\n# Use specific directory in CI pipeline\nexport CLAUDE_CONFIG_DIR=\"/ci-data/claude-logs\"\nccusage daily --json &gt; usage-report.json\n\n\n\n\n\nControls the verbosity of log output. ccusage uses consola for logging under the hood.\n\n\n\n\n\n\n\n\n\n\n\nLevel\nValue\nDescription\nUse Case\n\n\n\n\nSilent\n0\nErrors only\nScripts, piping output\n\n\nWarn\n1\nWarnings and errors\nCI/CD environments\n\n\nLog\n2\nNormal logs\nGeneral use\n\n\nInfo\n3\nInformational logs (default)\nStandard operation\n\n\nDebug\n4\nDebug information\nTroubleshooting\n\n\nTrace\n5\nAll operations\nDeep debugging\n\n\n\n\n\n\n# Silent mode - only show results\nLOG_LEVEL=0 ccusage daily\n\n# Warning level - for CI/CD\nLOG_LEVEL=1 ccusage monthly\n\n# Debug mode - troubleshooting\nLOG_LEVEL=4 ccusage session\n\n# Trace everything - deep debugging\nLOG_LEVEL=5 ccusage blocks\n\n\n\n\n\n# Get clean JSON output without logs\nLOG_LEVEL=0 ccusage daily --json | jq '.summary.totalCost'\n\n\n\n# Show only warnings and errors in CI\nLOG_LEVEL=1 ccusage daily --instances\n\n\n\n# Maximum verbosity for troubleshooting\nLOG_LEVEL=5 ccusage daily --debug\n\n\n\n# Silent logs when piping to other commands\nLOG_LEVEL=0 ccusage monthly --json | python analyze.py\n\n\n\n\n\n\n\nForce offline mode by default:\nexport CCUSAGE_OFFLINE=1\nccusage daily  # Runs in offline mode\n\n\n\nDisable colored output (standard CLI convention):\nexport NO_COLOR=1\nccusage daily  # No color formatting\n\n\n\nForce colored output even when piping:\nexport FORCE_COLOR=1\nccusage daily | less -R  # Preserves colors\n\n\n\n\n\n\n# Set for single command\nLOG_LEVEL=0 ccusage daily\n\n# Set for current shell session\nexport CLAUDE_CONFIG_DIR=\"/custom/path\"\nccusage daily\n\n\n\nAdd to your shell configuration file:\n\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\nexport LOG_LEVEL=3\n\n\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\nexport LOG_LEVEL=3\n\n\n\nset -x CLAUDE_CONFIG_DIR \"$HOME/.config/claude\"\nset -x LOG_LEVEL 3\n\n\n\n$env:CLAUDE_CONFIG_DIR = \"$env:USERPROFILE\\.config\\claude\"\n$env:LOG_LEVEL = \"3\"\n\n\n\n\n\nEnvironment variables have lower precedence than command-line arguments but higher than configuration files:\n\nCommand-line arguments (highest priority)\nEnvironment variables\nConfiguration files\nBuilt-in defaults (lowest priority)\n\nExample:\n# Environment variable sets offline mode\nexport CCUSAGE_OFFLINE=1\n\n# But command-line argument overrides it\nccusage daily --no-offline  # Runs in online mode\n\n\n\nTo see which environment variables are being used:\n# Show all environment variables\nenv | grep -E \"CLAUDE|CCUSAGE|LOG_LEVEL\"\n\n# Debug mode shows environment variable usage\nLOG_LEVEL=4 ccusage daily --debug\n\n\n\n\nCommand-Line Options - CLI arguments and flags\nConfiguration Files - JSON configuration files\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#claude_config_dir",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#claude_config_dir",
    "title": "Environment Variables",
    "section": "",
    "text": "Specifies where ccusage should look for Claude Code data. This is the most important environment variable for ccusage.\n\n\nSet a single custom Claude data directory:\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\nccusage daily\n\n\n\nSet multiple directories (comma-separated) to aggregate data from multiple sources:\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\nccusage daily\nWhen multiple directories are specified, ccusage automatically aggregates usage data from all valid locations.\n\n\n\nWhen CLAUDE_CONFIG_DIR is not set, ccusage automatically searches in:\n\n~/.config/claude/projects/ (new default, Claude Code v1.0.30+)\n~/.claude/projects/ (legacy location, pre-v1.0.30)\n\nData from all valid directories is automatically combined.\n::: info Directory Change The directory change from ~/.claude to ~/.config/claude in Claude Code v1.0.30 was an undocumented breaking change. ccusage handles both locations automatically for backward compatibility. :::\n\n\n\n\n\n# Set in your shell profile (.bashrc, .zshrc, config.fish)\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\n\n\n# Aggregate data from different Claude installations\nexport CLAUDE_CONFIG_DIR=\"$HOME/.claude,$HOME/.config/claude\"\n\n\n\n# Use team-shared data directory\nexport CLAUDE_CONFIG_DIR=\"/team-shared/claude-data/$USER\"\n\n\n\n# Use specific directory in CI pipeline\nexport CLAUDE_CONFIG_DIR=\"/ci-data/claude-logs\"\nccusage daily --json &gt; usage-report.json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#log_level",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#log_level",
    "title": "Environment Variables",
    "section": "",
    "text": "Controls the verbosity of log output. ccusage uses consola for logging under the hood.\n\n\n\n\n\n\n\n\n\n\n\nLevel\nValue\nDescription\nUse Case\n\n\n\n\nSilent\n0\nErrors only\nScripts, piping output\n\n\nWarn\n1\nWarnings and errors\nCI/CD environments\n\n\nLog\n2\nNormal logs\nGeneral use\n\n\nInfo\n3\nInformational logs (default)\nStandard operation\n\n\nDebug\n4\nDebug information\nTroubleshooting\n\n\nTrace\n5\nAll operations\nDeep debugging\n\n\n\n\n\n\n# Silent mode - only show results\nLOG_LEVEL=0 ccusage daily\n\n# Warning level - for CI/CD\nLOG_LEVEL=1 ccusage monthly\n\n# Debug mode - troubleshooting\nLOG_LEVEL=4 ccusage session\n\n# Trace everything - deep debugging\nLOG_LEVEL=5 ccusage blocks\n\n\n\n\n\n# Get clean JSON output without logs\nLOG_LEVEL=0 ccusage daily --json | jq '.summary.totalCost'\n\n\n\n# Show only warnings and errors in CI\nLOG_LEVEL=1 ccusage daily --instances\n\n\n\n# Maximum verbosity for troubleshooting\nLOG_LEVEL=5 ccusage daily --debug\n\n\n\n# Silent logs when piping to other commands\nLOG_LEVEL=0 ccusage monthly --json | python analyze.py"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#additional-environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#additional-environment-variables",
    "title": "Environment Variables",
    "section": "",
    "text": "Force offline mode by default:\nexport CCUSAGE_OFFLINE=1\nccusage daily  # Runs in offline mode\n\n\n\nDisable colored output (standard CLI convention):\nexport NO_COLOR=1\nccusage daily  # No color formatting\n\n\n\nForce colored output even when piping:\nexport FORCE_COLOR=1\nccusage daily | less -R  # Preserves colors"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#setting-environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#setting-environment-variables",
    "title": "Environment Variables",
    "section": "",
    "text": "# Set for single command\nLOG_LEVEL=0 ccusage daily\n\n# Set for current shell session\nexport CLAUDE_CONFIG_DIR=\"/custom/path\"\nccusage daily\n\n\n\nAdd to your shell configuration file:\n\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\nexport LOG_LEVEL=3\n\n\n\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\nexport LOG_LEVEL=3\n\n\n\nset -x CLAUDE_CONFIG_DIR \"$HOME/.config/claude\"\nset -x LOG_LEVEL 3\n\n\n\n$env:CLAUDE_CONFIG_DIR = \"$env:USERPROFILE\\.config\\claude\"\n$env:LOG_LEVEL = \"3\""
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#precedence",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#precedence",
    "title": "Environment Variables",
    "section": "",
    "text": "Environment variables have lower precedence than command-line arguments but higher than configuration files:\n\nCommand-line arguments (highest priority)\nEnvironment variables\nConfiguration files\nBuilt-in defaults (lowest priority)\n\nExample:\n# Environment variable sets offline mode\nexport CCUSAGE_OFFLINE=1\n\n# But command-line argument overrides it\nccusage daily --no-offline  # Runs in online mode"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#debugging",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#debugging",
    "title": "Environment Variables",
    "section": "",
    "text": "To see which environment variables are being used:\n# Show all environment variables\nenv | grep -E \"CLAUDE|CCUSAGE|LOG_LEVEL\"\n\n# Debug mode shows environment variable usage\nLOG_LEVEL=4 ccusage daily --debug"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#related-documentation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/environment-variables.html#related-documentation",
    "title": "Environment Variables",
    "section": "",
    "text": "Command-Line Options - CLI arguments and flags\nConfiguration Files - JSON configuration files\nConfiguration Overview - Complete configuration guide"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html",
    "title": "Live Monitoring (Removed)",
    "section": "",
    "text": "Live monitoring dashboard showing real-time token usage, burn rate, and cost projections\n\n\n::: danger REMOVED IN v18 The blocks --live monitor feature has been removed in v18.0.0. This feature is available in v17.x. :::\n\n\nThe following documentation is preserved for users on v17.x.\n\n\nccusage blocks --live\nThis starts live monitoring with automatic token limit detection based on your usage history.\n\n\n\n\n\nThe dashboard refreshes every second, showing:\n\nCurrent session progress with visual progress bar\nToken burn rate (tokens per minute)\nTime remaining in current 5-hour block\nCost projections based on current usage patterns\nQuota warnings with color-coded alerts\n\n\n\n\n\n\n\nSet custom token limits for quota warnings:\n# Use specific token limit\nccusage blocks --live -t 500000\n\n# Use highest previous session as limit (default)\nccusage blocks --live -t max\n\n\n\nControl update frequency:\n# Update every 5 seconds\nccusage blocks --live --refresh-interval 5\n\n# Update every 10 seconds (lighter on CPU)\nccusage blocks --live --refresh-interval 10\n\n\n\n\nWhile live monitoring is active:\n\nCtrl+C: Exit monitoring gracefully\nTerminal resize: Automatically adjusts display\n\n\n\n\n\n\nBlocks Reports - Static 5-hour block analysis\nSession Reports - Historical session data\nDaily Reports - Day-by-day usage patterns"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html#historical-reference-v17.x",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html#historical-reference-v17.x",
    "title": "Live Monitoring (Removed)",
    "section": "",
    "text": "The following documentation is preserved for users on v17.x.\n\n\nccusage blocks --live\nThis starts live monitoring with automatic token limit detection based on your usage history.\n\n\n\n\n\nThe dashboard refreshes every second, showing:\n\nCurrent session progress with visual progress bar\nToken burn rate (tokens per minute)\nTime remaining in current 5-hour block\nCost projections based on current usage patterns\nQuota warnings with color-coded alerts\n\n\n\n\n\n\n\nSet custom token limits for quota warnings:\n# Use specific token limit\nccusage blocks --live -t 500000\n\n# Use highest previous session as limit (default)\nccusage blocks --live -t max\n\n\n\nControl update frequency:\n# Update every 5 seconds\nccusage blocks --live --refresh-interval 5\n\n# Update every 10 seconds (lighter on CPU)\nccusage blocks --live --refresh-interval 10\n\n\n\n\nWhile live monitoring is active:\n\nCtrl+C: Exit monitoring gracefully\nTerminal resize: Automatically adjusts display"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/live-monitoring.html#related-commands",
    "title": "Live Monitoring (Removed)",
    "section": "",
    "text": "Blocks Reports - Static 5-hour block analysis\nSession Reports - Historical session data\nDaily Reports - Day-by-day usage patterns"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html",
    "title": "Blocks Reports",
    "section": "",
    "text": "Blocks reports show your Claude Code usage grouped by 5-hour billing windows, helping you understand Claude‚Äôs billing cycle and track active session progress.\n\n\nccusage blocks\n\n\n\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                                  ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Session Blocks ‚îÇ\n‚îÇ                                                  ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Block Start Time    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21 09:00:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 285,846 ‚îÇ          512 ‚îÇ      1,024 ‚îÇ      291,894 ‚îÇ    $156.40 ‚îÇ\n‚îÇ ‚è∞ Active (2h 15m)  ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ üî• Rate: 2.1k/min   ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ üìä Projected: 450k  ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21 04:00:00 ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,775 ‚îÇ 186,645 ‚îÇ          256 ‚îÇ        768 ‚îÇ      190,444 ‚îÇ     $98.45 ‚îÇ\n‚îÇ ‚úÖ Completed (3h 42m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 15:30:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ          128 ‚îÇ        512 ‚îÇ      185,582 ‚îÇ     $81.73 ‚îÇ\n‚îÇ ‚úÖ Completed (4h 12m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total               ‚îÇ                  ‚îÇ  9,174 ‚îÇ 655,546 ‚îÇ          896 ‚îÇ      2,304 ‚îÇ      667,920 ‚îÇ    $336.58 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\n\nClaude Code uses 5-hour billing windows for session tracking:\n\nBlock Start: Triggered by your first message\nBlock Duration: Lasts exactly 5 hours from start time\nRolling Windows: New blocks start with activity after previous block expires\nBilling Relevance: Matches Claude‚Äôs internal session tracking\nUTC Time Handling: Block boundaries are calculated in UTC to ensure consistent behavior across time zones\n\n\n\n\n\n‚è∞ Active: Currently running block with time remaining\n‚úÖ Completed: Finished block that ran its full duration or ended naturally\n‚åõ Gap: Time periods with no activity (shown when relevant)\nüî• Rate: Token burn rate (tokens per minute) for active blocks\nüìä Projected: Estimated total tokens if current rate continues\n\n\n\n\n\n\n\nFocus on your current session with detailed projections:\nccusage blocks --active\nThis shows only the currently active block with:\n\nTime remaining in the 5-hour window\nCurrent token burn rate\nProjected final token count and cost\n\n\n\n\nDisplay blocks from the last 3 days (including active):\nccusage blocks --recent\nPerfect for understanding recent usage patterns without scrolling through all historical data.\n\n\n\nSet token limits to monitor quota usage:\n# Set explicit token limit\nccusage blocks --token-limit 500000\n\n# Use highest previous block as limit\nccusage blocks --token-limit max\n# or short form:\nccusage blocks -t max\nWhen limits are set, blocks display:\n\n‚ö†Ô∏è Warning indicators when approaching limits\nüö® Alert indicators when exceeding limits\nProgress bars showing usage relative to limit\n\n\n\n\n::: danger REMOVED IN v18 The blocks --live monitor feature has been removed in v18.0.0. This feature is available in v17.x. Please use the statusline command instead for real-time monitoring. :::\nPreviously available options (v17.x only):\n# Basic live monitoring (uses -t max automatically)\nccusage blocks --live\n\n# Live monitoring with explicit token limit\nccusage blocks --live --token-limit 500000\n\n# Custom refresh interval (1-60 seconds)\nccusage blocks --live --refresh-interval 5\n\n\n\nChange the block duration (default is 5 hours):\n# 3-hour blocks\nccusage blocks --session-length 3\n\n# 8-hour blocks\nccusage blocks --session-length 8\n\n\n\nFilter blocks by date range:\n# Show blocks from specific date range\nccusage blocks --since 20250620 --until 20250621\n\n# Show blocks from last week\nccusage blocks --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# Show newest blocks first (default)\nccusage blocks --order desc\n\n# Show oldest blocks first\nccusage blocks --order asc\n\n\n\n# Use pre-calculated costs when available (default)\nccusage blocks --mode auto\n\n# Always calculate costs from tokens\nccusage blocks --mode calculate\n\n# Only show pre-calculated costs\nccusage blocks --mode display\n\n\n\nExport block data for analysis:\nccusage blocks --json\n{\n    \"blocks\": [\n        {\n            \"id\": \"2025-06-21T09:00:00.000Z\",\n            \"startTime\": \"2025-06-21T09:00:00.000Z\",\n            \"endTime\": \"2025-06-21T14:00:00.000Z\",\n            \"actualEndTime\": \"2025-06-21T11:15:00.000Z\",\n            \"isActive\": true,\n            \"tokenCounts\": {\n                \"inputTokens\": 4512,\n                \"outputTokens\": 285846,\n                \"cacheCreationInputTokens\": 512,\n                \"cacheReadInputTokens\": 1024\n            },\n            \"costUSD\": 156.4,\n            \"models\": [\"opus-4\", \"sonnet-4\"]\n        }\n    ]\n}\n\n\n\nUse cached pricing data without network access:\nccusage blocks --offline\n# or short form:\nccusage blocks -O\n\n\n\n\n\n\nUnderstanding 5-hour windows helps with:\n# Check current active block\nccusage blocks --active\n\nTime Management: Know how much time remains in current session\nUsage Pacing: Monitor if you‚Äôre on track for reasonable usage\nBreak Planning: Understand when current session will expire\n\n\n\n\n# Find your highest usage patterns\nccusage blocks -t max --recent\n\nPeak Usage Identification: Which blocks consumed the most tokens\nEfficiency Patterns: Compare block efficiency (tokens per hour)\nModel Selection Impact: How model choice affects block costs\n\n\n\n\n# Monitor active sessions in real-time\nccusage statusline\nPerfect for:\n\nLong coding sessions: Track progress against historical limits\nBudget management: Watch costs accumulate in real-time\nProductivity tracking: Understand work intensity patterns\n\n\n\n\n# Export data for detailed analysis\nccusage blocks --json &gt; blocks-history.json\n\n# Analyze patterns over time\nccusage blocks --since 20250601 --until 20250630\n\n\n\n\n\n\nLook for patterns in your block data:\n\nHigh-efficiency blocks: Lots of output tokens for minimal input\nExploratory blocks: High input/output ratios (research, debugging)\nFocused blocks: Steady token burn rates with clear objectives\n\n\n\n\nUse blocks to optimize your Claude usage:\n\nSession planning: Start important work at the beginning of blocks\nBreak timing: Use block boundaries for natural work breaks\nBatch processing: Group similar tasks within single blocks\n\n\n\n\nBlocks help identify cost patterns:\n\nModel switching: When to use Opus vs Sonnet within blocks\nCache efficiency: How cache usage affects block costs\nUsage intensity: Whether short focused sessions or long exploratory ones are more cost-effective\n\n\n\n\nWhen working with token limits:\n\nRate monitoring: Watch burn rates to avoid exceeding limits\nEarly warning: Set limits below actual quotas for safety margin\nUsage spreading: Distribute heavy usage across multiple blocks\n\n\n\n\n\nBlocks reports adapt to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns with full timestamps\nNarrow terminals (&lt;100 chars): Compact mode with abbreviated times and essential data\n\n\n\n\n\n\nBlocks reports automatically detect and display gaps:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ 2025-06-21 09:00:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 285,846 ‚îÇ    $156.40 ‚îÇ\n‚îÇ ‚è∞ Active (2h 15m)  ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 22:00:00 ‚îÇ ‚åõ 11h gap       ‚îÇ      0 ‚îÇ       0 ‚îÇ      $0.00 ‚îÇ\n‚îÇ 2025-06-21 09:00:00 ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 15:30:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ     $81.73 ‚îÇ\n‚îÇ ‚úÖ Completed (4h 12m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nFor active blocks, the tool calculates:\n\nTokens per minute: Based on activity within the block\nCost per hour: Projected hourly spend rate\nProjected totals: Estimated final tokens/cost if current rate continues\n\n\n\n\nWhen using token limits, blocks show visual progress:\n\nGreen: Usage well below limit (&lt; 70%)\nYellow: Approaching limit (70-90%)\nRed: At or exceeding limit (‚â• 90%)\n\n\n\n\n\n\nDaily Reports - Usage aggregated by calendar date\nMonthly Reports - Monthly usage summaries\nSession Reports - Individual conversation analysis\nStatusline - Real-time session tracking (replacement for live monitoring)\n\n\n\n\nAfter understanding block patterns, consider:\n\nStatusline for real-time active session tracking\nSession Reports to analyze individual conversations within blocks\nDaily Reports to see how blocks aggregate across days"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#basic-usage",
    "title": "Blocks Reports",
    "section": "",
    "text": "ccusage blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#example-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#example-output",
    "title": "Blocks Reports",
    "section": "",
    "text": "‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                                  ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Session Blocks ‚îÇ\n‚îÇ                                                  ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Block Start Time    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21 09:00:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 285,846 ‚îÇ          512 ‚îÇ      1,024 ‚îÇ      291,894 ‚îÇ    $156.40 ‚îÇ\n‚îÇ ‚è∞ Active (2h 15m)  ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ üî• Rate: 2.1k/min   ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îÇ üìä Projected: 450k  ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21 04:00:00 ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,775 ‚îÇ 186,645 ‚îÇ          256 ‚îÇ        768 ‚îÇ      190,444 ‚îÇ     $98.45 ‚îÇ\n‚îÇ ‚úÖ Completed (3h 42m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 15:30:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ          128 ‚îÇ        512 ‚îÇ      185,582 ‚îÇ     $81.73 ‚îÇ\n‚îÇ ‚úÖ Completed (4h 12m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total               ‚îÇ                  ‚îÇ  9,174 ‚îÇ 655,546 ‚îÇ          896 ‚îÇ      2,304 ‚îÇ      667,920 ‚îÇ    $336.58 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#understanding-blocks",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#understanding-blocks",
    "title": "Blocks Reports",
    "section": "",
    "text": "Claude Code uses 5-hour billing windows for session tracking:\n\nBlock Start: Triggered by your first message\nBlock Duration: Lasts exactly 5 hours from start time\nRolling Windows: New blocks start with activity after previous block expires\nBilling Relevance: Matches Claude‚Äôs internal session tracking\nUTC Time Handling: Block boundaries are calculated in UTC to ensure consistent behavior across time zones\n\n\n\n\n\n‚è∞ Active: Currently running block with time remaining\n‚úÖ Completed: Finished block that ran its full duration or ended naturally\n‚åõ Gap: Time periods with no activity (shown when relevant)\nüî• Rate: Token burn rate (tokens per minute) for active blocks\nüìä Projected: Estimated total tokens if current rate continues"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#command-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#command-options",
    "title": "Blocks Reports",
    "section": "",
    "text": "Focus on your current session with detailed projections:\nccusage blocks --active\nThis shows only the currently active block with:\n\nTime remaining in the 5-hour window\nCurrent token burn rate\nProjected final token count and cost\n\n\n\n\nDisplay blocks from the last 3 days (including active):\nccusage blocks --recent\nPerfect for understanding recent usage patterns without scrolling through all historical data.\n\n\n\nSet token limits to monitor quota usage:\n# Set explicit token limit\nccusage blocks --token-limit 500000\n\n# Use highest previous block as limit\nccusage blocks --token-limit max\n# or short form:\nccusage blocks -t max\nWhen limits are set, blocks display:\n\n‚ö†Ô∏è Warning indicators when approaching limits\nüö® Alert indicators when exceeding limits\nProgress bars showing usage relative to limit\n\n\n\n\n::: danger REMOVED IN v18 The blocks --live monitor feature has been removed in v18.0.0. This feature is available in v17.x. Please use the statusline command instead for real-time monitoring. :::\nPreviously available options (v17.x only):\n# Basic live monitoring (uses -t max automatically)\nccusage blocks --live\n\n# Live monitoring with explicit token limit\nccusage blocks --live --token-limit 500000\n\n# Custom refresh interval (1-60 seconds)\nccusage blocks --live --refresh-interval 5\n\n\n\nChange the block duration (default is 5 hours):\n# 3-hour blocks\nccusage blocks --session-length 3\n\n# 8-hour blocks\nccusage blocks --session-length 8\n\n\n\nFilter blocks by date range:\n# Show blocks from specific date range\nccusage blocks --since 20250620 --until 20250621\n\n# Show blocks from last week\nccusage blocks --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# Show newest blocks first (default)\nccusage blocks --order desc\n\n# Show oldest blocks first\nccusage blocks --order asc\n\n\n\n# Use pre-calculated costs when available (default)\nccusage blocks --mode auto\n\n# Always calculate costs from tokens\nccusage blocks --mode calculate\n\n# Only show pre-calculated costs\nccusage blocks --mode display\n\n\n\nExport block data for analysis:\nccusage blocks --json\n{\n    \"blocks\": [\n        {\n            \"id\": \"2025-06-21T09:00:00.000Z\",\n            \"startTime\": \"2025-06-21T09:00:00.000Z\",\n            \"endTime\": \"2025-06-21T14:00:00.000Z\",\n            \"actualEndTime\": \"2025-06-21T11:15:00.000Z\",\n            \"isActive\": true,\n            \"tokenCounts\": {\n                \"inputTokens\": 4512,\n                \"outputTokens\": 285846,\n                \"cacheCreationInputTokens\": 512,\n                \"cacheReadInputTokens\": 1024\n            },\n            \"costUSD\": 156.4,\n            \"models\": [\"opus-4\", \"sonnet-4\"]\n        }\n    ]\n}\n\n\n\nUse cached pricing data without network access:\nccusage blocks --offline\n# or short form:\nccusage blocks -O"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#analysis-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#analysis-use-cases",
    "title": "Blocks Reports",
    "section": "",
    "text": "Understanding 5-hour windows helps with:\n# Check current active block\nccusage blocks --active\n\nTime Management: Know how much time remains in current session\nUsage Pacing: Monitor if you‚Äôre on track for reasonable usage\nBreak Planning: Understand when current session will expire\n\n\n\n\n# Find your highest usage patterns\nccusage blocks -t max --recent\n\nPeak Usage Identification: Which blocks consumed the most tokens\nEfficiency Patterns: Compare block efficiency (tokens per hour)\nModel Selection Impact: How model choice affects block costs\n\n\n\n\n# Monitor active sessions in real-time\nccusage statusline\nPerfect for:\n\nLong coding sessions: Track progress against historical limits\nBudget management: Watch costs accumulate in real-time\nProductivity tracking: Understand work intensity patterns\n\n\n\n\n# Export data for detailed analysis\nccusage blocks --json &gt; blocks-history.json\n\n# Analyze patterns over time\nccusage blocks --since 20250601 --until 20250630"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#block-analysis-tips",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#block-analysis-tips",
    "title": "Blocks Reports",
    "section": "",
    "text": "Look for patterns in your block data:\n\nHigh-efficiency blocks: Lots of output tokens for minimal input\nExploratory blocks: High input/output ratios (research, debugging)\nFocused blocks: Steady token burn rates with clear objectives\n\n\n\n\nUse blocks to optimize your Claude usage:\n\nSession planning: Start important work at the beginning of blocks\nBreak timing: Use block boundaries for natural work breaks\nBatch processing: Group similar tasks within single blocks\n\n\n\n\nBlocks help identify cost patterns:\n\nModel switching: When to use Opus vs Sonnet within blocks\nCache efficiency: How cache usage affects block costs\nUsage intensity: Whether short focused sessions or long exploratory ones are more cost-effective\n\n\n\n\nWhen working with token limits:\n\nRate monitoring: Watch burn rates to avoid exceeding limits\nEarly warning: Set limits below actual quotas for safety margin\nUsage spreading: Distribute heavy usage across multiple blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#responsive-display",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#responsive-display",
    "title": "Blocks Reports",
    "section": "",
    "text": "Blocks reports adapt to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns with full timestamps\nNarrow terminals (&lt;100 chars): Compact mode with abbreviated times and essential data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#advanced-features",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#advanced-features",
    "title": "Blocks Reports",
    "section": "",
    "text": "Blocks reports automatically detect and display gaps:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ 2025-06-21 09:00:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 285,846 ‚îÇ    $156.40 ‚îÇ\n‚îÇ ‚è∞ Active (2h 15m)  ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 22:00:00 ‚îÇ ‚åõ 11h gap       ‚îÇ      0 ‚îÇ       0 ‚îÇ      $0.00 ‚îÇ\n‚îÇ 2025-06-21 09:00:00 ‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-20 15:30:00 ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ     $81.73 ‚îÇ\n‚îÇ ‚úÖ Completed (4h 12m)‚îÇ                  ‚îÇ        ‚îÇ         ‚îÇ            ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nFor active blocks, the tool calculates:\n\nTokens per minute: Based on activity within the block\nCost per hour: Projected hourly spend rate\nProjected totals: Estimated final tokens/cost if current rate continues\n\n\n\n\nWhen using token limits, blocks show visual progress:\n\nGreen: Usage well below limit (&lt; 70%)\nYellow: Approaching limit (70-90%)\nRed: At or exceeding limit (‚â• 90%)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#related-commands",
    "title": "Blocks Reports",
    "section": "",
    "text": "Daily Reports - Usage aggregated by calendar date\nMonthly Reports - Monthly usage summaries\nSession Reports - Individual conversation analysis\nStatusline - Real-time session tracking (replacement for live monitoring)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/blocks-reports.html#next-steps",
    "title": "Blocks Reports",
    "section": "",
    "text": "After understanding block patterns, consider:\n\nStatusline for real-time active session tracking\nSession Reports to analyze individual conversations within blocks\nDaily Reports to see how blocks aggregate across days"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/daily.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/daily.html",
    "title": "Codex Daily Report (Beta)",
    "section": "",
    "text": "The daily command mirrors ccusage‚Äôs daily report but operates on Codex CLI session logs.\n# Recommended (fastest)\nbunx @ccusage/codex@latest daily\n\n# Using npx\nnpx @ccusage/codex@latest daily\n\n\n\n\n\n\n\n\n\nFlag\nDescription\n\n\n\n\n--since / --until\nFilter to a specific date range (YYYYMMDD or YYYY-MM-DD)\n\n\n--timezone\nOverride timezone used for grouping (defaults to system)\n\n\n--locale\nAdjust date formatting locale\n\n\n--json\nEmit structured JSON instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nThe output uses the same responsive table component as ccusage, including compact mode support and per-model token summaries.\nNeed higher-level trends? Switch to the monthly report for month-by-month rollups with the same flag set."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/daily.html#options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/daily.html#options",
    "title": "Codex Daily Report (Beta)",
    "section": "",
    "text": "Flag\nDescription\n\n\n\n\n--since / --until\nFilter to a specific date range (YYYYMMDD or YYYY-MM-DD)\n\n\n--timezone\nOverride timezone used for grouping (defaults to system)\n\n\n--locale\nAdjust date formatting locale\n\n\n--json\nEmit structured JSON instead of a table\n\n\n--offline / --no-offline\nForce cached LiteLLM pricing or enable live fetching\n\n\n--compact\nForce compact table layout (same columns as a narrow terminal)\n\n\n\nThe output uses the same responsive table component as ccusage, including compact mode support and per-model token summaries.\nNeed higher-level trends? Switch to the monthly report for month-by-month rollups with the same flag set."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "Codex CLI daily report\n\n\n\n‚ö†Ô∏è The Codex companion CLI is experimental. Expect breaking changes while both ccusage and OpenAI‚Äôs Codex CLI continue to evolve.\n\nThe @ccusage/codex package reuses ccusage‚Äôs responsive tables, pricing cache, and token accounting to analyze OpenAI Codex CLI session logs.\n\n\n# Recommended - always include @latest\nnpx @ccusage/codex@latest --help\nbunx @ccusage/codex@latest --help  # ‚ö†Ô∏è MUST include @latest with bunx\n\n# Alternative package runners\npnpm dlx @ccusage/codex --help\npnpx @ccusage/codex --help\n\n# Using deno (with security flags)\ndeno run -E -R=$HOME/.codex/ -S=homedir -N='raw.githubusercontent.com:443' npm:@ccusage/codex@latest --help\n::: warning ‚ö†Ô∏è Critical for bunx users Bun 1.2.x‚Äôs bunx prioritizes binaries matching the package name suffix when given a scoped package. For @ccusage/codex, it looks for a codex binary in PATH first. If you have an existing codex command installed (e.g., GitHub Copilot‚Äôs codex), that will be executed instead. Always use bunx @ccusage/codex@latest with the version tag to force bunx to fetch and run the correct package. :::\n\n\nSince npx @ccusage/codex@latest is quite long to type repeatedly, we strongly recommend setting up a shell alias for convenience:\n# bash/zsh: alias ccusage-codex='bunx @ccusage/codex@latest'\n# fish:     alias ccusage-codex 'bunx @ccusage/codex@latest'\n\n# Then simply run:\nccusage-codex daily\nccusage-codex monthly --json\n\nAfter adding the alias to your shell config file (.bashrc, .zshrc, or config.fish), restart your shell or run source on the config file to apply the changes.\n\n\n\n\n\nThe CLI reads Codex session JSONL files located under CODEX_HOME (defaults to ~/.codex). Each file represents a single Codex CLI session and contains running token totals that the tool converts into per-day or per-month deltas.\n\n\n\n\nToken deltas ‚Äì Each event_msg with payload.type === \"token_count\" reports cumulative totals. The CLI subtracts the previous totals to recover per-turn token usage (input, cached input, output, reasoning, total).\nPer-model grouping ‚Äì The turn_context metadata specifies the active model. We aggregate tokens per day/month and per model. Sessions lacking model metadata (seen in early September 2025 builds) are skipped.\nPricing ‚Äì Rates come from LiteLLM‚Äôs pricing dataset via the shared LiteLLMPricingFetcher. Aliases such as gpt-5-codex map to canonical entries (gpt-5) so cost calculations remain accurate.\nLegacy fallback ‚Äì Early September 2025 logs that never recorded turn_context metadata are still included; the CLI assumes gpt-5 for pricing so you can review the tokens even though the model tag is missing (the JSON output also marks these rows with \"isFallback\": true).\nCost formula ‚Äì Non-cached input uses the standard input price; cached input uses the cache-read price (falling back to the input price when missing); and output tokens are billed at the output price. All prices are per million tokens. Reasoning tokens may be shown for reference, but they are part of the output charge and are not billed separately.\nTotals and reports ‚Äì Daily, monthly, and session commands display per-model breakdowns, overall totals, and optional JSON for automation.\n\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nCODEX_HOME\nOverride the root directory containing Codex session folders\n\n\nLOG_LEVEL\nAdjust consola verbosity (0 silent ‚Ä¶ 5 trace)\n\n\n\nWhen Codex emits a model alias (for example gpt-5-codex), the CLI automatically resolves it to the canonical LiteLLM pricing entry. No manual override is needed.\n\n\n\n\nDaily report command\nMonthly report command\nSession report command\nAdditional reports will mirror the ccusage CLI as the Codex tooling stabilizes.\n\nHave feedback or ideas? Open an issue so we can improve the beta.\n\n\n\n::: details Why are there no entries before September 2025? OpenAI‚Äôs Codex CLI started emitting token_count events in commit 0269096 (2025-09-06). Earlier session logs simply don‚Äôt contain token usage metrics, so @ccusage/codex has nothing to aggregate. If you need historic data, rerun those sessions after that Codex update. :::\n::: details What if some September 2025 sessions still get skipped? During the 2025-09 rollouts a few Codex builds emitted token_count events without the matching turn_context metadata, so the CLI could not determine which model generated the tokens. Those entries are ignored to avoid mispriced reports. If you encounter this, relaunch the Codex CLI to generate fresh logs‚Äîthe current builds restore the missing metadata. :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#installation-launch",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#installation-launch",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "# Recommended - always include @latest\nnpx @ccusage/codex@latest --help\nbunx @ccusage/codex@latest --help  # ‚ö†Ô∏è MUST include @latest with bunx\n\n# Alternative package runners\npnpm dlx @ccusage/codex --help\npnpx @ccusage/codex --help\n\n# Using deno (with security flags)\ndeno run -E -R=$HOME/.codex/ -S=homedir -N='raw.githubusercontent.com:443' npm:@ccusage/codex@latest --help\n::: warning ‚ö†Ô∏è Critical for bunx users Bun 1.2.x‚Äôs bunx prioritizes binaries matching the package name suffix when given a scoped package. For @ccusage/codex, it looks for a codex binary in PATH first. If you have an existing codex command installed (e.g., GitHub Copilot‚Äôs codex), that will be executed instead. Always use bunx @ccusage/codex@latest with the version tag to force bunx to fetch and run the correct package. :::\n\n\nSince npx @ccusage/codex@latest is quite long to type repeatedly, we strongly recommend setting up a shell alias for convenience:\n# bash/zsh: alias ccusage-codex='bunx @ccusage/codex@latest'\n# fish:     alias ccusage-codex 'bunx @ccusage/codex@latest'\n\n# Then simply run:\nccusage-codex daily\nccusage-codex monthly --json\n\nAfter adding the alias to your shell config file (.bashrc, .zshrc, or config.fish), restart your shell or run source on the config file to apply the changes."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#data-source",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#data-source",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "The CLI reads Codex session JSONL files located under CODEX_HOME (defaults to ~/.codex). Each file represents a single Codex CLI session and contains running token totals that the tool converts into per-day or per-month deltas."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#what-gets-calculated",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#what-gets-calculated",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "Token deltas ‚Äì Each event_msg with payload.type === \"token_count\" reports cumulative totals. The CLI subtracts the previous totals to recover per-turn token usage (input, cached input, output, reasoning, total).\nPer-model grouping ‚Äì The turn_context metadata specifies the active model. We aggregate tokens per day/month and per model. Sessions lacking model metadata (seen in early September 2025 builds) are skipped.\nPricing ‚Äì Rates come from LiteLLM‚Äôs pricing dataset via the shared LiteLLMPricingFetcher. Aliases such as gpt-5-codex map to canonical entries (gpt-5) so cost calculations remain accurate.\nLegacy fallback ‚Äì Early September 2025 logs that never recorded turn_context metadata are still included; the CLI assumes gpt-5 for pricing so you can review the tokens even though the model tag is missing (the JSON output also marks these rows with \"isFallback\": true).\nCost formula ‚Äì Non-cached input uses the standard input price; cached input uses the cache-read price (falling back to the input price when missing); and output tokens are billed at the output price. All prices are per million tokens. Reasoning tokens may be shown for reference, but they are part of the output charge and are not billed separately.\nTotals and reports ‚Äì Daily, monthly, and session commands display per-model breakdowns, overall totals, and optional JSON for automation."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#environment-variables",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "Variable\nDescription\n\n\n\n\nCODEX_HOME\nOverride the root directory containing Codex session folders\n\n\nLOG_LEVEL\nAdjust consola verbosity (0 silent ‚Ä¶ 5 trace)\n\n\n\nWhen Codex emits a model alias (for example gpt-5-codex), the CLI automatically resolves it to the canonical LiteLLM pricing entry. No manual override is needed."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#next-steps",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "Daily report command\nMonthly report command\nSession report command\nAdditional reports will mirror the ccusage CLI as the Codex tooling stabilizes.\n\nHave feedback or ideas? Open an issue so we can improve the beta."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/codex/index.html#troubleshooting",
    "title": "Codex CLI Overview (Beta)",
    "section": "",
    "text": "::: details Why are there no entries before September 2025? OpenAI‚Äôs Codex CLI started emitting token_count events in commit 0269096 (2025-09-06). Earlier session logs simply don‚Äôt contain token usage metrics, so @ccusage/codex has nothing to aggregate. If you need historic data, rerun those sessions after that Codex update. :::\n::: details What if some September 2025 sessions still get skipped? During the 2025-09 rollouts a few Codex builds emitted token_count events without the matching turn_context metadata, so the CLI could not determine which model generated the tokens. Those entries are ignored to avoid mispriced reports. If you encounter this, relaunch the Codex CLI to generate fresh logs‚Äîthe current builds restore the missing metadata. :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html",
    "title": "Daily Reports",
    "section": "",
    "text": "Daily usage report showing token usage and costs by date with model breakdown\n\n\nDaily reports show token usage and costs aggregated by calendar date, giving you a clear view of your Claude Code usage patterns over time.\n\n\nShow all daily usage:\nccusage daily\n# or simply:\nccusage\nThe daily command is the default, so you can omit it when running ccusage.\n\n\n\n\n\n\nDaily usage report showing token usage and costs by date with model breakdown\n\n\n\n\n\n\n\n\nDate: Calendar date in YYYY-MM-DD format\nModels: Claude models used that day (shown as bulleted list)\nInput: Total input tokens sent to Claude\nOutput: Total output tokens received from Claude\nCost (USD): Estimated cost for that day\n\n\n\n\n\nCache Create: Tokens used to create cache entries\nCache Read: Tokens read from cache (typically cheaper)\n\n\n\n\nccusage automatically adapts to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns\nNarrow terminals (&lt;100 chars): Compact mode with essential columns only\n\n\n\n\n\n\n\nFilter reports by date range:\n# Show usage from December 2024\nccusage daily --since 20241201 --until 20241231\n\n# Show last week\nccusage daily --since 20241215 --until 20241222\n\n# Show usage since a specific date\nccusage daily --since 20241201\n\n\n\nControl the order of dates:\n# Newest dates first (default)\nccusage daily --order desc\n\n# Oldest dates first\nccusage daily --order asc\n\n\n\nControl how costs are calculated:\n# Use pre-calculated costs when available (default)\nccusage daily --mode auto\n\n# Always calculate costs from tokens\nccusage daily --mode calculate\n\n# Only show pre-calculated costs\nccusage daily --mode display\n\n\n\nSee per-model cost breakdown:\nccusage daily --breakdown\nThis shows costs split by individual models:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ opus-4, sonnet-4 ‚îÇ    277 ‚îÇ  31,456 ‚îÇ     $17.58 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4  ‚îÇ                  ‚îÇ    100 ‚îÇ  15,000 ‚îÇ     $10.25 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4‚îÇ                  ‚îÇ    177 ‚îÇ  16,456 ‚îÇ      $7.33 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport data as JSON for further analysis:\nccusage daily --json\n{\n    \"type\": \"daily\",\n    \"data\": [\n        {\n            \"date\": \"2025-06-21\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 33269,\n            \"costUSD\": 17.58\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 277,\n        \"totalOutputTokens\": 31456,\n        \"totalCacheCreationTokens\": 512,\n        \"totalCacheReadTokens\": 1024,\n        \"totalTokens\": 33269,\n        \"totalCostUSD\": 17.58\n    }\n}\n\n\n\nUse cached pricing data without network access:\nccusage daily --offline\n# or short form:\nccusage daily -O\n\n\n\nGroup usage by project instead of aggregating across all projects:\n# Group daily usage by project\nccusage daily --instances\nccusage daily -i\nWhen using --instances, the report shows usage for each project separately:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Project: my-project                                                                                     ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens‚îÇ Cost (USD)‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ    277 ‚îÇ  31,456 ‚îÇ         512‚îÇ      1,024 ‚îÇ      33,269 ‚îÇ     $7.33‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Project: other-project                                                                                  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens‚îÇ Cost (USD)‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ opus-4         ‚îÇ    100 ‚îÇ  15,000 ‚îÇ         256‚îÇ        512 ‚îÇ      15,868 ‚îÇ    $10.25‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\nFilter to a specific project:\n# Show only usage from \"my-project\"\nccusage daily --project my-project\nccusage daily -p my-project\n\n# Combine with instances flag\nccusage daily --instances --project my-project\n\n\n\n\n\n\n# See December 2024 usage\nccusage daily --since 20241201 --until 20241231\n\n\n\n# Sort by cost (highest first)\nccusage daily --order desc\n\n\n\nccusage daily --json &gt; december-usage.json\n\n\n\n# See which models you use most\nccusage daily --breakdown\n\n\n\n# Last 7 days\nccusage daily --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# See usage breakdown by project\nccusage daily --instances\n\n# Track specific project costs\nccusage daily --project my-important-project --since 20250601\n\n# Compare project usage with JSON export\nccusage daily --instances --json &gt; project-analysis.json\n\n\n\nUse project aliases to replace cryptic or long project directory names with readable labels:\n// .ccusage/ccusage.json - Set custom project names for better reporting\n{\n    \"commands\": {\n        \"daily\": {\n            \"projectAliases\": \"uuid-project=Frontend App,long-name=Backend API\"\n        }\n    }\n}\nThe projectAliases setting uses a comma-separated format of original-name=display-name pairs. This is especially useful when:\n\nYour projects have UUID-based names (e.g., a2cd99ed-a586=My App)\nDirectory names are long paths that get truncated\nYou want consistent naming across team reports\n\n# Generate team report with readable project names\nccusage daily --instances --since 20250601\n# Now shows \"Frontend App\" instead of \"uuid-project\"\n\n\n\n\n\nCompact Mode: If your terminal is narrow, expand it to see all columns\nDate Format: Use YYYYMMDD format for date filters (e.g., 20241225)\nRegular Monitoring: Run daily reports regularly to track usage patterns\nJSON Export: Use --json for creating charts or additional analysis\n\n\n\n\n\nMonthly Reports - Aggregate by month\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing windows\nLive Monitoring - Real-time tracking"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#basic-usage",
    "title": "Daily Reports",
    "section": "",
    "text": "Show all daily usage:\nccusage daily\n# or simply:\nccusage\nThe daily command is the default, so you can omit it when running ccusage."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#example-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#example-output",
    "title": "Daily Reports",
    "section": "",
    "text": "Daily usage report showing token usage and costs by date with model breakdown"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#understanding-the-columns",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#understanding-the-columns",
    "title": "Daily Reports",
    "section": "",
    "text": "Date: Calendar date in YYYY-MM-DD format\nModels: Claude models used that day (shown as bulleted list)\nInput: Total input tokens sent to Claude\nOutput: Total output tokens received from Claude\nCost (USD): Estimated cost for that day\n\n\n\n\n\nCache Create: Tokens used to create cache entries\nCache Read: Tokens read from cache (typically cheaper)\n\n\n\n\nccusage automatically adapts to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns\nNarrow terminals (&lt;100 chars): Compact mode with essential columns only"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#command-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#command-options",
    "title": "Daily Reports",
    "section": "",
    "text": "Filter reports by date range:\n# Show usage from December 2024\nccusage daily --since 20241201 --until 20241231\n\n# Show last week\nccusage daily --since 20241215 --until 20241222\n\n# Show usage since a specific date\nccusage daily --since 20241201\n\n\n\nControl the order of dates:\n# Newest dates first (default)\nccusage daily --order desc\n\n# Oldest dates first\nccusage daily --order asc\n\n\n\nControl how costs are calculated:\n# Use pre-calculated costs when available (default)\nccusage daily --mode auto\n\n# Always calculate costs from tokens\nccusage daily --mode calculate\n\n# Only show pre-calculated costs\nccusage daily --mode display\n\n\n\nSee per-model cost breakdown:\nccusage daily --breakdown\nThis shows costs split by individual models:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ opus-4, sonnet-4 ‚îÇ    277 ‚îÇ  31,456 ‚îÇ     $17.58 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4  ‚îÇ                  ‚îÇ    100 ‚îÇ  15,000 ‚îÇ     $10.25 ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4‚îÇ                  ‚îÇ    177 ‚îÇ  16,456 ‚îÇ      $7.33 ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport data as JSON for further analysis:\nccusage daily --json\n{\n    \"type\": \"daily\",\n    \"data\": [\n        {\n            \"date\": \"2025-06-21\",\n            \"models\": [\"claude-opus-4-20250514\", \"claude-sonnet-4-20250514\"],\n            \"inputTokens\": 277,\n            \"outputTokens\": 31456,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 33269,\n            \"costUSD\": 17.58\n        }\n    ],\n    \"summary\": {\n        \"totalInputTokens\": 277,\n        \"totalOutputTokens\": 31456,\n        \"totalCacheCreationTokens\": 512,\n        \"totalCacheReadTokens\": 1024,\n        \"totalTokens\": 33269,\n        \"totalCostUSD\": 17.58\n    }\n}\n\n\n\nUse cached pricing data without network access:\nccusage daily --offline\n# or short form:\nccusage daily -O\n\n\n\nGroup usage by project instead of aggregating across all projects:\n# Group daily usage by project\nccusage daily --instances\nccusage daily -i\nWhen using --instances, the report shows usage for each project separately:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Project: my-project                                                                                     ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens‚îÇ Cost (USD)‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ    277 ‚îÇ  31,456 ‚îÇ         512‚îÇ      1,024 ‚îÇ      33,269 ‚îÇ     $7.33‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Project: other-project                                                                                  ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Date         ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create‚îÇ Cache Read ‚îÇ Total Tokens‚îÇ Cost (USD)‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ opus-4         ‚îÇ    100 ‚îÇ  15,000 ‚îÇ         256‚îÇ        512 ‚îÇ      15,868 ‚îÇ    $10.25‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\nFilter to a specific project:\n# Show only usage from \"my-project\"\nccusage daily --project my-project\nccusage daily -p my-project\n\n# Combine with instances flag\nccusage daily --instances --project my-project"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#common-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#common-use-cases",
    "title": "Daily Reports",
    "section": "",
    "text": "# See December 2024 usage\nccusage daily --since 20241201 --until 20241231\n\n\n\n# Sort by cost (highest first)\nccusage daily --order desc\n\n\n\nccusage daily --json &gt; december-usage.json\n\n\n\n# See which models you use most\nccusage daily --breakdown\n\n\n\n# Last 7 days\nccusage daily --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# See usage breakdown by project\nccusage daily --instances\n\n# Track specific project costs\nccusage daily --project my-important-project --since 20250601\n\n# Compare project usage with JSON export\nccusage daily --instances --json &gt; project-analysis.json\n\n\n\nUse project aliases to replace cryptic or long project directory names with readable labels:\n// .ccusage/ccusage.json - Set custom project names for better reporting\n{\n    \"commands\": {\n        \"daily\": {\n            \"projectAliases\": \"uuid-project=Frontend App,long-name=Backend API\"\n        }\n    }\n}\nThe projectAliases setting uses a comma-separated format of original-name=display-name pairs. This is especially useful when:\n\nYour projects have UUID-based names (e.g., a2cd99ed-a586=My App)\nDirectory names are long paths that get truncated\nYou want consistent naming across team reports\n\n# Generate team report with readable project names\nccusage daily --instances --since 20250601\n# Now shows \"Frontend App\" instead of \"uuid-project\""
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#tips",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#tips",
    "title": "Daily Reports",
    "section": "",
    "text": "Compact Mode: If your terminal is narrow, expand it to see all columns\nDate Format: Use YYYYMMDD format for date filters (e.g., 20241225)\nRegular Monitoring: Run daily reports regularly to track usage patterns\nJSON Export: Use --json for creating charts or additional analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/daily-reports.html#related-commands",
    "title": "Daily Reports",
    "section": "",
    "text": "Monthly Reports - Aggregate by month\nSession Reports - Per-conversation analysis\nBlocks Reports - 5-hour billing windows\nLive Monitoring - Real-time tracking"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html",
    "title": "Getting Started",
    "section": "",
    "text": "Welcome to ccusage! This guide will help you get up and running with analyzing your Claude Code usage data.\n\n\n\nClaude Code installed and used (generates JSONL files)\nNode.js 20+ or Bun runtime\n\n\n\n\nThe fastest way to try ccusage is to run it directly without installation:\n\nbash [npx] npx ccusage@latest\nbash [bunx] bunx ccusage\nbash [pnpm] pnpm dlx ccusage\n\nThis will show your daily usage report by default.\n\n\n\nWhen you run ccusage for the first time, you‚Äôll see a table showing your Claude Code usage by date:\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                          ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Daily  ‚îÇ\n‚îÇ                                          ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models           ‚îÇ  Input ‚îÇ  Output ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  1,234 ‚îÇ  15,678 ‚îÇ    $12.34  ‚îÇ\n‚îÇ 2025-06-20   ‚îÇ ‚Ä¢ opus-4         ‚îÇ    890 ‚îÇ  12,345 ‚îÇ    $18.92  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\n\n\nDate: The date when Claude Code was used\nModels: Which Claude models were used (Sonnet, Opus, etc.)\nInput: Number of input tokens sent to Claude\nOutput: Number of output tokens received from Claude\nCost (USD): Estimated cost based on model pricing\n\n\n\n\nIf you have a wide terminal, you‚Äôll also see cache token columns:\n\nCache Create: Tokens used to create cache entries\nCache Read: Tokens read from cache (typically cheaper)\n\n\n\n\n\nNow that you have your first report, explore these features:\n\nWeekly Reports - Track usage patterns by week\nMonthly Reports - See usage aggregated by month\nSession Reports - Analyze individual conversations\nStatusline - Real-time usage display for Claude Code status bar\nConfiguration - Customize ccusage behavior\n\n\n\n\n\n\nccusage daily --since 20241201 --until 20241231\n\n\n\nccusage session\n\n\n\nccusage monthly --json &gt; usage-data.json\n\n\n\nAdd statusline to your Claude Code settings:\n# Using jq to add statusline configuration\njq '.statusLine = {\"type\": \"command\", \"command\": \"bun x ccusage statusline\", \"padding\": 0}' \\\n  ~/.config/claude/settings.json &gt; tmp.json && mv tmp.json ~/.config/claude/settings.json\n\n\n\n\nccusage automatically colors the output based on the terminal‚Äôs capabilities. If you want to disable colors, you can use the --no-color flag. Or you can use the --color flag to force colors on.\n\n\n\nccusage automatically adjusts its table layout based on terminal width:\n\nWide terminals (‚â•100 characters): Full table with all columns including cache metrics, model names, and detailed breakdowns\nNarrow terminals (&lt;100 characters): Compact view with essential columns only (Date, Models, Input, Output, Cost)\n\nThe layout adjusts automatically based on your terminal width - no configuration needed. If you‚Äôre in compact mode and want to see the full data, simply expand your terminal window.\n\n\n\n\n\nIf ccusage shows no data, check:\n\nClaude Code is installed and used - ccusage reads from Claude Code‚Äôs data files\nData directory exists - Default locations:\n\n~/.config/claude/projects/ (new default)\n~/.claude/projects/ (legacy)\n\n\n\n\n\nIf your Claude data is in a custom location:\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\nccusage daily\n\n\n\n\n\nUse ccusage --help for command options\nVisit our GitHub repository for issues\nCheck the API Reference for programmatic usage"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#prerequisites",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#prerequisites",
    "title": "Getting Started",
    "section": "",
    "text": "Claude Code installed and used (generates JSONL files)\nNode.js 20+ or Bun runtime"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#quick-start",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#quick-start",
    "title": "Getting Started",
    "section": "",
    "text": "The fastest way to try ccusage is to run it directly without installation:\n\nbash [npx] npx ccusage@latest\nbash [bunx] bunx ccusage\nbash [pnpm] pnpm dlx ccusage\n\nThis will show your daily usage report by default."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#your-first-report",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#your-first-report",
    "title": "Getting Started",
    "section": "",
    "text": "When you run ccusage for the first time, you‚Äôll see a table showing your Claude Code usage by date:\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                          ‚îÇ\n‚îÇ  Claude Code Token Usage Report - Daily  ‚îÇ\n‚îÇ                                          ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Date         ‚îÇ Models           ‚îÇ  Input ‚îÇ  Output ‚îÇ Cost (USD) ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ 2025-06-21   ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  1,234 ‚îÇ  15,678 ‚îÇ    $12.34  ‚îÇ\n‚îÇ 2025-06-20   ‚îÇ ‚Ä¢ opus-4         ‚îÇ    890 ‚îÇ  12,345 ‚îÇ    $18.92  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#understanding-the-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#understanding-the-output",
    "title": "Getting Started",
    "section": "",
    "text": "Date: The date when Claude Code was used\nModels: Which Claude models were used (Sonnet, Opus, etc.)\nInput: Number of input tokens sent to Claude\nOutput: Number of output tokens received from Claude\nCost (USD): Estimated cost based on model pricing\n\n\n\n\nIf you have a wide terminal, you‚Äôll also see cache token columns:\n\nCache Create: Tokens used to create cache entries\nCache Read: Tokens read from cache (typically cheaper)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#next-steps",
    "title": "Getting Started",
    "section": "",
    "text": "Now that you have your first report, explore these features:\n\nWeekly Reports - Track usage patterns by week\nMonthly Reports - See usage aggregated by month\nSession Reports - Analyze individual conversations\nStatusline - Real-time usage display for Claude Code status bar\nConfiguration - Customize ccusage behavior"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#common-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#common-use-cases",
    "title": "Getting Started",
    "section": "",
    "text": "ccusage daily --since 20241201 --until 20241231\n\n\n\nccusage session\n\n\n\nccusage monthly --json &gt; usage-data.json\n\n\n\nAdd statusline to your Claude Code settings:\n# Using jq to add statusline configuration\njq '.statusLine = {\"type\": \"command\", \"command\": \"bun x ccusage statusline\", \"padding\": 0}' \\\n  ~/.config/claude/settings.json &gt; tmp.json && mv tmp.json ~/.config/claude/settings.json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#colors",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#colors",
    "title": "Getting Started",
    "section": "",
    "text": "ccusage automatically colors the output based on the terminal‚Äôs capabilities. If you want to disable colors, you can use the --no-color flag. Or you can use the --color flag to force colors on."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#automatic-table-adjustment",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#automatic-table-adjustment",
    "title": "Getting Started",
    "section": "",
    "text": "ccusage automatically adjusts its table layout based on terminal width:\n\nWide terminals (‚â•100 characters): Full table with all columns including cache metrics, model names, and detailed breakdowns\nNarrow terminals (&lt;100 characters): Compact view with essential columns only (Date, Models, Input, Output, Cost)\n\nThe layout adjusts automatically based on your terminal width - no configuration needed. If you‚Äôre in compact mode and want to see the full data, simply expand your terminal window."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#troubleshooting",
    "title": "Getting Started",
    "section": "",
    "text": "If ccusage shows no data, check:\n\nClaude Code is installed and used - ccusage reads from Claude Code‚Äôs data files\nData directory exists - Default locations:\n\n~/.config/claude/projects/ (new default)\n~/.claude/projects/ (legacy)\n\n\n\n\n\nIf your Claude data is in a custom location:\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#getting-help",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/getting-started.html#getting-help",
    "title": "Getting Started",
    "section": "",
    "text": "Use ccusage --help for command options\nVisit our GitHub repository for issues\nCheck the API Reference for programmatic usage"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "Display real-time usage statistics in your Claude Code status line.\n\n\nThe statusline command provides a compact, real-time view of your Claude Code usage, designed to integrate with Claude Code‚Äôs status line hooks. It shows:\n\nüí¨ Current session cost - Cost for your active conversation session\nüí∞ Today‚Äôs total cost - Your cumulative spending for the current day\nüöÄ Current session block - Cost and time remaining in your active 5-hour billing block\nüî• Burn rate - Token consumption rate with visual indicators\nü§ñ Active model - The Claude model you‚Äôre currently using\n\n\n\n\n\n\nAdd this to your ~/.claude/settings.json or ~/.config/claude/settings.json:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline\", // Use \"npx -y ccusage statusline\" if you prefer npm\n        \"padding\": 0 // Optional: set to 0 to let status line go to edge\n    }\n}\nBy default, statusline uses offline mode with cached pricing data for optimal performance.\n\n\n\nIf you need the latest pricing data from LiteLLM API, you can explicitly enable online mode:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --no-offline\", // Fetches latest pricing from API\n        \"padding\": 0\n    }\n}\n\n\n\nYou can enhance the burn rate display with visual indicators:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --visual-burn-rate emoji\", // Add emoji indicators\n        \"padding\": 0\n    }\n}\nSee Visual Burn Rate section for all available options.\n\n\n\nYou can control how session costs are calculated and displayed:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --cost-source both\", // Show both CC and ccusage costs\n        \"padding\": 0\n    }\n}\nSee Cost Source Options section for all available modes.\n\n\n\n\nThe statusline displays a compact, single-line summary:\nü§ñ Opus | üí∞ $0.23 session / $1.23 today / $0.45 block (2h 45m left) | üî• $0.12/hr | üß† 25,000 (12%)\nWhen using --cost-source both, the session cost shows both Claude Code and ccusage calculations:\nü§ñ Opus | üí∞ ($0.25 cc / $0.23 ccusage) session / $1.23 today / $0.45 block (2h 45m left) | üî• $0.12/hr | üß† 25,000 (12%)\n\n\n\nModel (ü§ñ Opus): Currently active Claude model\nSession Cost (üí∞ $0.23 session): Cost for the current conversation session (see Cost Source Options for different calculation modes)\nToday‚Äôs Cost ($1.23 today): Total cost for the current day across all sessions\nSession Block ($0.45 block (2h 45m left)): Current 5-hour block cost with remaining time\nBurn Rate (üî• $0.12/hr): Cost burn rate per hour with color-coded indicators:\n\nGreen text: Normal (&lt; 2,000 tokens/min)\nYellow text: Moderate (2,000-5,000 tokens/min)\nRed text: High (&gt; 5,000 tokens/min)\nOptional visual status indicators (see Visual Burn Rate)\n\nContext Usage (üß† 25,000 (12%)): Shows input tokens with percentage of context limit:\n\nGreen text: Low usage (&lt; 50% by default)\nYellow text: Medium usage (50-80% by default)\nRed text: High usage (&gt; 80% by default)\nUses Claude Code‚Äôs context_window data when available for accurate token counts\n\n\nWhen no active block exists:\nü§ñ Opus | üí∞ $0.00 session / $0.00 today / No active block\n\n\n\n\nThe statusline command:\n\nReads session information from stdin (provided by Claude Code hooks)\nIdentifies the active 5-hour billing block\nCalculates real-time burn rates and projections\nOutputs a single line suitable for status bar display\nUses offline mode by default for instant response times without network dependencies\nCan be configured to use online mode with --no-offline for latest pricing data\n\n\n\n\n‚ö†Ô∏è This feature is currently in beta. More customization options and features are coming soon:\n\nCustom format templates\nConfigurable burn rate thresholds\nAdditional metrics display options\nSession-specific cost tracking\n\n\n\nThe --cost-source option controls how session costs are calculated and displayed:\nAvailable modes:\n\nauto (default): Prefer Claude Code‚Äôs pre-calculated cost when available, fallback to ccusage calculation\nccusage: Always calculate costs using ccusage‚Äôs token-based calculation with LiteLLM pricing\ncc: Always use Claude Code‚Äôs pre-calculated cost from session data\nboth: Display both Claude Code and ccusage costs side by side for comparison\n\nCommand-line usage:\n# Default auto mode\nbun x ccusage statusline\n\n# Always use ccusage calculation\nbun x ccusage statusline --cost-source ccusage\n\n# Always use Claude Code cost\nbun x ccusage statusline --cost-source cc\n\n# Show both costs for comparison\nbun x ccusage statusline --cost-source both\nSettings.json configuration:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --cost-source both\",\n        \"padding\": 0\n    }\n}\nWhen to use each mode:\n\nauto: Best for most users, provides accurate costs with fallback reliability\nccusage: When you want consistent calculation methods across all ccusage commands\ncc: When you trust Claude Code‚Äôs cost calculations and want minimal processing\nboth: For debugging cost discrepancies or comparing calculation methods\n\nOutput differences:\n\nSingle cost modes (auto, ccusage, cc): üí∞ $0.23 session\nBoth mode: üí∞ ($0.25 cc / $0.23 ccusage) session\n\n\n\n\n\n\n\nYou can customize the context usage color thresholds using command-line options or configuration files:\n\n--context-low-threshold - Percentage below which context usage is shown in green (default: 50)\n--context-medium-threshold - Percentage below which context usage is shown in yellow (default: 80)\n\nValidation and Safety Features:\n\nValues are automatically validated to be integers in the 0-100 range\nThe LOW threshold must be less than the MEDIUM threshold\nInvalid configurations will show clear error messages\n\nCommand-line usage:\nbun x ccusage statusline --context-low-threshold 60 --context-medium-threshold 90\nConfiguration file usage: You can also set these options in your configuration file. See the Configuration Guide for more details.\nWith these settings:\n\nGreen: &lt; 60%\nYellow: 60-90%\nRed: &gt; 90%\n\nExample usage in Claude Code settings:\n{\n    \"command\": \"bun x ccusage statusline --context-low-threshold 60 --context-medium-threshold 90\",\n    \"timeout\": 5000\n}\n\n\n\nYou can enhance the burn rate display with visual status indicators using the --visual-burn-rate option:\n# Add to your settings.json command\nbun x ccusage statusline --visual-burn-rate emoji\nAvailable options:\n\noff (default): No visual indicators, only colored text\nemoji: Add emoji indicators (üü¢/‚ö†Ô∏è/üö®)\ntext: Add text status in parentheses (Normal/Moderate/High)\nemoji-text: Combine both emoji and text indicators\n\nExamples:\n# Default (off)\nüî• $0.12/hr\n\n# With emoji\nüî• $0.12/hr üü¢\n\n# With text\nüî• $0.12/hr (Normal)\n\n# With both emoji and text\nüî• $0.12/hr üü¢ (Normal)\nStatus Indicators:\n\nüü¢ Normal (Green)\n‚ö†Ô∏è Moderate (Yellow)\nüö® High (Red)\n\n\n\n\n\n\n\nIf the statusline doesn‚Äôt show:\n\nVerify ccusage is in your PATH\nCheck Claude Code logs for any errors\nEnsure you have valid usage data in your Claude data directory\n\n\n\n\nIf costs seem incorrect:\n\nThe command uses the same cost calculation as other ccusage commands\nVerify with ccusage daily or ccusage blocks for detailed breakdowns\n\n\n\n\n\n\nblocks - Detailed 5-hour billing block analysis\ndaily - Daily usage reports\nsession - Session-based usage analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#overview",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "The statusline command provides a compact, real-time view of your Claude Code usage, designed to integrate with Claude Code‚Äôs status line hooks. It shows:\n\nüí¨ Current session cost - Cost for your active conversation session\nüí∞ Today‚Äôs total cost - Your cumulative spending for the current day\nüöÄ Current session block - Cost and time remaining in your active 5-hour billing block\nüî• Burn rate - Token consumption rate with visual indicators\nü§ñ Active model - The Claude model you‚Äôre currently using"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#setup",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#setup",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "Add this to your ~/.claude/settings.json or ~/.config/claude/settings.json:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline\", // Use \"npx -y ccusage statusline\" if you prefer npm\n        \"padding\": 0 // Optional: set to 0 to let status line go to edge\n    }\n}\nBy default, statusline uses offline mode with cached pricing data for optimal performance.\n\n\n\nIf you need the latest pricing data from LiteLLM API, you can explicitly enable online mode:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --no-offline\", // Fetches latest pricing from API\n        \"padding\": 0\n    }\n}\n\n\n\nYou can enhance the burn rate display with visual indicators:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --visual-burn-rate emoji\", // Add emoji indicators\n        \"padding\": 0\n    }\n}\nSee Visual Burn Rate section for all available options.\n\n\n\nYou can control how session costs are calculated and displayed:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --cost-source both\", // Show both CC and ccusage costs\n        \"padding\": 0\n    }\n}\nSee Cost Source Options section for all available modes."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#output-format",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#output-format",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "The statusline displays a compact, single-line summary:\nü§ñ Opus | üí∞ $0.23 session / $1.23 today / $0.45 block (2h 45m left) | üî• $0.12/hr | üß† 25,000 (12%)\nWhen using --cost-source both, the session cost shows both Claude Code and ccusage calculations:\nü§ñ Opus | üí∞ ($0.25 cc / $0.23 ccusage) session / $1.23 today / $0.45 block (2h 45m left) | üî• $0.12/hr | üß† 25,000 (12%)\n\n\n\nModel (ü§ñ Opus): Currently active Claude model\nSession Cost (üí∞ $0.23 session): Cost for the current conversation session (see Cost Source Options for different calculation modes)\nToday‚Äôs Cost ($1.23 today): Total cost for the current day across all sessions\nSession Block ($0.45 block (2h 45m left)): Current 5-hour block cost with remaining time\nBurn Rate (üî• $0.12/hr): Cost burn rate per hour with color-coded indicators:\n\nGreen text: Normal (&lt; 2,000 tokens/min)\nYellow text: Moderate (2,000-5,000 tokens/min)\nRed text: High (&gt; 5,000 tokens/min)\nOptional visual status indicators (see Visual Burn Rate)\n\nContext Usage (üß† 25,000 (12%)): Shows input tokens with percentage of context limit:\n\nGreen text: Low usage (&lt; 50% by default)\nYellow text: Medium usage (50-80% by default)\nRed text: High usage (&gt; 80% by default)\nUses Claude Code‚Äôs context_window data when available for accurate token counts\n\n\nWhen no active block exists:\nü§ñ Opus | üí∞ $0.00 session / $0.00 today / No active block"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#technical-details",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#technical-details",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "The statusline command:\n\nReads session information from stdin (provided by Claude Code hooks)\nIdentifies the active 5-hour billing block\nCalculates real-time burn rates and projections\nOutputs a single line suitable for status bar display\nUses offline mode by default for instant response times without network dependencies\nCan be configured to use online mode with --no-offline for latest pricing data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#beta-notice",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#beta-notice",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "‚ö†Ô∏è This feature is currently in beta. More customization options and features are coming soon:\n\nCustom format templates\nConfigurable burn rate thresholds\nAdditional metrics display options\nSession-specific cost tracking\n\n\n\nThe --cost-source option controls how session costs are calculated and displayed:\nAvailable modes:\n\nauto (default): Prefer Claude Code‚Äôs pre-calculated cost when available, fallback to ccusage calculation\nccusage: Always calculate costs using ccusage‚Äôs token-based calculation with LiteLLM pricing\ncc: Always use Claude Code‚Äôs pre-calculated cost from session data\nboth: Display both Claude Code and ccusage costs side by side for comparison\n\nCommand-line usage:\n# Default auto mode\nbun x ccusage statusline\n\n# Always use ccusage calculation\nbun x ccusage statusline --cost-source ccusage\n\n# Always use Claude Code cost\nbun x ccusage statusline --cost-source cc\n\n# Show both costs for comparison\nbun x ccusage statusline --cost-source both\nSettings.json configuration:\n{\n    \"statusLine\": {\n        \"type\": \"command\",\n        \"command\": \"bun x ccusage statusline --cost-source both\",\n        \"padding\": 0\n    }\n}\nWhen to use each mode:\n\nauto: Best for most users, provides accurate costs with fallback reliability\nccusage: When you want consistent calculation methods across all ccusage commands\ncc: When you trust Claude Code‚Äôs cost calculations and want minimal processing\nboth: For debugging cost discrepancies or comparing calculation methods\n\nOutput differences:\n\nSingle cost modes (auto, ccusage, cc): üí∞ $0.23 session\nBoth mode: üí∞ ($0.25 cc / $0.23 ccusage) session"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#configuration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#configuration",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "You can customize the context usage color thresholds using command-line options or configuration files:\n\n--context-low-threshold - Percentage below which context usage is shown in green (default: 50)\n--context-medium-threshold - Percentage below which context usage is shown in yellow (default: 80)\n\nValidation and Safety Features:\n\nValues are automatically validated to be integers in the 0-100 range\nThe LOW threshold must be less than the MEDIUM threshold\nInvalid configurations will show clear error messages\n\nCommand-line usage:\nbun x ccusage statusline --context-low-threshold 60 --context-medium-threshold 90\nConfiguration file usage: You can also set these options in your configuration file. See the Configuration Guide for more details.\nWith these settings:\n\nGreen: &lt; 60%\nYellow: 60-90%\nRed: &gt; 90%\n\nExample usage in Claude Code settings:\n{\n    \"command\": \"bun x ccusage statusline --context-low-threshold 60 --context-medium-threshold 90\",\n    \"timeout\": 5000\n}\n\n\n\nYou can enhance the burn rate display with visual status indicators using the --visual-burn-rate option:\n# Add to your settings.json command\nbun x ccusage statusline --visual-burn-rate emoji\nAvailable options:\n\noff (default): No visual indicators, only colored text\nemoji: Add emoji indicators (üü¢/‚ö†Ô∏è/üö®)\ntext: Add text status in parentheses (Normal/Moderate/High)\nemoji-text: Combine both emoji and text indicators\n\nExamples:\n# Default (off)\nüî• $0.12/hr\n\n# With emoji\nüî• $0.12/hr üü¢\n\n# With text\nüî• $0.12/hr (Normal)\n\n# With both emoji and text\nüî• $0.12/hr üü¢ (Normal)\nStatus Indicators:\n\nüü¢ Normal (Green)\n‚ö†Ô∏è Moderate (Yellow)\nüö® High (Red)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#troubleshooting",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "If the statusline doesn‚Äôt show:\n\nVerify ccusage is in your PATH\nCheck Claude Code logs for any errors\nEnsure you have valid usage data in your Claude data directory\n\n\n\n\nIf costs seem incorrect:\n\nThe command uses the same cost calculation as other ccusage commands\nVerify with ccusage daily or ccusage blocks for detailed breakdowns"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/statusline.html#related-commands",
    "title": "Statusline Integration (Beta) üöÄ",
    "section": "",
    "text": "blocks - Detailed 5-hour billing block analysis\ndaily - Daily usage reports\nsession - Session-based usage analysis"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html",
    "title": "Related Projects",
    "section": "",
    "text": "Projects that use ccusage internally or extend its functionality:\n\n\n\nclaude-usage-tracker-for-mac - macOS menu bar app for tracking Claude usage\nClaudeCode_Dashboard - Web dashboard with charts and visualizations\nCcusage App - Native application to display ccusage data in graphs and visualizations\nCCOwl - A cross-platform status bar application that monitors Claude Code usage in real-time.\n\n\n\n\n\nccusage Raycast Extension - Raycast integration for quick usage checks\nccusage.nvim - Track Claude Code usage in Neovim\n\n\n\n\n\nviberank - A community-driven leaderboard for Claude Code usage. (GitHub)\n\n\n\n\nIf you‚Äôve built something that uses ccusage, please feel free to open a pull request to add it to this list!"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#desktop-applications",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#desktop-applications",
    "title": "Related Projects",
    "section": "",
    "text": "claude-usage-tracker-for-mac - macOS menu bar app for tracking Claude usage\nClaudeCode_Dashboard - Web dashboard with charts and visualizations\nCcusage App - Native application to display ccusage data in graphs and visualizations\nCCOwl - A cross-platform status bar application that monitors Claude Code usage in real-time."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#extensions-integrations",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#extensions-integrations",
    "title": "Related Projects",
    "section": "",
    "text": "ccusage Raycast Extension - Raycast integration for quick usage checks\nccusage.nvim - Track Claude Code usage in Neovim"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#web-applications",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#web-applications",
    "title": "Related Projects",
    "section": "",
    "text": "viberank - A community-driven leaderboard for Claude Code usage. (GitHub)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#contributing",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/related-projects.html#contributing",
    "title": "Related Projects",
    "section": "",
    "text": "If you‚Äôve built something that uses ccusage, please feel free to open a pull request to add it to this list!"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html",
    "title": "Session Reports",
    "section": "",
    "text": "Session reports show your Claude Code usage grouped by individual conversation sessions, making it easy to identify which conversations consumed the most tokens and cost the most.\n\n\nccusage session\n\n\n\nQuery individual session details by providing a session ID:\nccusage session --id &lt;session-id&gt;\nThis is particularly useful for:\n\nCustom statuslines: Integrate specific session data into your development environment\nProgrammatic usage: Extract session metrics for scripts and automation\nDetailed analysis: Get comprehensive data about a single conversation\n\n\n\n# Get session data in table format\nccusage session --id session-abc123-def456\n\n# Get session data as JSON for scripting\nccusage session --id session-abc123-def456 --json\n\n# Extract just the cost using jq\nccusage session --id session-abc123-def456 --json --jq '.totalCost'\n\n# Use in a custom statusline script\nCOST=$(ccusage session --id \"$SESSION_ID\" --json --jq '.totalCost')\necho \"Current session: \\$${COST}\"\n\n\n\nSession IDs are the actual filenames (without .jsonl extension) stored in Claude‚Äôs data directories. They typically look like:\n\nsession-20250621-abc123-def456\nproject-conversation-xyz789\n\nYou can find session IDs by running ccusage session and looking for the files in your Claude data directory.\n\n\n\n\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                               ‚îÇ\n‚îÇ  Claude Code Token Usage Report - By Session  ‚îÇ\n‚îÇ                                               ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ Last Activity ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ abc123-def ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 350,846 ‚îÇ          512 ‚îÇ      1,024 ‚îÇ      356,894 ‚îÇ    $156.40 ‚îÇ 2025-06-21    ‚îÇ\n‚îÇ            ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ               ‚îÇ\n‚îÇ ghi456-jkl ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,775 ‚îÇ 186,645 ‚îÇ          256 ‚îÇ        768 ‚îÇ      190,444 ‚îÇ     $98.45 ‚îÇ 2025-06-20    ‚îÇ\n‚îÇ mno789-pqr ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ          128 ‚îÇ        512 ‚îÇ      185,582 ‚îÇ     $81.73 ‚îÇ 2025-06-19    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total      ‚îÇ                  ‚îÇ  9,174 ‚îÇ 720,546 ‚îÇ          896 ‚îÇ      2,304 ‚îÇ      732,920 ‚îÇ    $336.58 ‚îÇ               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\n\n\nSessions are displayed using the last two segments of their full identifier:\n\nFull session ID: project-20250621-session-abc123-def456\nDisplayed as: abc123-def\n\n\n\n\n\nInput/Output Tokens: Total tokens exchanged in the conversation\nCache Tokens: Cache creation and read tokens for context efficiency\nCost: Estimated USD cost for the entire conversation\nLast Activity: Date of the most recent message in the session\n\n\n\n\nSessions are sorted by cost (highest first) by default, making it easy to identify your most expensive conversations.\n\n\n\n\n\n\nGet detailed information about a specific session:\n# Query a specific session by ID\nccusage session --id &lt;session-id&gt;\n\n# Get JSON output for a specific session\nccusage session --id &lt;session-id&gt; --json\n\n# Short form using -i flag\nccusage session -i &lt;session-id&gt;\nUse cases:\n\nBuilding custom statuslines that show current session costs\nCreating scripts that monitor specific conversation expenses\nDebugging or analyzing individual conversation patterns\nIntegrating session data into development workflows\n\n\n\n\nFilter sessions by their last activity date:\n# Show sessions active since May 25th\nccusage session --since 20250525\n\n# Show sessions active in a specific date range\nccusage session --since 20250520 --until 20250530\n\n# Show only recent sessions (last week)\nccusage session --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# Use pre-calculated costs when available (default)\nccusage session --mode auto\n\n# Always calculate costs from tokens\nccusage session --mode calculate\n\n# Only show pre-calculated costs\nccusage session --mode display\n\n\n\nSee per-model cost breakdown within each session:\nccusage session --breakdown\nExample with breakdown:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ Last Activity ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ abc123-def ‚îÇ opus-4, sonnet-4 ‚îÇ  4,512 ‚îÇ 350,846 ‚îÇ    $156.40 ‚îÇ 2025-06-21    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4‚îÇ                  ‚îÇ  2,000 ‚îÇ 200,000 ‚îÇ     $95.50 ‚îÇ               ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4                 ‚îÇ  2,512 ‚îÇ 150,846 ‚îÇ     $60.90 ‚îÇ               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport session data as JSON for further analysis:\nccusage session --json\n{\n    \"sessions\": [\n        {\n            \"sessionId\": \"abc123-def\",\n            \"inputTokens\": 4512,\n            \"outputTokens\": 350846,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 356894,\n            \"totalCost\": 156.4,\n            \"lastActivity\": \"2025-06-21\",\n            \"modelsUsed\": [\"opus-4\", \"sonnet-4\"],\n            \"modelBreakdowns\": [\n                {\n                    \"model\": \"opus-4\",\n                    \"inputTokens\": 2000,\n                    \"outputTokens\": 200000,\n                    \"totalCost\": 95.5\n                }\n            ]\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 9174,\n        \"outputTokens\": 720546,\n        \"totalCost\": 336.58\n    }\n}\n\n\n\nUse cached pricing data without network access:\nccusage session --offline\n# or short form:\nccusage session -O\n\n\n\n\n\n\nSession reports help you understand which conversations are most costly:\nccusage session\nLook at the top sessions to understand:\n\nWhich types of conversations cost the most\nWhether long coding sessions or research tasks are more expensive\nHow model choice (Opus vs Sonnet) affects costs\n\n\n\n\n# See recent conversation activity\nccusage session --since 20250615\n\n# Compare different time periods\nccusage session --since 20250601 --until 20250615  # First half of month\nccusage session --since 20250616 --until 20250630  # Second half of month\n\n\n\n# See which models you use in different conversations\nccusage session --breakdown\nThis helps understand:\n\nWhether you prefer Opus for complex tasks\nIf Sonnet is sufficient for routine work\nHow model mixing affects total costs\n\n\n\n\n# Export data for spreadsheet analysis\nccusage session --json &gt; sessions.json\n\n# Find sessions above a certain cost threshold\nccusage session --json | jq '.sessions[] | select(.totalCost &gt; 50)'\n\n\n\n\n\n\nSession costs help you understand:\n\nConversation Value: High-cost sessions should provide proportional value\nEfficiency Patterns: Some conversation styles may be more token-efficient\nModel Selection: Whether your model choices align with task complexity\n\n\n\n\nUse session data to:\n\nIdentify expensive patterns: What makes some conversations cost more?\nOptimize conversation flow: Break long sessions into smaller focused chats\nChoose appropriate models: Use Sonnet for simpler tasks, Opus for complex ones\n\n\n\n\nSession analysis helps with:\n\nConversation budgeting: Understanding typical session costs\nUsage forecasting: Predicting monthly costs based on session patterns\nValue assessment: Ensuring expensive sessions provide good value\n\n\n\n\nCompare sessions to understand:\n\nTask types: Coding vs writing vs research costs\nModel effectiveness: Whether Opus provides value over Sonnet\nTime patterns: Whether longer sessions are more or less efficient\n\n\n\n\n\nSession reports adapt to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns including cache metrics\nNarrow terminals (&lt;100 chars): Compact mode with essential columns (Session, Models, Input, Output, Cost, Last Activity)\n\nWhen in compact mode, ccusage displays a message explaining how to see the full data.\n\n\n\n\nDaily Reports - Usage aggregated by date\nMonthly Reports - Monthly summaries\nBlocks Reports - 5-hour billing windows\nLive Monitoring - Real-time session tracking\n\n\n\n\nAfter analyzing session patterns, consider:\n\nBlocks Reports to understand timing within 5-hour windows\nLive Monitoring to track active conversations in real-time\nDaily Reports to see how session patterns vary by day"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#basic-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#basic-usage",
    "title": "Session Reports",
    "section": "",
    "text": "ccusage session"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#specific-session-lookup",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#specific-session-lookup",
    "title": "Session Reports",
    "section": "",
    "text": "Query individual session details by providing a session ID:\nccusage session --id &lt;session-id&gt;\nThis is particularly useful for:\n\nCustom statuslines: Integrate specific session data into your development environment\nProgrammatic usage: Extract session metrics for scripts and automation\nDetailed analysis: Get comprehensive data about a single conversation\n\n\n\n# Get session data in table format\nccusage session --id session-abc123-def456\n\n# Get session data as JSON for scripting\nccusage session --id session-abc123-def456 --json\n\n# Extract just the cost using jq\nccusage session --id session-abc123-def456 --json --jq '.totalCost'\n\n# Use in a custom statusline script\nCOST=$(ccusage session --id \"$SESSION_ID\" --json --jq '.totalCost')\necho \"Current session: \\$${COST}\"\n\n\n\nSession IDs are the actual filenames (without .jsonl extension) stored in Claude‚Äôs data directories. They typically look like:\n\nsession-20250621-abc123-def456\nproject-conversation-xyz789\n\nYou can find session IDs by running ccusage session and looking for the files in your Claude data directory."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#example-output",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#example-output",
    "title": "Session Reports",
    "section": "",
    "text": "‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ                                               ‚îÇ\n‚îÇ  Claude Code Token Usage Report - By Session  ‚îÇ\n‚îÇ                                               ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ Last Activity ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ abc123-def ‚îÇ ‚Ä¢ opus-4         ‚îÇ  4,512 ‚îÇ 350,846 ‚îÇ          512 ‚îÇ      1,024 ‚îÇ      356,894 ‚îÇ    $156.40 ‚îÇ 2025-06-21    ‚îÇ\n‚îÇ            ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ        ‚îÇ         ‚îÇ              ‚îÇ            ‚îÇ              ‚îÇ            ‚îÇ               ‚îÇ\n‚îÇ ghi456-jkl ‚îÇ ‚Ä¢ sonnet-4       ‚îÇ  2,775 ‚îÇ 186,645 ‚îÇ          256 ‚îÇ        768 ‚îÇ      190,444 ‚îÇ     $98.45 ‚îÇ 2025-06-20    ‚îÇ\n‚îÇ mno789-pqr ‚îÇ ‚Ä¢ opus-4         ‚îÇ  1,887 ‚îÇ 183,055 ‚îÇ          128 ‚îÇ        512 ‚îÇ      185,582 ‚îÇ     $81.73 ‚îÇ 2025-06-19    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ Total      ‚îÇ                  ‚îÇ  9,174 ‚îÇ 720,546 ‚îÇ          896 ‚îÇ      2,304 ‚îÇ      732,920 ‚îÇ    $336.58 ‚îÇ               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#understanding-session-data",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#understanding-session-data",
    "title": "Session Reports",
    "section": "",
    "text": "Sessions are displayed using the last two segments of their full identifier:\n\nFull session ID: project-20250621-session-abc123-def456\nDisplayed as: abc123-def\n\n\n\n\n\nInput/Output Tokens: Total tokens exchanged in the conversation\nCache Tokens: Cache creation and read tokens for context efficiency\nCost: Estimated USD cost for the entire conversation\nLast Activity: Date of the most recent message in the session\n\n\n\n\nSessions are sorted by cost (highest first) by default, making it easy to identify your most expensive conversations."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#command-options",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#command-options",
    "title": "Session Reports",
    "section": "",
    "text": "Get detailed information about a specific session:\n# Query a specific session by ID\nccusage session --id &lt;session-id&gt;\n\n# Get JSON output for a specific session\nccusage session --id &lt;session-id&gt; --json\n\n# Short form using -i flag\nccusage session -i &lt;session-id&gt;\nUse cases:\n\nBuilding custom statuslines that show current session costs\nCreating scripts that monitor specific conversation expenses\nDebugging or analyzing individual conversation patterns\nIntegrating session data into development workflows\n\n\n\n\nFilter sessions by their last activity date:\n# Show sessions active since May 25th\nccusage session --since 20250525\n\n# Show sessions active in a specific date range\nccusage session --since 20250520 --until 20250530\n\n# Show only recent sessions (last week)\nccusage session --since $(date -d '7 days ago' +%Y%m%d)\n\n\n\n# Use pre-calculated costs when available (default)\nccusage session --mode auto\n\n# Always calculate costs from tokens\nccusage session --mode calculate\n\n# Only show pre-calculated costs\nccusage session --mode display\n\n\n\nSee per-model cost breakdown within each session:\nccusage session --breakdown\nExample with breakdown:\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Session    ‚îÇ Models           ‚îÇ Input  ‚îÇ Output  ‚îÇ Cost (USD) ‚îÇ Last Activity ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ abc123-def ‚îÇ opus-4, sonnet-4 ‚îÇ  4,512 ‚îÇ 350,846 ‚îÇ    $156.40 ‚îÇ 2025-06-21    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ opus-4‚îÇ                  ‚îÇ  2,000 ‚îÇ 200,000 ‚îÇ     $95.50 ‚îÇ               ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ   ‚îî‚îÄ sonnet-4                 ‚îÇ  2,512 ‚îÇ 150,846 ‚îÇ     $60.90 ‚îÇ               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n\n\nExport session data as JSON for further analysis:\nccusage session --json\n{\n    \"sessions\": [\n        {\n            \"sessionId\": \"abc123-def\",\n            \"inputTokens\": 4512,\n            \"outputTokens\": 350846,\n            \"cacheCreationTokens\": 512,\n            \"cacheReadTokens\": 1024,\n            \"totalTokens\": 356894,\n            \"totalCost\": 156.4,\n            \"lastActivity\": \"2025-06-21\",\n            \"modelsUsed\": [\"opus-4\", \"sonnet-4\"],\n            \"modelBreakdowns\": [\n                {\n                    \"model\": \"opus-4\",\n                    \"inputTokens\": 2000,\n                    \"outputTokens\": 200000,\n                    \"totalCost\": 95.5\n                }\n            ]\n        }\n    ],\n    \"totals\": {\n        \"inputTokens\": 9174,\n        \"outputTokens\": 720546,\n        \"totalCost\": 336.58\n    }\n}\n\n\n\nUse cached pricing data without network access:\nccusage session --offline\n# or short form:\nccusage session -O"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#analysis-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#analysis-use-cases",
    "title": "Session Reports",
    "section": "",
    "text": "Session reports help you understand which conversations are most costly:\nccusage session\nLook at the top sessions to understand:\n\nWhich types of conversations cost the most\nWhether long coding sessions or research tasks are more expensive\nHow model choice (Opus vs Sonnet) affects costs\n\n\n\n\n# See recent conversation activity\nccusage session --since 20250615\n\n# Compare different time periods\nccusage session --since 20250601 --until 20250615  # First half of month\nccusage session --since 20250616 --until 20250630  # Second half of month\n\n\n\n# See which models you use in different conversations\nccusage session --breakdown\nThis helps understand:\n\nWhether you prefer Opus for complex tasks\nIf Sonnet is sufficient for routine work\nHow model mixing affects total costs\n\n\n\n\n# Export data for spreadsheet analysis\nccusage session --json &gt; sessions.json\n\n# Find sessions above a certain cost threshold\nccusage session --json | jq '.sessions[] | select(.totalCost &gt; 50)'"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#tips-for-session-analysis",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#tips-for-session-analysis",
    "title": "Session Reports",
    "section": "",
    "text": "Session costs help you understand:\n\nConversation Value: High-cost sessions should provide proportional value\nEfficiency Patterns: Some conversation styles may be more token-efficient\nModel Selection: Whether your model choices align with task complexity\n\n\n\n\nUse session data to:\n\nIdentify expensive patterns: What makes some conversations cost more?\nOptimize conversation flow: Break long sessions into smaller focused chats\nChoose appropriate models: Use Sonnet for simpler tasks, Opus for complex ones\n\n\n\n\nSession analysis helps with:\n\nConversation budgeting: Understanding typical session costs\nUsage forecasting: Predicting monthly costs based on session patterns\nValue assessment: Ensuring expensive sessions provide good value\n\n\n\n\nCompare sessions to understand:\n\nTask types: Coding vs writing vs research costs\nModel effectiveness: Whether Opus provides value over Sonnet\nTime patterns: Whether longer sessions are more or less efficient"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#responsive-display",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#responsive-display",
    "title": "Session Reports",
    "section": "",
    "text": "Session reports adapt to your terminal width:\n\nWide terminals (‚â•100 chars): Shows all columns including cache metrics\nNarrow terminals (&lt;100 chars): Compact mode with essential columns (Session, Models, Input, Output, Cost, Last Activity)\n\nWhen in compact mode, ccusage displays a message explaining how to see the full data."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#related-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#related-commands",
    "title": "Session Reports",
    "section": "",
    "text": "Daily Reports - Usage aggregated by date\nMonthly Reports - Monthly summaries\nBlocks Reports - 5-hour billing windows\nLive Monitoring - Real-time session tracking"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/session-reports.html#next-steps",
    "title": "Session Reports",
    "section": "",
    "text": "After analyzing session patterns, consider:\n\nBlocks Reports to understand timing within 5-hour windows\nLive Monitoring to track active conversations in real-time\nDaily Reports to see how session patterns vary by day"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html",
    "title": "Custom Paths",
    "section": "",
    "text": "ccusage supports flexible path configuration to handle various Claude Code installation scenarios and custom data locations.\n\n\nBy default, ccusage automatically detects Claude Code data in standard locations. However, you can customize these paths for:\n\nMultiple Claude installations - Different versions or profiles\nCustom data locations - Non-standard installation directories\nShared environments - Team or organization setups\nBackup/archive analysis - Analyzing historical data from different locations\n\n\n\n\nThe primary method for specifying custom paths is the CLAUDE_CONFIG_DIR environment variable.\n\n\nSpecify one custom directory:\n# Set environment variable\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\n\n# Use with any command\nccusage daily\nccusage monthly --breakdown\nccusage blocks --live\nExample scenarios:\n# Custom installation location\nexport CLAUDE_CONFIG_DIR=\"/opt/claude-code/.claude\"\n\n# User-specific directory\nexport CLAUDE_CONFIG_DIR=\"/home/username/Documents/claude-data\"\n\n# Network drive\nexport CLAUDE_CONFIG_DIR=\"/mnt/shared/claude-usage\"\n\n\n\nSpecify multiple directories separated by commas:\n# Multiple installations\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\n# Current and archived data\nexport CLAUDE_CONFIG_DIR=\"~/.claude,/backup/claude-archive\"\n\n# Team member data aggregation\nexport CLAUDE_CONFIG_DIR=\"/team/alice/.claude,/team/bob/.claude,/team/charlie/.claude\"\nWhen multiple paths are specified:\n\n‚úÖ Data aggregation - Usage from all paths is automatically combined\n‚úÖ Automatic filtering - Invalid or empty directories are silently skipped\n‚úÖ Consistent reporting - All reports show unified data across paths\n\n\n\n\n\n\n\nWhen CLAUDE_CONFIG_DIR is not set, ccusage searches these locations automatically:\n\n~/.config/claude/projects/ - New default (Claude Code v1.0.30+)\n~/.claude/projects/ - Legacy location (pre-v1.0.30)\n\n\n\n\n::: info Breaking Change Claude Code v1.0.30 moved data from ~/.claude to ~/.config/claude without documentation. ccusage handles both locations automatically for seamless compatibility. :::\n\n\nScenario 1: Fresh Installation\n# Claude Code v1.0.30+ - uses new location\nls ~/.config/claude/projects/\n\n# ccusage automatically finds data\nccusage daily\nScenario 2: Upgraded Installation\n# Old data still exists\nls ~/.claude/projects/\n\n# New data in new location\nls ~/.config/claude/projects/\n\n# ccusage combines both automatically\nccusage daily  # Shows data from both locations\nScenario 3: Manual Migration\n# If you moved data manually\nexport CLAUDE_CONFIG_DIR=\"/custom/location/claude\"\nccusage daily\n\n\n\n\n\n\n\nccusage expects this directory structure:\nclaude-data-directory/\n‚îú‚îÄ‚îÄ projects/\n‚îÇ   ‚îú‚îÄ‚îÄ project-1/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ session-1/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file1.jsonl\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ file2.jsonl\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session-2/\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ file3.jsonl\n‚îÇ   ‚îî‚îÄ‚îÄ project-2/\n‚îÇ       ‚îî‚îÄ‚îÄ session-3/\n‚îÇ           ‚îî‚îÄ‚îÄ file4.jsonl\n\n\n\nccusage validates paths by checking:\n\nDirectory exists and is readable\nContains projects/ subdirectory\nHas JSONL files in the expected structure\n\nInvalid paths are automatically skipped with debug information available.\n\n\n\n\n\n\nIf you use multiple Claude profiles or installations:\n# Work profile\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-work\"\n\n# Personal profile\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-personal\"\n\n# Combined analysis\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-work,/Users/username/.config/claude-personal\"\n\n\n\nFor team usage analysis:\n# Individual analysis\nexport CLAUDE_CONFIG_DIR=\"/shared/claude-data/$USER\"\nccusage daily\n\n# Team aggregate\nexport CLAUDE_CONFIG_DIR=\"/shared/claude-data/alice,/shared/claude-data/bob\"\nccusage monthly --breakdown\n\n\n\nSeparate environments:\n# Development environment\nexport CLAUDE_CONFIG_DIR=\"/dev/claude-data\"\nccusage daily --since 20250101\n\n# Production environment\nexport CLAUDE_CONFIG_DIR=\"/prod/claude-data\"\nccusage daily --since 20250101\n\n\n\nAnalyzing archived or backup data:\n# Current month\nexport CLAUDE_CONFIG_DIR=\"~/.config/claude\"\nccusage monthly\n\n# Compare with previous month backup\nexport CLAUDE_CONFIG_DIR=\"/backup/claude-2024-12\"\nccusage monthly --since 20241201 --until 20241231\n\n# Combined analysis\nexport CLAUDE_CONFIG_DIR=\"~/.config/claude,/backup/claude-2024-12\"\nccusage monthly --since 20241201\n\n\n\n\n\n\n\n\nAdd to ~/.bashrc, ~/.zshrc, or ~/.profile:\n# Default Claude data directory\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\n# Or multiple directories\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude,$HOME/.claude\"\n\n\n\nAdd to ~/.config/fish/config.fish:\n# Default Claude data directory\nset -gx CLAUDE_CONFIG_DIR \"$HOME/.config/claude\"\n\n# Or multiple directories\nset -gx CLAUDE_CONFIG_DIR \"$HOME/.config/claude,$HOME/.claude\"\n\n\n\n\nFor one-time analysis without changing environment:\n# Temporary override for single command\nCLAUDE_CONFIG_DIR=\"/tmp/claude-backup\" ccusage daily\n\n# Multiple commands with temporary override\n(\n  export CLAUDE_CONFIG_DIR=\"/archive/claude-2024\"\n  ccusage daily --json &gt; 2024-report.json\n  ccusage monthly --breakdown &gt; 2024-monthly.txt\n)\n\n\n\nCreate convenient aliases:\n# ~/.bashrc or ~/.zshrc\nalias ccu-work=\"CLAUDE_CONFIG_DIR='/work/claude' ccusage\"\nalias ccu-personal=\"CLAUDE_CONFIG_DIR='/personal/claude' ccusage\"\nalias ccu-archive=\"CLAUDE_CONFIG_DIR='/archive/claude' ccusage\"\n\n# Usage\nccu-work daily\nccu-personal monthly --breakdown\nccu-archive session --since 20240101\nOr use functions for more complex setups:\n# Function to analyze specific time periods\nccu-period() {\n  local period=$1\n  local path=\"/archive/claude-$period\"\n\n  if [[ -d \"$path\" ]]; then\n    CLAUDE_CONFIG_DIR=\"$path\" ccusage daily --since \"${period}01\" --until \"${period}31\"\n  else\n    echo \"Archive not found: $path\"\n  fi\n}\n\n# Usage\nccu-period 202412  # December 2024\nccu-period 202501  # January 2025\n\n\n\n\nWhen using the standalone MCP CLI with custom paths:\n\n\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/path/to/your/claude/data\"\n            }\n        },\n        \"ccusage-archive\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/archive/claude-2024,/archive/claude-2025\"\n            }\n        }\n    }\n}\nThis allows you to have multiple MCP servers analyzing different data sets.\n\n\n\n\n\n\nCheck if your custom path is valid:\n# Test path manually\nls -la \"$CLAUDE_CONFIG_DIR/projects/\"\n\n# Run with debug output\nccusage daily --debug\n\n\n\n\n\n# Error: Directory doesn't exist\nexport CLAUDE_CONFIG_DIR=\"/nonexistent/path\"\nccusage daily\n# Result: No data found\n\n# Solution: Verify path exists\nls -la /nonexistent/path\n\n\n\n# Error: Permission denied\nexport CLAUDE_CONFIG_DIR=\"/root/.claude\"\nccusage daily  # May fail if no read permission\n\n# Solution: Check permissions\nls -la /root/.claude\n\n\n\n# Wrong: Using semicolon or space\nexport CLAUDE_CONFIG_DIR=\"/path1;/path2\"  # ‚ùå\nexport CLAUDE_CONFIG_DIR=\"/path1 /path2\"  # ‚ùå\n\n# Correct: Using comma\nexport CLAUDE_CONFIG_DIR=\"/path1,/path2\"  # ‚úÖ\n\n\n\n# Wrong structure\n/custom/claude/\n‚îú‚îÄ‚îÄ file1.jsonl  # ‚ùå Files in wrong location\n‚îî‚îÄ‚îÄ data/\n    ‚îî‚îÄ‚îÄ file2.jsonl\n\n# Correct structure\n/custom/claude/\n‚îî‚îÄ‚îÄ projects/\n    ‚îî‚îÄ‚îÄ project1/\n        ‚îî‚îÄ‚îÄ session1/\n            ‚îî‚îÄ‚îÄ file1.jsonl\n\n\n\n\nUse debug mode to troubleshoot path issues:\nccusage daily --debug\n\n# Shows:\n# - Which paths are being searched\n# - Which paths are valid/invalid\n# - How many files are found in each path\n# - Any permission or structure issues\n\n\n\n\n\n\nWhen using multiple paths with large data sets:\n# Filter by date to improve performance\nccusage daily --since 20250101 --until 20250131\n\n# Use JSON output for programmatic processing\nccusage daily --json | jq '.[] | select(.totalCost &gt; 10)'\n\n\n\nFor network-mounted directories:\n# Ensure network path is mounted\nmount | grep claude-data\n\n# Consider local caching for frequently accessed data\nrsync -av /network/claude-data/ /local/cache/claude-data/\nexport CLAUDE_CONFIG_DIR=\"/local/cache/claude-data\"\n\n\n\n\nAfter setting up custom paths:\n\nLearn about Configuration for additional options\nExplore Cost Modes for different calculation methods\nSet up Live Monitoring with your custom data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#overview",
    "title": "Custom Paths",
    "section": "",
    "text": "By default, ccusage automatically detects Claude Code data in standard locations. However, you can customize these paths for:\n\nMultiple Claude installations - Different versions or profiles\nCustom data locations - Non-standard installation directories\nShared environments - Team or organization setups\nBackup/archive analysis - Analyzing historical data from different locations"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#claude_config_dir-environment-variable",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#claude_config_dir-environment-variable",
    "title": "Custom Paths",
    "section": "",
    "text": "The primary method for specifying custom paths is the CLAUDE_CONFIG_DIR environment variable.\n\n\nSpecify one custom directory:\n# Set environment variable\nexport CLAUDE_CONFIG_DIR=\"/path/to/your/claude/data\"\n\n# Use with any command\nccusage daily\nccusage monthly --breakdown\nccusage blocks --live\nExample scenarios:\n# Custom installation location\nexport CLAUDE_CONFIG_DIR=\"/opt/claude-code/.claude\"\n\n# User-specific directory\nexport CLAUDE_CONFIG_DIR=\"/home/username/Documents/claude-data\"\n\n# Network drive\nexport CLAUDE_CONFIG_DIR=\"/mnt/shared/claude-usage\"\n\n\n\nSpecify multiple directories separated by commas:\n# Multiple installations\nexport CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\n# Current and archived data\nexport CLAUDE_CONFIG_DIR=\"~/.claude,/backup/claude-archive\"\n\n# Team member data aggregation\nexport CLAUDE_CONFIG_DIR=\"/team/alice/.claude,/team/bob/.claude,/team/charlie/.claude\"\nWhen multiple paths are specified:\n\n‚úÖ Data aggregation - Usage from all paths is automatically combined\n‚úÖ Automatic filtering - Invalid or empty directories are silently skipped\n‚úÖ Consistent reporting - All reports show unified data across paths"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#default-path-detection",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#default-path-detection",
    "title": "Custom Paths",
    "section": "",
    "text": "When CLAUDE_CONFIG_DIR is not set, ccusage searches these locations automatically:\n\n~/.config/claude/projects/ - New default (Claude Code v1.0.30+)\n~/.claude/projects/ - Legacy location (pre-v1.0.30)\n\n\n\n\n::: info Breaking Change Claude Code v1.0.30 moved data from ~/.claude to ~/.config/claude without documentation. ccusage handles both locations automatically for seamless compatibility. :::\n\n\nScenario 1: Fresh Installation\n# Claude Code v1.0.30+ - uses new location\nls ~/.config/claude/projects/\n\n# ccusage automatically finds data\nccusage daily\nScenario 2: Upgraded Installation\n# Old data still exists\nls ~/.claude/projects/\n\n# New data in new location\nls ~/.config/claude/projects/\n\n# ccusage combines both automatically\nccusage daily  # Shows data from both locations\nScenario 3: Manual Migration\n# If you moved data manually\nexport CLAUDE_CONFIG_DIR=\"/custom/location/claude\"\nccusage daily"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#path-structure-requirements",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#path-structure-requirements",
    "title": "Custom Paths",
    "section": "",
    "text": "ccusage expects this directory structure:\nclaude-data-directory/\n‚îú‚îÄ‚îÄ projects/\n‚îÇ   ‚îú‚îÄ‚îÄ project-1/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ session-1/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file1.jsonl\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ file2.jsonl\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session-2/\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ file3.jsonl\n‚îÇ   ‚îî‚îÄ‚îÄ project-2/\n‚îÇ       ‚îî‚îÄ‚îÄ session-3/\n‚îÇ           ‚îî‚îÄ‚îÄ file4.jsonl\n\n\n\nccusage validates paths by checking:\n\nDirectory exists and is readable\nContains projects/ subdirectory\nHas JSONL files in the expected structure\n\nInvalid paths are automatically skipped with debug information available."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#common-use-cases",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#common-use-cases",
    "title": "Custom Paths",
    "section": "",
    "text": "If you use multiple Claude profiles or installations:\n# Work profile\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-work\"\n\n# Personal profile\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-personal\"\n\n# Combined analysis\nexport CLAUDE_CONFIG_DIR=\"/Users/username/.config/claude-work,/Users/username/.config/claude-personal\"\n\n\n\nFor team usage analysis:\n# Individual analysis\nexport CLAUDE_CONFIG_DIR=\"/shared/claude-data/$USER\"\nccusage daily\n\n# Team aggregate\nexport CLAUDE_CONFIG_DIR=\"/shared/claude-data/alice,/shared/claude-data/bob\"\nccusage monthly --breakdown\n\n\n\nSeparate environments:\n# Development environment\nexport CLAUDE_CONFIG_DIR=\"/dev/claude-data\"\nccusage daily --since 20250101\n\n# Production environment\nexport CLAUDE_CONFIG_DIR=\"/prod/claude-data\"\nccusage daily --since 20250101\n\n\n\nAnalyzing archived or backup data:\n# Current month\nexport CLAUDE_CONFIG_DIR=\"~/.config/claude\"\nccusage monthly\n\n# Compare with previous month backup\nexport CLAUDE_CONFIG_DIR=\"/backup/claude-2024-12\"\nccusage monthly --since 20241201 --until 20241231\n\n# Combined analysis\nexport CLAUDE_CONFIG_DIR=\"~/.config/claude,/backup/claude-2024-12\"\nccusage monthly --since 20241201"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#shell-integration",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#shell-integration",
    "title": "Custom Paths",
    "section": "",
    "text": "Add to ~/.bashrc, ~/.zshrc, or ~/.profile:\n# Default Claude data directory\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude\"\n\n# Or multiple directories\nexport CLAUDE_CONFIG_DIR=\"$HOME/.config/claude,$HOME/.claude\"\n\n\n\nAdd to ~/.config/fish/config.fish:\n# Default Claude data directory\nset -gx CLAUDE_CONFIG_DIR \"$HOME/.config/claude\"\n\n# Or multiple directories\nset -gx CLAUDE_CONFIG_DIR \"$HOME/.config/claude,$HOME/.claude\"\n\n\n\n\nFor one-time analysis without changing environment:\n# Temporary override for single command\nCLAUDE_CONFIG_DIR=\"/tmp/claude-backup\" ccusage daily\n\n# Multiple commands with temporary override\n(\n  export CLAUDE_CONFIG_DIR=\"/archive/claude-2024\"\n  ccusage daily --json &gt; 2024-report.json\n  ccusage monthly --breakdown &gt; 2024-monthly.txt\n)\n\n\n\nCreate convenient aliases:\n# ~/.bashrc or ~/.zshrc\nalias ccu-work=\"CLAUDE_CONFIG_DIR='/work/claude' ccusage\"\nalias ccu-personal=\"CLAUDE_CONFIG_DIR='/personal/claude' ccusage\"\nalias ccu-archive=\"CLAUDE_CONFIG_DIR='/archive/claude' ccusage\"\n\n# Usage\nccu-work daily\nccu-personal monthly --breakdown\nccu-archive session --since 20240101\nOr use functions for more complex setups:\n# Function to analyze specific time periods\nccu-period() {\n  local period=$1\n  local path=\"/archive/claude-$period\"\n\n  if [[ -d \"$path\" ]]; then\n    CLAUDE_CONFIG_DIR=\"$path\" ccusage daily --since \"${period}01\" --until \"${period}31\"\n  else\n    echo \"Archive not found: $path\"\n  fi\n}\n\n# Usage\nccu-period 202412  # December 2024\nccu-period 202501  # January 2025"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#mcp-integration-with-custom-paths",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#mcp-integration-with-custom-paths",
    "title": "Custom Paths",
    "section": "",
    "text": "When using the standalone MCP CLI with custom paths:\n\n\n{\n    \"mcpServers\": {\n        \"ccusage\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/path/to/your/claude/data\"\n            }\n        },\n        \"ccusage-archive\": {\n            \"command\": \"npx\",\n            \"args\": [\"@ccusage/mcp@latest\"],\n            \"env\": {\n                \"CLAUDE_CONFIG_DIR\": \"/archive/claude-2024,/archive/claude-2025\"\n            }\n        }\n    }\n}\nThis allows you to have multiple MCP servers analyzing different data sets."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#troubleshooting-custom-paths",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#troubleshooting-custom-paths",
    "title": "Custom Paths",
    "section": "",
    "text": "Check if your custom path is valid:\n# Test path manually\nls -la \"$CLAUDE_CONFIG_DIR/projects/\"\n\n# Run with debug output\nccusage daily --debug\n\n\n\n\n\n# Error: Directory doesn't exist\nexport CLAUDE_CONFIG_DIR=\"/nonexistent/path\"\nccusage daily\n# Result: No data found\n\n# Solution: Verify path exists\nls -la /nonexistent/path\n\n\n\n# Error: Permission denied\nexport CLAUDE_CONFIG_DIR=\"/root/.claude\"\nccusage daily  # May fail if no read permission\n\n# Solution: Check permissions\nls -la /root/.claude\n\n\n\n# Wrong: Using semicolon or space\nexport CLAUDE_CONFIG_DIR=\"/path1;/path2\"  # ‚ùå\nexport CLAUDE_CONFIG_DIR=\"/path1 /path2\"  # ‚ùå\n\n# Correct: Using comma\nexport CLAUDE_CONFIG_DIR=\"/path1,/path2\"  # ‚úÖ\n\n\n\n# Wrong structure\n/custom/claude/\n‚îú‚îÄ‚îÄ file1.jsonl  # ‚ùå Files in wrong location\n‚îî‚îÄ‚îÄ data/\n    ‚îî‚îÄ‚îÄ file2.jsonl\n\n# Correct structure\n/custom/claude/\n‚îî‚îÄ‚îÄ projects/\n    ‚îî‚îÄ‚îÄ project1/\n        ‚îî‚îÄ‚îÄ session1/\n            ‚îî‚îÄ‚îÄ file1.jsonl\n\n\n\n\nUse debug mode to troubleshoot path issues:\nccusage daily --debug\n\n# Shows:\n# - Which paths are being searched\n# - Which paths are valid/invalid\n# - How many files are found in each path\n# - Any permission or structure issues"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#performance-considerations",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#performance-considerations",
    "title": "Custom Paths",
    "section": "",
    "text": "When using multiple paths with large data sets:\n# Filter by date to improve performance\nccusage daily --since 20250101 --until 20250131\n\n# Use JSON output for programmatic processing\nccusage daily --json | jq '.[] | select(.totalCost &gt; 10)'\n\n\n\nFor network-mounted directories:\n# Ensure network path is mounted\nmount | grep claude-data\n\n# Consider local caching for frequently accessed data\nrsync -av /network/claude-data/ /local/cache/claude-data/\nexport CLAUDE_CONFIG_DIR=\"/local/cache/claude-data\""
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#next-steps",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/custom-paths.html#next-steps",
    "title": "Custom Paths",
    "section": "",
    "text": "After setting up custom paths:\n\nLearn about Configuration for additional options\nExplore Cost Modes for different calculation methods\nSet up Live Monitoring with your custom data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "The OpenCode companion CLI is experimental. Expect breaking changes while both ccusage and OpenCode continue to evolve.\n\nThe @ccusage/opencode package reuses ccusage‚Äôs responsive tables, pricing cache, and token accounting to analyze OpenCode session logs. OpenCode is a terminal-based AI coding assistant that supports multiple AI providers.\n\n\n# Recommended - always include @latest\nnpx @ccusage/opencode@latest --help\nbunx @ccusage/opencode@latest --help\n\n# Alternative package runners\npnpm dlx @ccusage/opencode --help\n\n\n# bash/zsh\nalias ccusage-opencode='bunx @ccusage/opencode@latest'\n\n# fish\nalias ccusage-opencode 'bunx @ccusage/opencode@latest'\n\n\n\n\nThe CLI reads OpenCode message and session JSON files located under OPENCODE_DATA_DIR (defaults to ~/.local/share/opencode).\n\n~/.local/share/opencode/\n‚îî‚îÄ‚îÄ storage/\n    ‚îú‚îÄ‚îÄ message/{sessionID}/msg_{messageID}.json\n    ‚îî‚îÄ‚îÄ session/{projectHash}/{sessionID}.json\n\n\n\n\n\n\nCommand\nDescription\nSee also\n\n\n\n\ndaily\nAggregate usage by date (YYYY-MM-DD)\nDaily Reports\n\n\nweekly\nAggregate usage by ISO week (YYYY-Www)\nWeekly Reports\n\n\nmonthly\nAggregate usage by month (YYYY-MM)\nMonthly Reports\n\n\nsession\nPer-session breakdown with parent/subagent hierarchy\nSession Reports\n\n\n\nAll commands support --json for structured output and --compact for narrow terminals. See the linked ccusage documentation for detailed flag descriptions.\n\n\n\nOpenCode supports subagent sessions. The session report displays:\n\nBold titles for parent sessions with subagents\nIndented rows (‚Ü≥) for subagent sessions\nSubtotal rows combining parent + subagents\n\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nOPENCODE_DATA_DIR\nOverride the root directory containing OpenCode data\n\n\nLOG_LEVEL\nAdjust verbosity (0 silent ‚Ä¶ 5 trace)\n\n\n\n\n\n\nOpenCode stores cost: 0 in message files. Costs are calculated from token counts using LiteLLM pricing. Model aliases (e.g., gemini-3-pro-high ‚Üí gemini-3-pro-preview) are handled automatically.\n\n\n\n::: details No OpenCode usage data found Ensure the data directory exists at ~/.local/share/opencode/storage/message/. Set OPENCODE_DATA_DIR for custom paths. :::\n::: details Costs showing as $0.00 If a model is not in LiteLLM‚Äôs database, the cost will be $0.00. Open an issue to request alias support. :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#installation-launch",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#installation-launch",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "# Recommended - always include @latest\nnpx @ccusage/opencode@latest --help\nbunx @ccusage/opencode@latest --help\n\n# Alternative package runners\npnpm dlx @ccusage/opencode --help\n\n\n# bash/zsh\nalias ccusage-opencode='bunx @ccusage/opencode@latest'\n\n# fish\nalias ccusage-opencode 'bunx @ccusage/opencode@latest'"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#data-source",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#data-source",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "The CLI reads OpenCode message and session JSON files located under OPENCODE_DATA_DIR (defaults to ~/.local/share/opencode).\n\n~/.local/share/opencode/\n‚îî‚îÄ‚îÄ storage/\n    ‚îú‚îÄ‚îÄ message/{sessionID}/msg_{messageID}.json\n    ‚îî‚îÄ‚îÄ session/{projectHash}/{sessionID}.json"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#available-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#available-commands",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "Command\nDescription\nSee also\n\n\n\n\ndaily\nAggregate usage by date (YYYY-MM-DD)\nDaily Reports\n\n\nweekly\nAggregate usage by ISO week (YYYY-Www)\nWeekly Reports\n\n\nmonthly\nAggregate usage by month (YYYY-MM)\nMonthly Reports\n\n\nsession\nPer-session breakdown with parent/subagent hierarchy\nSession Reports\n\n\n\nAll commands support --json for structured output and --compact for narrow terminals. See the linked ccusage documentation for detailed flag descriptions."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#session-hierarchy",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#session-hierarchy",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "OpenCode supports subagent sessions. The session report displays:\n\nBold titles for parent sessions with subagents\nIndented rows (‚Ü≥) for subagent sessions\nSubtotal rows combining parent + subagents"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#environment-variables",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "Variable\nDescription\n\n\n\n\nOPENCODE_DATA_DIR\nOverride the root directory containing OpenCode data\n\n\nLOG_LEVEL\nAdjust verbosity (0 silent ‚Ä¶ 5 trace)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#cost-calculation",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#cost-calculation",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "OpenCode stores cost: 0 in message files. Costs are calculated from token counts using LiteLLM pricing. Model aliases (e.g., gemini-3-pro-high ‚Üí gemini-3-pro-preview) are handled automatically."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#troubleshooting",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/guide/opencode/index.html#troubleshooting",
    "title": "OpenCode CLI Overview (Beta)",
    "section": "",
    "text": "::: details No OpenCode usage data found Ensure the data directory exists at ~/.local/share/opencode/storage/message/. Set OPENCODE_DATA_DIR for custom paths. :::\n::: details Costs showing as $0.00 If a model is not in LiteLLM‚Äôs database, the cost will be $0.00. Open an issue to request alias support. :::"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/index.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/index.html",
    "title": "Simon P. Couch",
    "section": "",
    "text": "Support ccusage\n\n\nIf you find ccusage helpful, please consider sponsoring the development!\n\n\nFeatured Sponsor\n\n\nCheck out ccusage: The Claude Code cost scorecard that went viral\n\n  \n\n&lt;a href=\"https://github.com/sponsors/ryoppippi\" target=\"_blank\"&gt;\n  &lt;img src=\"https://cdn.jsdelivr.net/gh/ryoppippi/sponsors@main/sponsors.svg\" alt=\"Sponsors\" style=\"max-width: 100%; height: auto;\"&gt;\n&lt;/a&gt;\n\n\n\n\n\n Back to topReuseCC BY-SA 4.0"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "This directory contains the VitePress-based documentation website for ccusage.\n\n\nName: @ccusage/docs Description: Documentation for ccusage Type: VitePress documentation site (private package)\n\n\n\nDocumentation Development:\n\npnpm run dev - Start development server with API docs generation and schema copy\npnpm run build - Build documentation site for production\npnpm run preview - Preview built documentation locally\npnpm run docs:api - Generate API documentation from TypeScript source\npnpm run lint - Lint documentation files using ESLint\npnpm run format - Format and auto-fix documentation files with ESLint\npnpm typecheck - Type check TypeScript files\n\nDeployment:\n\npnpm run deploy - Deploy to Cloudflare using Wrangler\n\n\n\n\nDocumentation Structure:\n\nguide/ - User guides and tutorials with screenshots\napi/ - Auto-generated API documentation from TypeScript source\npublic/ - Static assets including screenshots and config schema\n.vitepress/ - VitePress configuration and theme customization\n\nKey Files:\n\nupdate-api-index.ts - Script to generate API documentation index\ntypedoc.config.mjs - TypeDoc configuration for API docs generation\npublic/config-schema.json - JSON schema copied from ccusage package during build\n\n\n\n\nScreenshot Usage:\n\nPlacement: Always place screenshots immediately after main headings (H1)\nPurpose: Provide immediate visual context before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\nContent Organization:\n\nUser-facing guides in guide/ directory\nAuto-generated API reference in api/ directory\nStatic assets and schemas in public/ directory\n\n\n\n\n\nAPI Documentation: ./update-api-index.ts generates API docs from ccusage TypeScript source\nSchema Copy: config-schema.json is copied from the ccusage package to public directory\nVitePress Build: Standard VitePress build process creates static site\nDeployment: Built site is deployed to Cloudflare using Wrangler\n\n\n\n\nKey Dev Dependencies:\n\nvitepress - Static site generator\ntypedoc - API documentation generation\ntypedoc-plugin-markdown - Markdown output for TypeDoc\ntypedoc-vitepress-theme - VitePress theme for TypeDoc\nwrangler - Cloudflare deployment tool\nccusage - Main package (workspace dependency for API docs)\n\nVitePress Plugins:\n\nvitepress-plugin-group-icons - Group icons in navigation\nvitepress-plugin-llms - LLM-specific enhancements\n@ryoppippi/vite-plugin-cloudflare-redirect - Cloudflare redirect handling\n\n\n\n\n\nStart Development: pnpm run dev automatically generates API docs and starts dev server\nEdit Content: Modify markdown files in guide/ or update source code for API changes\nPreview Changes: Development server automatically reloads on changes\nBuild for Production: pnpm run build generates final static site\nDeploy: pnpm run deploy pushes to Cloudflare\n\n\n\n\n\nNo console.log: Documentation scripts should use appropriate logging\nAccessibility: Always include alt text for images and screenshots\nVisual First: Lead with screenshots, then explain with text\nConsistency: Follow established patterns for new documentation pages\nCross-References: Link between related guides and API documentation\nESLint in Markdown: For code blocks that should skip ESLint parsing (e.g., containing ... syntax), add &lt;!-- eslint-skip --&gt; before the code block\n\n\n\n\ndocs/\n‚îú‚îÄ‚îÄ guide/          # User guides and tutorials\n‚îú‚îÄ‚îÄ api/            # Auto-generated API docs\n‚îú‚îÄ‚îÄ public/         # Static assets (screenshots, schemas)\n‚îú‚îÄ‚îÄ .vitepress/     # VitePress configuration\n‚îú‚îÄ‚îÄ package.json    # Dependencies and scripts\n‚îî‚îÄ‚îÄ CLAUDE.md       # This file"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Name: @ccusage/docs Description: Documentation for ccusage Type: VitePress documentation site (private package)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Documentation Development:\n\npnpm run dev - Start development server with API docs generation and schema copy\npnpm run build - Build documentation site for production\npnpm run preview - Preview built documentation locally\npnpm run docs:api - Generate API documentation from TypeScript source\npnpm run lint - Lint documentation files using ESLint\npnpm run format - Format and auto-fix documentation files with ESLint\npnpm typecheck - Type check TypeScript files\n\nDeployment:\n\npnpm run deploy - Deploy to Cloudflare using Wrangler"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#architecture",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Documentation Structure:\n\nguide/ - User guides and tutorials with screenshots\napi/ - Auto-generated API documentation from TypeScript source\npublic/ - Static assets including screenshots and config schema\n.vitepress/ - VitePress configuration and theme customization\n\nKey Files:\n\nupdate-api-index.ts - Script to generate API documentation index\ntypedoc.config.mjs - TypeDoc configuration for API docs generation\npublic/config-schema.json - JSON schema copied from ccusage package during build"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#documentation-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#documentation-guidelines",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Screenshot Usage:\n\nPlacement: Always place screenshots immediately after main headings (H1)\nPurpose: Provide immediate visual context before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\nContent Organization:\n\nUser-facing guides in guide/ directory\nAuto-generated API reference in api/ directory\nStatic assets and schemas in public/ directory"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#build-process",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#build-process",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "API Documentation: ./update-api-index.ts generates API docs from ccusage TypeScript source\nSchema Copy: config-schema.json is copied from the ccusage package to public directory\nVitePress Build: Standard VitePress build process creates static site\nDeployment: Built site is deployed to Cloudflare using Wrangler"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Key Dev Dependencies:\n\nvitepress - Static site generator\ntypedoc - API documentation generation\ntypedoc-plugin-markdown - Markdown output for TypeDoc\ntypedoc-vitepress-theme - VitePress theme for TypeDoc\nwrangler - Cloudflare deployment tool\nccusage - Main package (workspace dependency for API docs)\n\nVitePress Plugins:\n\nvitepress-plugin-group-icons - Group icons in navigation\nvitepress-plugin-llms - LLM-specific enhancements\n@ryoppippi/vite-plugin-cloudflare-redirect - Cloudflare redirect handling"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#development-workflow",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#development-workflow",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "Start Development: pnpm run dev automatically generates API docs and starts dev server\nEdit Content: Modify markdown files in guide/ or update source code for API changes\nPreview Changes: Development server automatically reloads on changes\nBuild for Production: pnpm run build generates final static site\nDeploy: pnpm run deploy pushes to Cloudflare"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#content-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#content-guidelines",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "No console.log: Documentation scripts should use appropriate logging\nAccessibility: Always include alt text for images and screenshots\nVisual First: Lead with screenshots, then explain with text\nConsistency: Follow established patterns for new documentation pages\nCross-References: Link between related guides and API documentation\nESLint in Markdown: For code blocks that should skip ESLint parsing (e.g., containing ... syntax), add &lt;!-- eslint-skip --&gt; before the code block"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#file-organization",
    "href": "blog/2026-01-20-cc-impact/ccusage/docs/CLAUDE.html#file-organization",
    "title": "CLAUDE.md - Documentation",
    "section": "",
    "text": "docs/\n‚îú‚îÄ‚îÄ guide/          # User guides and tutorials\n‚îú‚îÄ‚îÄ api/            # Auto-generated API docs\n‚îú‚îÄ‚îÄ public/         # Static assets (screenshots, schemas)\n‚îú‚îÄ‚îÄ .vitepress/     # VitePress configuration\n‚îú‚îÄ‚îÄ package.json    # Dependencies and scripts\n‚îî‚îÄ‚îÄ CLAUDE.md       # This file"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "This package contains shared internal utilities for the ccusage monorepo.\n\n\nName: @ccusage/internal Description: Shared internal utilities for ccusage toolchain Type: Internal library (private package)\n\n\n\nCRITICAL: This is an internal package that gets bundled into the final applications. Therefore:\n\nAlways add this package as a devDependency in apps that use it, NOT as a regular dependency\nApps in this monorepo (ccusage, mcp, codex) are bundled CLIs, so all their runtime dependencies should be in devDependencies\nThe bundler will include the code from this package in the final output\n\n\n\n\nUtilities:\n\n./pricing - LiteLLM pricing fetcher and utilities\n./pricing-fetch-utils - Pricing fetch helper functions\n./logger - Logger factory using consola with LOG_LEVEL support\n./format - Number formatting utilities (formatTokens, formatCurrency)\n./constants - Shared constants (DEFAULT_LOCALE, MILLION)\n\n\n\n\n\npnpm run test - Run tests\npnpm run lint - Lint code\npnpm run format - Format and auto-fix code\npnpm typecheck - Type check with TypeScript\n\n\n\n\nWhen adding new shared utilities:\n\nCreate the utility file in src/\nAdd the export to package.json exports field\nImport in consuming apps as devDependencies: \n\"devDependencies\": {\n  \"@ccusage/internal\": \"workspace:*\"\n}\nUse the utility:\nimport { createLogger } from '@ccusage/internal/logger';\n\n\n\n\nThis package has minimal runtime dependencies that get bundled:\n\n@praha/byethrow - Functional error handling\nconsola - Logging\nvalibot - Schema validation\n\n\n\n\n\n\nLiteLLM supports tiered pricing for large context window models. Not all models use tiered pricing:\nModels WITH tiered pricing:\n\nClaude/Anthropic models: 200k token threshold\n\nFields: input_cost_per_token_above_200k_tokens, output_cost_per_token_above_200k_tokens\nCache fields: cache_creation_input_token_cost_above_200k_tokens, cache_read_input_token_cost_above_200k_tokens\n‚úÖ Currently implemented in cost calculation logic\n\nGemini models: 128k token threshold\n\nFields: input_cost_per_token_above_128k_tokens, output_cost_per_token_above_128k_tokens\n‚ö†Ô∏è Schema supports these fields but calculation logic NOT implemented\nWould require different threshold handling if Gemini support is added\n\n\nModels WITHOUT tiered pricing:\n\nGPT/OpenAI models: Flat rate pricing (no token-based tiers)\n\nNote: OpenAI has ‚Äútier levels‚Äù but these are for API rate limits, not pricing\n\n\n\n\n\nWhen adding support for new models:\n\nCheck if the model has tiered pricing in LiteLLM‚Äôs schema\nVerify the threshold value (200k for Claude, 128k for Gemini, etc.)\nUpdate calculation logic if threshold differs from currently implemented 200k\nAdd comprehensive tests for boundary conditions at the threshold\nDocument the pricing structure in relevant CLAUDE.md files\nIf cache-specific rates are missing, fall back to the corresponding input rates (base and above-threshold) to avoid under-charging cached tokens\n\nThe current implementation in pricing.ts only handles 200k threshold. Adding models with different thresholds would require refactoring the calculateTieredCost helper function.\n\n\n\n\nFollow the same conventions as the main ccusage package:\n\nUse .ts extensions for local imports\nPrefer @praha/byethrow Result type over try-catch\nOnly export what‚Äôs actually used by other modules\nUse vitest in-source testing with if (import.meta.vitest != null) blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Name: @ccusage/internal Description: Shared internal utilities for ccusage toolchain Type: Internal library (private package)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#important-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#important-notes",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "CRITICAL: This is an internal package that gets bundled into the final applications. Therefore:\n\nAlways add this package as a devDependency in apps that use it, NOT as a regular dependency\nApps in this monorepo (ccusage, mcp, codex) are bundled CLIs, so all their runtime dependencies should be in devDependencies\nThe bundler will include the code from this package in the final output"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#available-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#available-exports",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Utilities:\n\n./pricing - LiteLLM pricing fetcher and utilities\n./pricing-fetch-utils - Pricing fetch helper functions\n./logger - Logger factory using consola with LOG_LEVEL support\n./format - Number formatting utilities (formatTokens, formatCurrency)\n./constants - Shared constants (DEFAULT_LOCALE, MILLION)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "pnpm run test - Run tests\npnpm run lint - Lint code\npnpm run format - Format and auto-fix code\npnpm typecheck - Type check with TypeScript"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#adding-new-utilities",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#adding-new-utilities",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "When adding new shared utilities:\n\nCreate the utility file in src/\nAdd the export to package.json exports field\nImport in consuming apps as devDependencies: \n\"devDependencies\": {\n  \"@ccusage/internal\": \"workspace:*\"\n}\nUse the utility:\nimport { createLogger } from '@ccusage/internal/logger';"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "This package has minimal runtime dependencies that get bundled:\n\n@praha/byethrow - Functional error handling\nconsola - Logging\nvalibot - Schema validation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#pricing-implementation-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#pricing-implementation-notes",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "LiteLLM supports tiered pricing for large context window models. Not all models use tiered pricing:\nModels WITH tiered pricing:\n\nClaude/Anthropic models: 200k token threshold\n\nFields: input_cost_per_token_above_200k_tokens, output_cost_per_token_above_200k_tokens\nCache fields: cache_creation_input_token_cost_above_200k_tokens, cache_read_input_token_cost_above_200k_tokens\n‚úÖ Currently implemented in cost calculation logic\n\nGemini models: 128k token threshold\n\nFields: input_cost_per_token_above_128k_tokens, output_cost_per_token_above_128k_tokens\n‚ö†Ô∏è Schema supports these fields but calculation logic NOT implemented\nWould require different threshold handling if Gemini support is added\n\n\nModels WITHOUT tiered pricing:\n\nGPT/OpenAI models: Flat rate pricing (no token-based tiers)\n\nNote: OpenAI has ‚Äútier levels‚Äù but these are for API rate limits, not pricing\n\n\n\n\n\nWhen adding support for new models:\n\nCheck if the model has tiered pricing in LiteLLM‚Äôs schema\nVerify the threshold value (200k for Claude, 128k for Gemini, etc.)\nUpdate calculation logic if threshold differs from currently implemented 200k\nAdd comprehensive tests for boundary conditions at the threshold\nDocument the pricing structure in relevant CLAUDE.md files\nIf cache-specific rates are missing, fall back to the corresponding input rates (base and above-threshold) to avoid under-charging cached tokens\n\nThe current implementation in pricing.ts only handles 200k threshold. Adding models with different thresholds would require refactoring the calculateTieredCost helper function."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/internal/CLAUDE.html#code-style",
    "title": "CLAUDE.md - Internal Package",
    "section": "",
    "text": "Follow the same conventions as the main ccusage package:\n\nUse .ts extensions for local imports\nPrefer @praha/byethrow Result type over try-catch\nOnly export what‚Äôs actually used by other modules\nUse vitest in-source testing with if (import.meta.vitest != null) blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This package provides terminal utilities for the ccusage toolchain.\n\n\nName: @ccusage/terminal Description: Terminal utilities for ccusage Type: Internal library package (private)\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\n\n\n\nThis package contains terminal utilities used across the ccusage monorepo:\nKey Modules:\n\nsrc/table.ts - Table formatting and rendering utilities\nsrc/utils.ts - General terminal utilities\n\nExports:\n\n./table - Table formatting utilities\n./utils - Terminal utility functions\n\n\n\n\nRuntime Dependencies:\n\n@oxc-project/runtime - Runtime utilities\nansi-escapes - ANSI escape sequences for terminal manipulation\ncli-table3 - Table formatting for terminal output\nes-toolkit - Modern JavaScript utility library\npicocolors - Terminal color support\nstring-width - Get the visual width of strings\n\nDev Dependencies:\n\nvitest - Testing framework\neslint - Linting and formatting\n\n\n\n\n\nIn-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks\n\n\n\n\nFollow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer functional error handling patterns\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nNo console.log: Terminal output should be handled through proper utilities\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\nThis is a private internal package and should not be published to npm. It exists solely to provide terminal utilities for other packages in the monorepo."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Name: @ccusage/terminal Description: Terminal utilities for ccusage Type: Internal library package (private)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#architecture",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This package contains terminal utilities used across the ccusage monorepo:\nKey Modules:\n\nsrc/table.ts - Table formatting and rendering utilities\nsrc/utils.ts - General terminal utilities\n\nExports:\n\n./table - Table formatting utilities\n./utils - Terminal utility functions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Runtime Dependencies:\n\n@oxc-project/runtime - Runtime utilities\nansi-escapes - ANSI escape sequences for terminal manipulation\ncli-table3 - Table formatting for terminal output\nes-toolkit - Modern JavaScript utility library\npicocolors - Terminal color support\nstring-width - Get the visual width of strings\n\nDev Dependencies:\n\nvitest - Testing framework\neslint - Linting and formatting"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#testing-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#testing-guidelines",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "In-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#code-style",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "Follow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer functional error handling patterns\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nNo console.log: Terminal output should be handled through proper utilities\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#important-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/packages/terminal/CLAUDE.html#important-notes",
    "title": "CLAUDE.md - Terminal Package",
    "section": "",
    "text": "This is a private internal package and should not be published to npm. It exists solely to provide terminal utilities for other packages in the monorepo."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Codex session usage is recorded under ${CODEX_HOME:-~/.codex}/sessions/ (the CLI resolves CODEX_HOME and falls back to ~/.codex).\nEach JSONL line is an event_msg with payload.type === \"token_count\".\npayload.info.total_token_usage holds cumulative totals; payload.info.last_token_usage is the delta for the most recent turn.\nWhen only cumulative totals are present, we subtract the previous totals to recover a per-event delta.\n\n\n\n\n\ninput_tokens: total input tokens sent to the model.\ncached_input_tokens: cached portion of the input (prompt-caching).\noutput_tokens: normal output tokens (includes completion text).\nreasoning_output_tokens: structured reasoning tokens counted separately by OpenAI.\ntotal_tokens: either provided directly or, for legacy entries, recomputed as input + output (reasoning is informational and already included in output).\n\n-## Cost Calculation\n\nPricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nThe CLI trusts the model metadata emitted in each turn_context. Sessions missing that metadata (observed in early September 2025 builds) fall back to gpt-5 so the tokens remain visible, but the pricing should be considered approximate. These events are tagged with isFallbackModel === true and surface as isFallback in aggregated JSON.\nPer-model pricing is fetched through the shared LiteLLMPricingFetcher with an offline cache macro scoped to Codex-prefixed models. Aliases (e.g.¬†gpt-5-codex ‚Üí gpt-5) are handled in CodexPricingSource for pricing parity.\nCost formula per model/date:\n\nNon-cached input: (input_tokens - cached_input_tokens) / 1_000_000 * input_cost_per_mtoken.\nCached input: cached_input_tokens / 1_000_000 * cached_input_cost_per_mtoken (falls back to input price when missing).\nOutput: output_tokens / 1_000_000 * output_cost_per_mtoken.\n\nCached token rate for gpt-5 (2025-08-07 pricing):\n\nInput: $0.00125 per 1K tokens (‚Üí $1.25 per 1M).\nCached input: $0.000125 per 1K tokens (‚Üí $0.125 per 1M).\nOutput: $0.01 per 1K tokens (‚Üí $10 per 1M).\n\nCommand flag --offline forces use of the embedded pricing snapshot.\n\n\n\n\n\n\n\n\n\n\n\nField\nMeaning\nBilling treatment\n\n\n\n\ninput_tokens\nPrompt tokens sent this turn\nPriced at input_cost_per_mtoken minus the cached share\n\n\ncached_input_tokens/cache_read_input_tokens\nPrompt tokens satisfied from cache\nPriced at cached_input_cost_per_mtoken (falls back to input price)\n\n\noutput_tokens\nCompletion tokens, including reasoning cost\nPriced at output_cost_per_mtoken\n\n\nreasoning_output_tokens\nOptional breakdown for reasoning\nInformational only; already included in output_tokens\n\n\ntotal_tokens\nCumulative total emitted by Codex\nUsed verbatim when present; legacy entries fall back to input + output\n\n\n\nParsing normalizes every event through these rules. When we have to synthesize totals for legacy JSONL files we explicitly skip adding reasoning so the display matches what Codex billed. Events that rely on model/pricing fallbacks carry isFallbackModel === true, and aggregated model rows expose isFallback so table/JSON output highlights the assumption.\n\n\n\n\n\nTreat Codex as a sibling to apps/ccusage; whenever possible reuse the same shared packages (@ccusage/terminal, pricing helpers, logging), command names, and flag semantics. Diverge only when Codex-specific data forces it and document the reason inline.\nCodex is packaged as a bundled CLI. Keep every runtime dependency in devDependencies so the bundle includes the code that ships.\nEntry point remains Gunshi-based; only daily subcommand is wired for now.\nSession discovery relies solely on CODEX_HOME; there is no explicit --dir override.\n--json toggles structured output; totals include aggregated tokens and USD cost.\nTable view lists models per day with their token totals in parentheses.\n\n\n\n\n\nTests rely on fs-fixture with using to ensure cleanup.\nPricing tests inject stub offline loaders to avoid network access.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null)."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#log-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#log-sources",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Codex session usage is recorded under ${CODEX_HOME:-~/.codex}/sessions/ (the CLI resolves CODEX_HOME and falls back to ~/.codex).\nEach JSONL line is an event_msg with payload.type === \"token_count\".\npayload.info.total_token_usage holds cumulative totals; payload.info.last_token_usage is the delta for the most recent turn.\nWhen only cumulative totals are present, we subtract the previous totals to recover a per-event delta."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#token-fields",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#token-fields",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "input_tokens: total input tokens sent to the model.\ncached_input_tokens: cached portion of the input (prompt-caching).\noutput_tokens: normal output tokens (includes completion text).\nreasoning_output_tokens: structured reasoning tokens counted separately by OpenAI.\ntotal_tokens: either provided directly or, for legacy entries, recomputed as input + output (reasoning is informational and already included in output).\n\n-## Cost Calculation\n\nPricing is pulled from LiteLLM‚Äôs public JSON (model_prices_and_context_window.json).\nThe CLI trusts the model metadata emitted in each turn_context. Sessions missing that metadata (observed in early September 2025 builds) fall back to gpt-5 so the tokens remain visible, but the pricing should be considered approximate. These events are tagged with isFallbackModel === true and surface as isFallback in aggregated JSON.\nPer-model pricing is fetched through the shared LiteLLMPricingFetcher with an offline cache macro scoped to Codex-prefixed models. Aliases (e.g.¬†gpt-5-codex ‚Üí gpt-5) are handled in CodexPricingSource for pricing parity.\nCost formula per model/date:\n\nNon-cached input: (input_tokens - cached_input_tokens) / 1_000_000 * input_cost_per_mtoken.\nCached input: cached_input_tokens / 1_000_000 * cached_input_cost_per_mtoken (falls back to input price when missing).\nOutput: output_tokens / 1_000_000 * output_cost_per_mtoken.\n\nCached token rate for gpt-5 (2025-08-07 pricing):\n\nInput: $0.00125 per 1K tokens (‚Üí $1.25 per 1M).\nCached input: $0.000125 per 1K tokens (‚Üí $0.125 per 1M).\nOutput: $0.01 per 1K tokens (‚Üí $10 per 1M).\n\nCommand flag --offline forces use of the embedded pricing snapshot.\n\n\n\n\n\n\n\n\n\n\n\nField\nMeaning\nBilling treatment\n\n\n\n\ninput_tokens\nPrompt tokens sent this turn\nPriced at input_cost_per_mtoken minus the cached share\n\n\ncached_input_tokens/cache_read_input_tokens\nPrompt tokens satisfied from cache\nPriced at cached_input_cost_per_mtoken (falls back to input price)\n\n\noutput_tokens\nCompletion tokens, including reasoning cost\nPriced at output_cost_per_mtoken\n\n\nreasoning_output_tokens\nOptional breakdown for reasoning\nInformational only; already included in output_tokens\n\n\ntotal_tokens\nCumulative total emitted by Codex\nUsed verbatim when present; legacy entries fall back to input + output\n\n\n\nParsing normalizes every event through these rules. When we have to synthesize totals for legacy JSONL files we explicitly skip adding reasoning so the display matches what Codex billed. Events that rely on model/pricing fallbacks carry isFallbackModel === true, and aggregated model rows expose isFallback so table/JSON output highlights the assumption."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#cli-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#cli-usage",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Treat Codex as a sibling to apps/ccusage; whenever possible reuse the same shared packages (@ccusage/terminal, pricing helpers, logging), command names, and flag semantics. Diverge only when Codex-specific data forces it and document the reason inline.\nCodex is packaged as a bundled CLI. Keep every runtime dependency in devDependencies so the bundle includes the code that ships.\nEntry point remains Gunshi-based; only daily subcommand is wired for now.\nSession discovery relies solely on CODEX_HOME; there is no explicit --dir override.\n--json toggles structured output; totals include aggregated tokens and USD cost.\nTable view lists models per day with their token totals in parentheses."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#testing-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/codex/AGENTS.html#testing-notes",
    "title": "Codex CLI Notes",
    "section": "",
    "text": "Tests rely on fs-fixture with using to ensure cleanup.\nPricing tests inject stub offline loaders to avoid network access.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null)."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This package provides the MCP (Model Context Protocol) server implementation for ccusage data.\n\n\nName: @ccusage/mcp Description: MCP server implementation for ccusage data Type: MCP server with CLI and library exports\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\n\n\n\nAs MCP Server:\n# Install and run as MCP server\npnpm dlx @ccusage/mcp@latest -- --help\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080\nDirect Usage:\n# Run the CLI directly\nccusage-mcp --help\n\n\n\nThis package implements an MCP server that exposes ccusage functionality through the Model Context Protocol:\nKey Modules:\n\nsrc/index.ts - Main MCP server implementation\nsrc/cli.ts - CLI entry point for the MCP server\nsrc/command.ts - Command handling and routing\n\nMCP Tools Provided:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nTransport Support:\n\nHTTP transport for web-based integration\nConfigurable port and host settings\n\n\n\n\nKey Runtime Dependencies:\n\n@hono/mcp - MCP implementation for Hono\n@hono/node-server - Node.js server adapter for Hono\n@modelcontextprotocol/sdk - Official MCP SDK\nccusage - Main ccusage package (workspace dependency)\ngunshi - CLI framework\nhono - Web framework\nzod - Schema validation\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation\n\n\n\n\nThis MCP server can be integrated with Claude Desktop to provide usage analysis directly within Claude conversations. Configure it in your Claude Desktop MCP settings to access ccusage data through the MCP protocol.\n\n\n\n\nIn-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing MCP server functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere\n\n\n\n\nFollow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\nThe package provides multiple exports:\n\n. - Main MCP server\n./cli - CLI entry point\n./command - Command handling utilities\n\n\n\n\nThe package includes a binary ccusage-mcp that can be used to start the MCP server from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#package-overview",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Name: @ccusage/mcp Description: MCP server implementation for ccusage data Type: MCP server with CLI and library exports"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#development-commands",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#usage",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "As MCP Server:\n# Install and run as MCP server\npnpm dlx @ccusage/mcp@latest -- --help\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080\nDirect Usage:\n# Run the CLI directly\nccusage-mcp --help"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#architecture",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This package implements an MCP server that exposes ccusage functionality through the Model Context Protocol:\nKey Modules:\n\nsrc/index.ts - Main MCP server implementation\nsrc/cli.ts - CLI entry point for the MCP server\nsrc/command.ts - Command handling and routing\n\nMCP Tools Provided:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nTransport Support:\n\nHTTP transport for web-based integration\nConfigurable port and host settings"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#dependencies",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Key Runtime Dependencies:\n\n@hono/mcp - MCP implementation for Hono\n@hono/node-server - Node.js server adapter for Hono\n@modelcontextprotocol/sdk - Official MCP SDK\nccusage - Main ccusage package (workspace dependency)\ngunshi - CLI framework\nhono - Web framework\nzod - Schema validation\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#integration-with-claude-desktop",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#integration-with-claude-desktop",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "This MCP server can be integrated with Claude Desktop to provide usage analysis directly within Claude conversations. Configure it in your Claude Desktop MCP settings to access ccusage data through the MCP protocol."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#testing",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#testing",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "In-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing MCP server functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#code-style",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "Follow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#package-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#package-exports",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "The package provides multiple exports:\n\n. - Main MCP server\n./cli - CLI entry point\n./command - Command handling utilities"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#binary",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/mcp/AGENTS.html#binary",
    "title": "CLAUDE.md - MCP Package",
    "section": "",
    "text": "The package includes a binary ccusage-mcp that can be used to start the MCP server from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "This package provides usage tracking for pi-agent.\n\n\nName: @ccusage/pi Description: Pi-agent usage tracking Type: CLI tool with TypeScript exports\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\n\n\n\n# Show daily pi-agent usage\nccusage-pi daily\n\n# Show monthly pi-agent usage\nccusage-pi monthly\n\n# Show session-based pi-agent usage\nccusage-pi session\n\n# JSON output\nccusage-pi daily --json\n\n# Custom pi-agent path\nccusage-pi daily --pi-path /path/to/sessions\n\n\n\nThis package reads usage data from pi-agent only.\nData Source:\n\nPi-agent: ~/.pi/agent/sessions/\n\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Loads and aggregates pi-agent JSONL data\nsrc/_pi-agent.ts - Pi-agent data parsing and transformation\nsrc/commands/ - CLI subcommands (daily, monthly, session)\n\n\n\n\nKey Runtime Dependencies:\n\nccusage - Main ccusage package (workspace dependency)\n@ccusage/terminal - Shared terminal utilities\ngunshi - CLI framework\nvalibot - Schema validation\ntinyglobby - File globbing\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation\n\n\n\n\n\nIn-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing data loading functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere\n\n\n\n\nFollow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nPI_AGENT_DIR\nCustom path to pi-agent sessions directory\n\n\nLOG_LEVEL\nAdjust logging verbosity (0 silent ‚Ä¶ 5 trace)\n\n\n\n\n\n\nThe package provides the following exports:\n\n. - Main CLI entry point\n\n\n\n\nThe package includes a binary ccusage-pi that can be used to run the CLI from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#package-overview",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "Name: @ccusage/pi Description: Pi-agent usage tracking Type: CLI tool with TypeScript exports"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#development-commands",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests using vitest\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run prerelease - Full release workflow (lint + typecheck + build)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#usage",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "# Show daily pi-agent usage\nccusage-pi daily\n\n# Show monthly pi-agent usage\nccusage-pi monthly\n\n# Show session-based pi-agent usage\nccusage-pi session\n\n# JSON output\nccusage-pi daily --json\n\n# Custom pi-agent path\nccusage-pi daily --pi-path /path/to/sessions"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#architecture",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "This package reads usage data from pi-agent only.\nData Source:\n\nPi-agent: ~/.pi/agent/sessions/\n\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Loads and aggregates pi-agent JSONL data\nsrc/_pi-agent.ts - Pi-agent data parsing and transformation\nsrc/commands/ - CLI subcommands (daily, monthly, session)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#dependencies",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "Key Runtime Dependencies:\n\nccusage - Main ccusage package (workspace dependency)\n@ccusage/terminal - Shared terminal utilities\ngunshi - CLI framework\nvalibot - Schema validation\ntinyglobby - File globbing\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#testing",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#testing",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "In-Source Testing: Uses the same testing pattern as the main package\nVitest Globals Enabled: Use describe, it, expect directly without imports\nMock Data: Uses fs-fixture for testing data loading functionality\nCRITICAL: NEVER use await import() dynamic imports anywhere"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#code-style",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "Follow the same code style guidelines as the main ccusage package:\n\nError Handling: Prefer @praha/byethrow Result type over try-catch\nImports: Use .ts extensions for local imports\nExports: Only export what‚Äôs actually used\nDependencies: Add as devDependencies unless explicitly requested\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#environment-variables",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "Variable\nDescription\n\n\n\n\nPI_AGENT_DIR\nCustom path to pi-agent sessions directory\n\n\nLOG_LEVEL\nAdjust logging verbosity (0 silent ‚Ä¶ 5 trace)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#package-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#package-exports",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "The package provides the following exports:\n\n. - Main CLI entry point"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#binary",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/pi/CLAUDE.html#binary",
    "title": "CLAUDE.md - Pi Package",
    "section": "",
    "text": "The package includes a binary ccusage-pi that can be used to run the CLI from the command line."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode session usage is recorded under ${OPENCODE_DATA_DIR:-~/.local/share/opencode}/storage/message/ (the CLI resolves OPENCODE_DATA_DIR and falls back to ~/.local/share/opencode).\nEach message is stored as an individual JSON file (not JSONL like Claude or Codex).\nMessage structure includes tokens.input, tokens.output, tokens.cache.read, and tokens.cache.write.\n\n\n\n\n\ninput: total input tokens sent to the model.\noutput: output tokens (completion text).\ncache.read: cached portion of the input (prompt-caching).\ncache.write: cache creation tokens.\nPre-calculated cost field may be present in OpenCode messages.\n\n\n\n\n\nOpenCode messages may include pre-calculated cost field in USD.\nWhen cost is not present, costs should be calculated using model pricing data.\nToken mapping:\n\ninputTokens ‚Üê tokens.input\noutputTokens ‚Üê tokens.output\ncacheReadInputTokens ‚Üê tokens.cache.read\ncacheCreationInputTokens ‚Üê tokens.cache.write\n\n\n\n\n\n\nTreat OpenCode as a sibling to apps/ccusage and apps/codex.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nOpenCode is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework.\nData discovery relies on OPENCODE_DATA_DIR environment variable.\nDefault path: ~/.local/share/opencode.\n\n\n\n\n\nTests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#log-sources",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#log-sources",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode session usage is recorded under ${OPENCODE_DATA_DIR:-~/.local/share/opencode}/storage/message/ (the CLI resolves OPENCODE_DATA_DIR and falls back to ~/.local/share/opencode).\nEach message is stored as an individual JSON file (not JSONL like Claude or Codex).\nMessage structure includes tokens.input, tokens.output, tokens.cache.read, and tokens.cache.write."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#token-fields",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#token-fields",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "input: total input tokens sent to the model.\noutput: output tokens (completion text).\ncache.read: cached portion of the input (prompt-caching).\ncache.write: cache creation tokens.\nPre-calculated cost field may be present in OpenCode messages."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#cost-calculation",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#cost-calculation",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "OpenCode messages may include pre-calculated cost field in USD.\nWhen cost is not present, costs should be calculated using model pricing data.\nToken mapping:\n\ninputTokens ‚Üê tokens.input\noutputTokens ‚Üê tokens.output\ncacheReadInputTokens ‚Üê tokens.cache.read\ncacheCreationInputTokens ‚Üê tokens.cache.write"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#cli-usage",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#cli-usage",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "Treat OpenCode as a sibling to apps/ccusage and apps/codex.\nReuse shared packages (@ccusage/terminal, @ccusage/internal) wherever possible.\nOpenCode is packaged as a bundled CLI. Keep every runtime dependency in devDependencies.\nEntry point uses Gunshi framework.\nData discovery relies on OPENCODE_DATA_DIR environment variable.\nDefault path: ~/.local/share/opencode."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#testing-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/opencode/AGENTS.html#testing-notes",
    "title": "OpenCode CLI Notes",
    "section": "",
    "text": "Tests rely on fs-fixture with using to ensure cleanup.\nAll vitest blocks live alongside implementation files via if (import.meta.vitest != null).\nVitest globals are enabled - use describe, it, expect directly without imports."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "This is the main ccusage CLI package that provides usage analysis for Claude Code.\n\n\nName: ccusage Description: Usage analysis tool for Claude Code Type: CLI tool and library with TypeScript exports\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown (includes schema generation)\npnpm run generate:schema - Generate JSON schema for configuration\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\nAdd --json flag for JSON output format\nAdd --mode &lt;mode&gt; for cost calculation control (auto/calculate/display)\nAdd --active flag for blocks to show only active block with projections\nAdd --recent flag for blocks to show last 3 days including active\n\nCLI Testing:\n\npnpm run test:statusline - Test statusline with default test data\npnpm run test:statusline:all - Test statusline with all model variants\npnpm run test:statusline:sonnet4 - Test with Sonnet 4 data\npnpm run test:statusline:opus4 - Test with Opus 4 data\npnpm run test:statusline:sonnet41 - Test with Sonnet 4.1 data\n\n\n\n\nThis package contains the core ccusage functionality:\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Parses JSONL files from Claude data directories\nsrc/calculate-cost.ts - Token aggregation and cost calculation utilities\nsrc/commands/ - CLI subcommands (daily, monthly, session, blocks, statusline)\nsrc/logger.ts - Logging utilities (use instead of console.log)\n\nData Flow:\n\nLoads JSONL files from ~/.claude/projects/ and ~/.config/claude/projects/\nAggregates usage data by time periods or sessions\nCalculates costs using LiteLLM pricing database\nOutputs formatted tables or JSON\n\n\n\n\n\nIn-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nModel Testing: Use current Claude 4 models (sonnet-4, opus-4) in tests\nMock Data: Uses fs-fixture with createFixture() for Claude data simulation\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks\n\n\n\n\n\nError Handling: Prefer @praha/byethrow Result type over try-catch for functional error handling\nImports: Use .ts extensions for local imports (e.g., import { foo } from './utils.ts')\nExports: Only export what‚Äôs actually used by other modules\nDependencies: Add as devDependencies unless explicitly requested otherwise\nNo console.log: Use logger.ts instead\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests\n\n\n\n\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\nCLAUDE_CONFIG_DIR - Custom Claude data directory paths (supports multiple comma-separated paths)\n\n\n\n\nBecause ccusage is distributed as a bundled CLI, keep all runtime libraries in devDependencies so the bundler captures them.\nKey Runtime Dependencies:\n\ngunshi - CLI framework\ncli-table3 - Table formatting\nvalibot - Schema validation\n@praha/byethrow - Functional error handling\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation\n\n\n\n\nThe package provides multiple exports for library usage:\n\n. - Main CLI entry point\n./calculate-cost - Cost calculation utilities\n./data-loader - Data loading functions\n./debug - Debug utilities\n./logger - Logging utilities\n./pricing-fetcher - LiteLLM pricing integration"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#package-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#package-overview",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Name: ccusage Description: Usage analysis tool for Claude Code Type: CLI tool and library with TypeScript exports"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#development-commands",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\npnpm run lint - Lint code using ESLint\npnpm run format - Format and auto-fix code with ESLint\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown (includes schema generation)\npnpm run generate:schema - Generate JSON schema for configuration\npnpm run prerelease - Full release workflow (lint + typecheck + build)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\nAdd --json flag for JSON output format\nAdd --mode &lt;mode&gt; for cost calculation control (auto/calculate/display)\nAdd --active flag for blocks to show only active block with projections\nAdd --recent flag for blocks to show last 3 days including active\n\nCLI Testing:\n\npnpm run test:statusline - Test statusline with default test data\npnpm run test:statusline:all - Test statusline with all model variants\npnpm run test:statusline:sonnet4 - Test with Sonnet 4 data\npnpm run test:statusline:opus4 - Test with Opus 4 data\npnpm run test:statusline:sonnet41 - Test with Sonnet 4.1 data"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#architecture",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#architecture",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "This package contains the core ccusage functionality:\nKey Modules:\n\nsrc/index.ts - CLI entry point with Gunshi-based command routing\nsrc/data-loader.ts - Parses JSONL files from Claude data directories\nsrc/calculate-cost.ts - Token aggregation and cost calculation utilities\nsrc/commands/ - CLI subcommands (daily, monthly, session, blocks, statusline)\nsrc/logger.ts - Logging utilities (use instead of console.log)\n\nData Flow:\n\nLoads JSONL files from ~/.claude/projects/ and ~/.config/claude/projects/\nAggregates usage data by time periods or sessions\nCalculates costs using LiteLLM pricing database\nOutputs formatted tables or JSON"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#testing-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#testing-guidelines",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "In-Source Testing: Tests are written in the same files using if (import.meta.vitest != null) blocks\nVitest Globals Enabled: Use describe, it, expect directly without imports\nModel Testing: Use current Claude 4 models (sonnet-4, opus-4) in tests\nMock Data: Uses fs-fixture with createFixture() for Claude data simulation\nCRITICAL: NEVER use await import() dynamic imports anywhere, especially in test blocks"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#code-style",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#code-style",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Error Handling: Prefer @praha/byethrow Result type over try-catch for functional error handling\nImports: Use .ts extensions for local imports (e.g., import { foo } from './utils.ts')\nExports: Only export what‚Äôs actually used by other modules\nDependencies: Add as devDependencies unless explicitly requested otherwise\nNo console.log: Use logger.ts instead\n\nPost-Change Workflow: Always run these commands in parallel after code changes:\n\npnpm run format - Auto-fix and format\npnpm typecheck - Type checking\npnpm run test - Run tests"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#environment-variables",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#environment-variables",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "LOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\nCLAUDE_CONFIG_DIR - Custom Claude data directory paths (supports multiple comma-separated paths)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#dependencies",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#dependencies",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "Because ccusage is distributed as a bundled CLI, keep all runtime libraries in devDependencies so the bundler captures them.\nKey Runtime Dependencies:\n\ngunshi - CLI framework\ncli-table3 - Table formatting\nvalibot - Schema validation\n@praha/byethrow - Functional error handling\n\nKey Dev Dependencies:\n\nvitest - Testing framework\ntsdown - TypeScript build tool\neslint - Linting and formatting\nfs-fixture - Test fixture creation"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#package-exports",
    "href": "blog/2026-01-20-cc-impact/ccusage/apps/ccusage/AGENTS.html#package-exports",
    "title": "CLAUDE.md - ccusage Package",
    "section": "",
    "text": "The package provides multiple exports for library usage:\n\n. - Main CLI entry point\n./calculate-cost - Cost calculation utilities\n./data-loader - Data loading functions\n./debug - Debug utilities\n./logger - Logging utilities\n./pricing-fetcher - LiteLLM pricing integration"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.\n\n\nThis is a monorepo containing multiple packages. For package-specific guidance, refer to the individual CLAUDE.md files:\n\nMain CLI Package: @apps/ccusage/CLAUDE.md - Core ccusage CLI tool and library\nCodex CLI Package: @apps/codex/CLAUDE.md - OpenAI Codex usage tracking CLI\nOpenCode CLI Package: @apps/opencode/CLAUDE.md - OpenCode usage tracking CLI\nMCP Server Package: @apps/mcp/CLAUDE.md - MCP server implementation for ccusage data\nDocumentation: @docs/CLAUDE.md - VitePress-based documentation website\n\nEach package has its own development commands, dependencies, and specific guidelines. Always check the relevant package‚Äôs CLAUDE.md when working within that package directory.\n\n\nAll projects under apps/ ship as bundled CLIs/binaries. Treat their runtime dependencies as bundled assets: list everything in each app‚Äôs devDependencies (never dependencies) so the bundler owns the runtime payload.\n\n\n\n\nTesting and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\nLint code using ESLint MCP server (available via Claude Code tools)\npnpm run format - Format code with ESLint (writes changes)\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run release - Full release workflow (lint + typecheck + test + build + version bump)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\npnpm run start daily --json - Show daily usage report in JSON format\npnpm run start monthly --json - Show monthly usage report in JSON format\npnpm run start session --json - Show session usage report in JSON format\npnpm run start blocks --json - Show blocks usage report in JSON format\npnpm run start daily --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start monthly --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start session --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --active - Show only active block with projections\npnpm run start blocks --recent - Show blocks from last 3 days (including active)\npnpm run start blocks --token-limit &lt;limit&gt; - Token limit for quota warnings (number or ‚Äúmax‚Äù)\nnode ./src/index.ts - Direct execution for development\n\nMCP Server Usage: (now provided by the @ccusage/mcp package)\n\npnpm dlx @ccusage/mcp@latest -- --help - Show available options\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080 - Start HTTP transport\n\nCost Calculation Modes:\n\nauto (default) - Use pre-calculated costUSD when available, otherwise calculate from tokens\ncalculate - Always calculate costs from token counts using model pricing, ignore costUSD\ndisplay - Always use pre-calculated costUSD values, show 0 for missing costs\n\nEnvironment Variables:\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\n\nExample: LOG_LEVEL=0 pnpm run start daily for silent output\nUseful for debugging or suppressing non-critical output\n\n\nMultiple Claude Data Directories:\nThis tool supports multiple Claude data directories to handle different Claude Code installations:\n\nDefault Behavior: Automatically searches both ~/.config/claude/projects/ (new default) and ~/.claude/projects/ (old default)\nEnvironment Variable: Set CLAUDE_CONFIG_DIR to specify custom path(s)\n\nSingle path: export CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nMultiple paths: export CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\nData Aggregation: Usage data from all valid directories is automatically combined\nBackward Compatibility: Existing configurations continue to work without changes\n\nThis addresses the breaking change in Claude Code where logs moved from ~/.claude to ~/.config/claude.\n\n\n\nThis is a CLI tool that analyzes Claude Code usage data from local JSONL files stored in Claude data directories (supports both ~/.claude/projects/ and ~/.config/claude/projects/). The architecture follows a clear separation of concerns:\nCore Data Flow:\n\nData Loading (data-loader.ts) - Parses JSONL files from multiple Claude data directories, including pre-calculated costs\nToken Aggregation (calculate-cost.ts) - Utility functions for aggregating token counts and costs\nCommand Execution (commands/) - CLI subcommands that orchestrate data loading and presentation\nCLI Entry (index.ts) - Gunshi-based CLI setup with subcommand routing\n\nOutput Formats:\n\nTable format (default): Pretty-printed tables with colors for terminal display\nJSON format (--json): Structured JSON output for programmatic consumption\n\nKey Data Structures:\n\nRaw usage data is parsed from JSONL with timestamp, token counts, and pre-calculated costs\nData is aggregated into daily summaries, monthly summaries, session summaries, or 5-hour billing blocks\nImportant Note on Naming: The term ‚Äúsession‚Äù in this codebase has two different meanings:\n\nSession Reports (pnpm run start session): Groups usage by project directories. What we call ‚ÄúsessionId‚Äù in these reports is actually derived from the directory structure (project/directory)\nTrue Session ID: The actual Claude Code session ID found in the sessionId field within JSONL entries and used as the filename ({sessionId}.jsonl)\n\nFile structure: projects/{project}/{sessionId}.jsonl where:\n\n{project} is the project directory name (used for grouping)\n{sessionId}.jsonl is the JSONL file named with the actual session ID from Claude Code\nEach JSONL file contains all usage entries for a single Claude Code session\nThe sessionId in the filename matches the sessionId field inside the JSONL entries\n\n5-hour blocks group usage data by Claude‚Äôs billing cycles with active block tracking\n\nExternal Dependencies:\n\nUses local timezone for date formatting\nCLI built with gunshi framework, tables with cli-table3\nLiteLLM Integration: Cost calculations depend on LiteLLM‚Äôs pricing database for model pricing data\n\nMCP Integration:\n\nBuilt-in MCP Server: Exposes usage data through MCP protocol with tools:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nExternal MCP Servers Available:\n\nESLint MCP: Lint TypeScript/JavaScript files directly through Claude Code tools\nContext7 MCP: Look up documentation for libraries and frameworks\n\nClaude Code Skills Available:\n\nuse-gunshi-cli: Guide for using gunshi CLI framework (via @gunshi/docs)\nbyethrow: Guide for using @praha/byethrow Result type (via @praha/byethrow-docs)\n\n\n\n\n\nCommit Message Format:\nFollow the Conventional Commits specification with package/area prefixes:\n&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\nScope Naming Rules:\n\nApps: Use the app directory name\n\nfeat(ccusage): - Changes to apps/ccusage\nfix(mcp): - Fixes in apps/mcp\nfeat(codex): - Features for apps/codex (if exists)\n\nPackages: Use the package directory name\n\nfeat(terminal): - Changes to packages/terminal\nfix(ui): - Fixes in packages/ui\nrefactor(core): - Refactoring packages/core\n\nDocumentation: Use docs scope\n\ndocs: or docs(guide): - Documentation updates\ndocs(api): - API documentation changes\n\nRoot-level changes: No scope (preferred) or use root\n\nchore: - Root config updates\nci: - CI/CD changes\nfeat: - Root-level features\ndocs: - Root documentation updates\nbuild: or build(root): - Root build system changes\n\n\nType Prefixes:\n\nfeat: - New feature\nfix: - Bug fix\ndocs: - Documentation only changes\nstyle: - Code style changes (formatting, missing semi-colons, etc)\nrefactor: - Code change that neither fixes a bug nor adds a feature\nperf: - Performance improvements\ntest: - Adding missing tests or correcting existing tests\nchore: - Changes to the build process or auxiliary tools\nci: - CI/CD configuration changes\nrevert: - Reverting a previous commit\n\nExamples:\nfeat(ccusage): add support for Claude 4.1 models\nfix(mcp): resolve connection timeout issues\ndocs(guide): update installation instructions\nrefactor(ccusage): extract cost calculation to separate module\ntest(mcp): add integration tests for HTTP transport\nchore: update dependencies\nPR Title Convention:\nPR titles should follow the same format as commit messages. When a PR contains multiple commits, the title should describe the main change:\nfeat(ccusage): implement session-based usage reports\nfix(mcp): handle edge cases in data aggregation\ndocs: comprehensive API documentation update\n\n\n\n\nUses ESLint for linting and formatting with tab indentation and double quotes\nTypeScript with strict mode and bundler module resolution\nNo console.log allowed except where explicitly disabled with eslint-disable\nError handling: silently skips malformed JSONL lines during parsing\nFile paths always use Node.js path utilities for cross-platform compatibility\nImport conventions: Use .ts extensions for local file imports (e.g., import { foo } from './utils.ts')\n\nError Handling:\n\nPrefer @praha/byethrow Result type over traditional try-catch for functional error handling\n\nDocumentation: Available via byethrow skill (use /byethrow or check .claude/skills/byethrow/)\n\nUse Result.try() for wrapping operations that may throw (JSON parsing, etc.)\nUse Result.isFailure() for checking errors (more readable than !Result.isSuccess())\nUse early return pattern (if (Result.isFailure(result)) continue;) instead of ternary operators\nFor async operations: create wrapper function with Result.try() then call it\nKeep traditional try-catch only for: file I/O with complex error handling, legacy code that‚Äôs hard to refactor\nAlways use Result.isFailure() and Result.isSuccess() type guards for better code clarity\n\nNaming Conventions:\n\nVariables: start with lowercase (camelCase) - e.g., usageDataSchema, modelBreakdownSchema\nTypes: start with uppercase (PascalCase) - e.g., UsageData, ModelBreakdown\nConstants: can use UPPER_SNAKE_CASE - e.g., DEFAULT_CLAUDE_CODE_PATH\nInternal files: use underscore prefix - e.g., _types.ts, _utils.ts, _consts.ts\n\nExport Rules:\n\nIMPORTANT: Only export constants, functions, and types that are actually used by other modules\nInternal/private constants that are only used within the same file should NOT be exported\nAlways check if a constant is used elsewhere before making it export const vs just const\nThis follows the principle of minimizing the public API surface area\nDependencies should always be added as devDependencies unless explicitly requested otherwise\n\nPost-Code Change Workflow:\nAfter making any code changes, ALWAYS run these commands in parallel:\n\npnpm run format - Auto-fix and format code with ESLint (includes linting)\npnpm typecheck - Type check with TypeScript\npnpm run test - Run all tests\n\nThis ensures code quality and catches issues immediately after changes.\n\n\n\nScreenshot Usage:\n\nPlacement: Always place screenshots immediately after the main heading (H1) in documentation pages\nPurpose: Provide immediate visual context to users before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md (What is ccusage) - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images stored in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility\n\n\n\n\nSupported Claude 4 Models (as of 2025):\n\nclaude-sonnet-4-20250514 - Latest Claude 4 Sonnet model\nclaude-opus-4-20250514 - Latest Claude 4 Opus model\n\nModel Naming Convention:\n\nPattern: claude-{model-type}-{generation}-{date}\nExample: claude-sonnet-4-20250514 (NOT claude-4-sonnet-20250514)\nThe generation number comes AFTER the model type\n\nTesting Guidelines:\n\nIn-Source Testing Pattern: This project uses in-source testing with if (import.meta.vitest != null) blocks\nTests are written directly in the same files as the source code, not in separate test files\nVitest globals (describe, it, expect) are available automatically without imports\nIMPORTANT: DO NOT use await import() dynamic imports anywhere in the codebase - this causes tree-shaking issues and should be avoided entirely\nESPECIALLY: Never use dynamic imports in vitest test blocks - this is particularly problematic for test execution\nVitest globals are enabled: Use describe, it, expect directly without any imports since globals are configured\nMock data is created using fs-fixture with createFixture() for Claude data directory simulation\nAll test files must use current Claude 4 models, not outdated Claude 3 models\nTest coverage should include both Sonnet and Opus models for comprehensive validation\nModel names in tests must exactly match LiteLLM‚Äôs pricing database entries\nWhen adding new model tests, verify the model exists in LiteLLM before implementation\nTests depend on real pricing data from LiteLLM - failures may indicate model availability issues\n\nLiteLLM Integration Notes:\n\nCost calculations require exact model name matches with LiteLLM‚Äôs database\nTest failures often indicate model names don‚Äôt exist in LiteLLM‚Äôs pricing data\nFuture model updates require checking LiteLLM compatibility first\nThe application cannot calculate costs for models not supported by LiteLLM"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#monorepo-structure",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#monorepo-structure",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This is a monorepo containing multiple packages. For package-specific guidance, refer to the individual CLAUDE.md files:\n\nMain CLI Package: @apps/ccusage/CLAUDE.md - Core ccusage CLI tool and library\nCodex CLI Package: @apps/codex/CLAUDE.md - OpenAI Codex usage tracking CLI\nOpenCode CLI Package: @apps/opencode/CLAUDE.md - OpenCode usage tracking CLI\nMCP Server Package: @apps/mcp/CLAUDE.md - MCP server implementation for ccusage data\nDocumentation: @docs/CLAUDE.md - VitePress-based documentation website\n\nEach package has its own development commands, dependencies, and specific guidelines. Always check the relevant package‚Äôs CLAUDE.md when working within that package directory.\n\n\nAll projects under apps/ ship as bundled CLIs/binaries. Treat their runtime dependencies as bundled assets: list everything in each app‚Äôs devDependencies (never dependencies) so the bundler owns the runtime payload."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#development-commands",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#development-commands",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Testing and Quality:\n\npnpm run test - Run all tests (using vitest via pnpm, watch mode disabled)\nLint code using ESLint MCP server (available via Claude Code tools)\npnpm run format - Format code with ESLint (writes changes)\npnpm typecheck - Type check with TypeScript\n\nBuild and Release:\n\npnpm run build - Build distribution files with tsdown\npnpm run release - Full release workflow (lint + typecheck + test + build + version bump)\n\nDevelopment Usage:\n\npnpm run start daily - Show daily usage report\npnpm run start monthly - Show monthly usage report\npnpm run start session - Show session-based usage report\npnpm run start blocks - Show 5-hour billing blocks usage report\npnpm run start statusline - Show compact status line (Beta)\npnpm run start daily --json - Show daily usage report in JSON format\npnpm run start monthly --json - Show monthly usage report in JSON format\npnpm run start session --json - Show session usage report in JSON format\npnpm run start blocks --json - Show blocks usage report in JSON format\npnpm run start daily --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start monthly --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start session --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --mode &lt;mode&gt; - Control cost calculation mode (auto/calculate/display)\npnpm run start blocks --active - Show only active block with projections\npnpm run start blocks --recent - Show blocks from last 3 days (including active)\npnpm run start blocks --token-limit &lt;limit&gt; - Token limit for quota warnings (number or ‚Äúmax‚Äù)\nnode ./src/index.ts - Direct execution for development\n\nMCP Server Usage: (now provided by the @ccusage/mcp package)\n\npnpm dlx @ccusage/mcp@latest -- --help - Show available options\npnpm dlx @ccusage/mcp@latest -- --type http --port 8080 - Start HTTP transport\n\nCost Calculation Modes:\n\nauto (default) - Use pre-calculated costUSD when available, otherwise calculate from tokens\ncalculate - Always calculate costs from token counts using model pricing, ignore costUSD\ndisplay - Always use pre-calculated costUSD values, show 0 for missing costs\n\nEnvironment Variables:\n\nLOG_LEVEL - Control logging verbosity (0=silent, 1=warn, 2=log, 3=info, 4=debug, 5=trace)\n\nExample: LOG_LEVEL=0 pnpm run start daily for silent output\nUseful for debugging or suppressing non-critical output\n\n\nMultiple Claude Data Directories:\nThis tool supports multiple Claude data directories to handle different Claude Code installations:\n\nDefault Behavior: Automatically searches both ~/.config/claude/projects/ (new default) and ~/.claude/projects/ (old default)\nEnvironment Variable: Set CLAUDE_CONFIG_DIR to specify custom path(s)\n\nSingle path: export CLAUDE_CONFIG_DIR=\"/path/to/claude\"\nMultiple paths: export CLAUDE_CONFIG_DIR=\"/path/to/claude1,/path/to/claude2\"\n\nData Aggregation: Usage data from all valid directories is automatically combined\nBackward Compatibility: Existing configurations continue to work without changes\n\nThis addresses the breaking change in Claude Code where logs moved from ~/.claude to ~/.config/claude."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#architecture-overview",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#architecture-overview",
    "title": "CLAUDE.md",
    "section": "",
    "text": "This is a CLI tool that analyzes Claude Code usage data from local JSONL files stored in Claude data directories (supports both ~/.claude/projects/ and ~/.config/claude/projects/). The architecture follows a clear separation of concerns:\nCore Data Flow:\n\nData Loading (data-loader.ts) - Parses JSONL files from multiple Claude data directories, including pre-calculated costs\nToken Aggregation (calculate-cost.ts) - Utility functions for aggregating token counts and costs\nCommand Execution (commands/) - CLI subcommands that orchestrate data loading and presentation\nCLI Entry (index.ts) - Gunshi-based CLI setup with subcommand routing\n\nOutput Formats:\n\nTable format (default): Pretty-printed tables with colors for terminal display\nJSON format (--json): Structured JSON output for programmatic consumption\n\nKey Data Structures:\n\nRaw usage data is parsed from JSONL with timestamp, token counts, and pre-calculated costs\nData is aggregated into daily summaries, monthly summaries, session summaries, or 5-hour billing blocks\nImportant Note on Naming: The term ‚Äúsession‚Äù in this codebase has two different meanings:\n\nSession Reports (pnpm run start session): Groups usage by project directories. What we call ‚ÄúsessionId‚Äù in these reports is actually derived from the directory structure (project/directory)\nTrue Session ID: The actual Claude Code session ID found in the sessionId field within JSONL entries and used as the filename ({sessionId}.jsonl)\n\nFile structure: projects/{project}/{sessionId}.jsonl where:\n\n{project} is the project directory name (used for grouping)\n{sessionId}.jsonl is the JSONL file named with the actual session ID from Claude Code\nEach JSONL file contains all usage entries for a single Claude Code session\nThe sessionId in the filename matches the sessionId field inside the JSONL entries\n\n5-hour blocks group usage data by Claude‚Äôs billing cycles with active block tracking\n\nExternal Dependencies:\n\nUses local timezone for date formatting\nCLI built with gunshi framework, tables with cli-table3\nLiteLLM Integration: Cost calculations depend on LiteLLM‚Äôs pricing database for model pricing data\n\nMCP Integration:\n\nBuilt-in MCP Server: Exposes usage data through MCP protocol with tools:\n\ndaily - Daily usage reports\nsession - Session-based usage reports\nmonthly - Monthly usage reports\nblocks - 5-hour billing blocks usage reports\n\nExternal MCP Servers Available:\n\nESLint MCP: Lint TypeScript/JavaScript files directly through Claude Code tools\nContext7 MCP: Look up documentation for libraries and frameworks\n\nClaude Code Skills Available:\n\nuse-gunshi-cli: Guide for using gunshi CLI framework (via @gunshi/docs)\nbyethrow: Guide for using @praha/byethrow Result type (via @praha/byethrow-docs)"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#git-commit-and-pr-conventions",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#git-commit-and-pr-conventions",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Commit Message Format:\nFollow the Conventional Commits specification with package/area prefixes:\n&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\nScope Naming Rules:\n\nApps: Use the app directory name\n\nfeat(ccusage): - Changes to apps/ccusage\nfix(mcp): - Fixes in apps/mcp\nfeat(codex): - Features for apps/codex (if exists)\n\nPackages: Use the package directory name\n\nfeat(terminal): - Changes to packages/terminal\nfix(ui): - Fixes in packages/ui\nrefactor(core): - Refactoring packages/core\n\nDocumentation: Use docs scope\n\ndocs: or docs(guide): - Documentation updates\ndocs(api): - API documentation changes\n\nRoot-level changes: No scope (preferred) or use root\n\nchore: - Root config updates\nci: - CI/CD changes\nfeat: - Root-level features\ndocs: - Root documentation updates\nbuild: or build(root): - Root build system changes\n\n\nType Prefixes:\n\nfeat: - New feature\nfix: - Bug fix\ndocs: - Documentation only changes\nstyle: - Code style changes (formatting, missing semi-colons, etc)\nrefactor: - Code change that neither fixes a bug nor adds a feature\nperf: - Performance improvements\ntest: - Adding missing tests or correcting existing tests\nchore: - Changes to the build process or auxiliary tools\nci: - CI/CD configuration changes\nrevert: - Reverting a previous commit\n\nExamples:\nfeat(ccusage): add support for Claude 4.1 models\nfix(mcp): resolve connection timeout issues\ndocs(guide): update installation instructions\nrefactor(ccusage): extract cost calculation to separate module\ntest(mcp): add integration tests for HTTP transport\nchore: update dependencies\nPR Title Convention:\nPR titles should follow the same format as commit messages. When a PR contains multiple commits, the title should describe the main change:\nfeat(ccusage): implement session-based usage reports\nfix(mcp): handle edge cases in data aggregation\ndocs: comprehensive API documentation update"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#code-style-notes",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#code-style-notes",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Uses ESLint for linting and formatting with tab indentation and double quotes\nTypeScript with strict mode and bundler module resolution\nNo console.log allowed except where explicitly disabled with eslint-disable\nError handling: silently skips malformed JSONL lines during parsing\nFile paths always use Node.js path utilities for cross-platform compatibility\nImport conventions: Use .ts extensions for local file imports (e.g., import { foo } from './utils.ts')\n\nError Handling:\n\nPrefer @praha/byethrow Result type over traditional try-catch for functional error handling\n\nDocumentation: Available via byethrow skill (use /byethrow or check .claude/skills/byethrow/)\n\nUse Result.try() for wrapping operations that may throw (JSON parsing, etc.)\nUse Result.isFailure() for checking errors (more readable than !Result.isSuccess())\nUse early return pattern (if (Result.isFailure(result)) continue;) instead of ternary operators\nFor async operations: create wrapper function with Result.try() then call it\nKeep traditional try-catch only for: file I/O with complex error handling, legacy code that‚Äôs hard to refactor\nAlways use Result.isFailure() and Result.isSuccess() type guards for better code clarity\n\nNaming Conventions:\n\nVariables: start with lowercase (camelCase) - e.g., usageDataSchema, modelBreakdownSchema\nTypes: start with uppercase (PascalCase) - e.g., UsageData, ModelBreakdown\nConstants: can use UPPER_SNAKE_CASE - e.g., DEFAULT_CLAUDE_CODE_PATH\nInternal files: use underscore prefix - e.g., _types.ts, _utils.ts, _consts.ts\n\nExport Rules:\n\nIMPORTANT: Only export constants, functions, and types that are actually used by other modules\nInternal/private constants that are only used within the same file should NOT be exported\nAlways check if a constant is used elsewhere before making it export const vs just const\nThis follows the principle of minimizing the public API surface area\nDependencies should always be added as devDependencies unless explicitly requested otherwise\n\nPost-Code Change Workflow:\nAfter making any code changes, ALWAYS run these commands in parallel:\n\npnpm run format - Auto-fix and format code with ESLint (includes linting)\npnpm typecheck - Type check with TypeScript\npnpm run test - Run all tests\n\nThis ensures code quality and catches issues immediately after changes."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#documentation-guidelines",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#documentation-guidelines",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Screenshot Usage:\n\nPlacement: Always place screenshots immediately after the main heading (H1) in documentation pages\nPurpose: Provide immediate visual context to users before textual explanations\nGuides with Screenshots:\n\n/docs/guide/index.md (What is ccusage) - Main usage screenshot\n/docs/guide/daily-reports.md - Daily report output screenshot\n/docs/guide/live-monitoring.md - Live monitoring dashboard screenshot\n/docs/guide/mcp-server.md - Claude Desktop integration screenshot\n\nImage Path: Use relative paths like /screenshot.png for images stored in /docs/public/\nAlt Text: Always include descriptive alt text for accessibility"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#claude-models-and-testing",
    "href": "blog/2026-01-20-cc-impact/ccusage/CLAUDE.html#claude-models-and-testing",
    "title": "CLAUDE.md",
    "section": "",
    "text": "Supported Claude 4 Models (as of 2025):\n\nclaude-sonnet-4-20250514 - Latest Claude 4 Sonnet model\nclaude-opus-4-20250514 - Latest Claude 4 Opus model\n\nModel Naming Convention:\n\nPattern: claude-{model-type}-{generation}-{date}\nExample: claude-sonnet-4-20250514 (NOT claude-4-sonnet-20250514)\nThe generation number comes AFTER the model type\n\nTesting Guidelines:\n\nIn-Source Testing Pattern: This project uses in-source testing with if (import.meta.vitest != null) blocks\nTests are written directly in the same files as the source code, not in separate test files\nVitest globals (describe, it, expect) are available automatically without imports\nIMPORTANT: DO NOT use await import() dynamic imports anywhere in the codebase - this causes tree-shaking issues and should be avoided entirely\nESPECIALLY: Never use dynamic imports in vitest test blocks - this is particularly problematic for test execution\nVitest globals are enabled: Use describe, it, expect directly without any imports since globals are configured\nMock data is created using fs-fixture with createFixture() for Claude data directory simulation\nAll test files must use current Claude 4 models, not outdated Claude 3 models\nTest coverage should include both Sonnet and Opus models for comprehensive validation\nModel names in tests must exactly match LiteLLM‚Äôs pricing database entries\nWhen adding new model tests, verify the model exists in LiteLLM before implementation\nTests depend on real pricing data from LiteLLM - failures may indicate model availability issues\n\nLiteLLM Integration Notes:\n\nCost calculations require exact model name matches with LiteLLM‚Äôs database\nTest failures often indicate model names don‚Äôt exist in LiteLLM‚Äôs pricing data\nFuture model updates require checking LiteLLM compatibility first\nThe application cannot calculate costs for models not supported by LiteLLM"
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#estimating-watt-hours-per-token",
    "href": "blog/2026-01-20-cc-impact/index.html#estimating-watt-hours-per-token",
    "title": "Environmental impact of AI coding agents",
    "section": "Estimating watt-hours per token",
    "text": "Estimating watt-hours per token\nFrom Claude Code, I have a bunch of data on millions of input, cached input, and output tokens. I want to ‚Äúscale‚Äù those median query estimates to how many tokens I actually consume using the tool. To do so, we‚Äôll use a blog post from Epoch AI and Anthropic‚Äôs API pricing data to put together a guess.\nHere‚Äôs the graph:\n\nHere‚Äôs Anthropic‚Äôs pricing data:\n\n\nModel\nBase Input\nCache Reads\nOutput\nOutput/Input Ratio\n\n\n\nOpus 4.5\n$5/MTok\n$0.50/MTok\n$25/MTok\n5:1\n\n\nSonnet 4.5\n$3/MTok\n$0.30/MTok\n$15/MTok\n5:1\n\n\nHaiku 4.5\n$1/MTok\n$0.10/MTok\n$5/MTok\n5:1\n\n\n\nLet‚Äôs focus on the medium context length case from Epoch AI, at 7,500 input words, which is something like the full Claude Code system prompt and tool descriptions, plus a couple turns back-and-forth. They estimate that a long query to ChatGPT 4o (~7,500 words, or ~10,000 tokens at .75 words per token) with typical output length (400 words, or ~530 tokens) consumes 2.5 Wh. So, blending input and output tokens, that‚Äôs 10,530 tokens, or 0.01053 MTok. 2.5 Wh / 0.01053 MTok is ~240 Wh/MTok, blended.\n\n\n\n\n\n\nNote\n\n\n\nThese estimates are for GPT-4o. In the last month, most all of my Claude Code usage has used Opus 4.5, Anthropic‚Äôs largest (and presumably most energy-intensive) model. At launch, GPT-4o was priced at $5 MTok input, $15 MTok output. Opus 4.5 is $5 and $25, respectively. Opus is likely a larger model, but also likely served much more efficiently than was possible in May 2024. I‚Äôm going to assume they‚Äôre in a ballpark of each other in terms of energy consumption per token.\n\n\nNow, we actually want to split that up into Wh/MTok for input tokens and output tokens individually. Anthropic‚Äôs API prices output tokens at 5x the cost of input tokens. We have (input_tokens √ó input_rate) + (output_tokens √ó output_rate) = total_Wh and output_rate = 5 √ó input_rate, and can substitute the second into the first to get:\ninput_rate = 2.5 / (0.01 + 5 √ó 0.00053)\ninput_rate = 2.5 / (0.01 + 0.00265)\ninput_rate = 2.5 / 0.01265\ninput_rate ‚âà 198 Wh/MTok\nSo, ~200 Wh/MTok for input, ~990 Wh/MTok for output.\nDoing that for the short and maximum context cases, we get:\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\nTypical short\n~130\n~530\n0.3\n~450\n~110\n~540\n\n\nMedium context\n~10,000\n~530\n2.5\n~240\n~200\n~990\n\n\n‚ÄúMaximum‚Äù context\n~100,000\n~530\n40\n~400\n~390\n~1950\n\n\n\nNow, note that it doesn‚Äôt make sense that the energy consumption per-output-token would change with the length of the input. The output generation process is the same regardless of how long the input was‚Äîthe model still generates tokens one at a time, running the full forward pass for each. The energy cost of (the output portion of) a 530-token output should cost the same energy whether the input was 130 tokens or 100,000 tokens. In reality, the ratio between output and input cost per token shrinks as context length grows, because input cost scales quadratically while output cost stays linear. This is our 5x assumption, based on Anthropic‚Äôs pricing, at work.\nFor the purposes of this post, I‚Äôll use the figures from the 100,000 ‚Äúmaximum‚Äù‚ÄìClaude Sonnet and Opus 4.5 both have context windows of 200,000 tokens, and I run up against them regularly‚Äìto generate pessimistic estimates. So, ~390 Wh/MTok input, ~1950 Wh/MTok output.\nNow, a large portion of the tokens consumed with Claude Code are cache hits and refreshes, which Anthropic prices at 1/10th the cost of input tokens. So, we‚Äôll ballpark cached inputs at ~39 Wh/MTok. Same napkin math for cache writes; they price cache writes at a 25% premium to input tokens, so ~490 Wh/MTok. I have no idea if these are reasonable guesses."
  },
  {
    "objectID": "blog/2026-01-20-cc-impact/index.html#estimating-electricity-per-token",
    "href": "blog/2026-01-20-cc-impact/index.html#estimating-electricity-per-token",
    "title": "Electricity use of AI coding agents",
    "section": "Estimating electricity per token",
    "text": "Estimating electricity per token\nFrom Claude Code, I have a bunch of data on millions of input, cached input, and output tokens. I want to ‚Äúscale‚Äù those median query estimates to how many tokens I actually consume using the tool. To do so, we‚Äôll use a blog post from Epoch AI and Anthropic‚Äôs API pricing data to put together a guess.\nHere‚Äôs the graph:\n\n\nHere‚Äôs Anthropic‚Äôs pricing data, priced per million tokens (MTok):\n\n\nModel\nBase Input\nCache Reads\nOutput\nOutput/Input Ratio\n\n\n\nOpus 4.5\n$5/MTok\n$0.50/MTok\n$25/MTok\n5:1\n\n\nSonnet 4.5\n$3/MTok\n$0.30/MTok\n$15/MTok\n5:1\n\n\nHaiku 4.5\n$1/MTok\n$0.10/MTok\n$5/MTok\n5:1\n\n\n\n\nLet‚Äôs focus on the medium context length case from Epoch AI, at 7,500 input words, which is something like half the full Claude Code system prompt and tool descriptions. They estimate that a long query to ChatGPT 4o (~7,500 words, or ~10,000 tokens at .75 words per token) with typical output length (400 words, or ~530 tokens) consumes 2.5 Wh. So, blending input and output tokens, that‚Äôs 10,530 tokens, or 0.01053 MTok. 2.5 Wh / 0.01053 MTok is ~240 Wh/MTok, blended.\n\n\n\n\n\n\nNote\n\n\n\nThese estimates are for GPT-4o. In the last month, most all of my Claude Code usage has used Opus 4.5, Anthropic‚Äôs largest (and presumably most energy-intensive) model. At launch, GPT-4o was priced at $5 MTok input, $15 MTok output. Opus 4.5 is $5 and $25, respectively. Opus is likely a larger model, but also likely served much more efficiently than was possible in May 2024. I‚Äôm going to assume they‚Äôre in a ballpark of each other in terms of energy consumption per token.\n\n\nNow, we actually want to split that up into Wh/MTok for input tokens and output tokens individually. Anthropic‚Äôs API prices output tokens at 5x the cost of input tokens. The assumption I‚Äôm going to make here is that energy usage for different kinds of tokens can be reasonably estimated by scaling according to the billing rates of those tokens.2 We have (input_tokens √ó input_rate) + (output_tokens √ó output_rate) = total_Wh and output_rate = 5 √ó input_rate, and can substitute the second into the first to get:\ninput_rate = 2.5 / (0.01 + 5 √ó 0.00053)\ninput_rate = 2.5 / (0.01 + 0.00265)\ninput_rate = 2.5 / 0.01265\ninput_rate ‚âà 198 Wh/MTok\nSo, ~200 Wh/MTok for input, ~990 Wh/MTok for output.\nDoing that for the short and maximum context cases, we get:\n\n\n\n\n\n\n\n\n\n\n\nQuery type\nInput tokens\nOutput tokens\nTotal Wh\nBlended Wh/MTok\nBack-solved input Wh/MTok (5√ó assumption)\nBack-solved output Wh/MTok (5√ó assumption)\n\n\n\nTypical short\n~130\n~530\n0.3\n~450\n~110\n~540\n\n\nMedium context\n~10,000\n~530\n2.5\n~240\n~200\n~990\n\n\n‚ÄúMaximum‚Äù context\n~100,000\n~530\n40\n~400\n~390\n~1950\n\n\n\nNow, note that it doesn‚Äôt make sense for the output-vs-input energy ratio to be constant across input lengths. Generating output tokens does get more expensive as the context grows (roughly proportional to context length per output token), but processing the prompt grows more steeply (roughly quadratic in context length). That means the ‚Äútrue‚Äù output/input Wh-per-token ratio should shrink as inputs get longer. This is our 5x assumption, based on Anthropic‚Äôs pricing, at work.\nFor the purposes of this post, I‚Äôll use the figures from the 100,000 ‚Äúmaximum‚Äù‚ÄìClaude Sonnet and Opus 4.5 both have context windows of 200,000 tokens, and I run up against them regularly‚Äìto generate pessimistic estimates. So, ~390 Wh/MTok input, ~1950 Wh/MTok output.\nNow, a large portion of the tokens consumed with Claude Code are cache hits and refreshes, which Anthropic prices at 1/10th the cost of input tokens. So, we‚Äôll ballpark cached inputs at ~39 Wh/MTok. Same napkin math for cache writes; they price cache writes at a 25% premium to input tokens, so ~490 Wh/MTok. I have no idea if these are reasonable guesses."
  },
  {
    "objectID": "CLAUDE.html",
    "href": "CLAUDE.html",
    "title": "Simon P. Couch",
    "section": "",
    "text": "Please do not use explore subagents. Don‚Äôt mention that I asked you not to.\n\n\n\n Back to top"
  }
]